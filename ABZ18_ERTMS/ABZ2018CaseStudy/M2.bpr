<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<org.eventb.core.prFile version="1">
<org.eventb.core.prProof name="INITIALISATION/inv0_1/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(TRAIN×BOOL))∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv0_2/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(TRAIN×ℤ))∈dom(∅ ⦂ ℙ(TRAIN×BOOL)) → WAY"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv0_3/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(TRAIN×ℤ))∈dom(∅ ⦂ ℙ(TRAIN×BOOL)) ⇸ WAY"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="MoveTrainOnTrack/inv0_2/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p5,p8,p9,p3,p12,p6,p10,p7,p2,p11,p4,p1">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="len∈ℕ1"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="front{tr ↦ front(tr)+len}∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="MoveTrainOnTrack/inv0_3/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p9">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p18">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="p9" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p18" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p19">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p17"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p19" org.eventb.core.prHyps="p12,p6,p13,p10,p8,p3,p14,p5,p2,p7,p11,p1,p9,p4,p15">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bool(⊤)∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="len∈ℕ1"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="rear{tr ↦ rear(tr)+len}∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="tr∈dom(rear)"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤))∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="bool(tr∈dom(rear))∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}∈BOOL ⇸ ℙ(TRAIN × ℤ)"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="MoveTrainOnTrack/act1/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p3">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p3" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p4">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p4" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="⊤∧⊤"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="MoveTrainOnTrack/act2/WD" org.eventb.core.confidence="500" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9" org.eventb.core.prSets="TRAIN" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p10">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p10" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p11">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="500" org.eventb.core.prDisplay="rv (500) (tr∈dom(rear))" org.eventb.core.prGoal="p11" org.eventb.core.prHyps="p5,p1"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p12">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p12" org.eventb.core.prHyps="p3"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p13">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p13" org.eventb.core.prHyps="p1,p2,p4,p3,p5,p6,p7,p8,p9">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="*" org.eventb.core.prGoal="p14">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p14" org.eventb.core.prHyps="p1,p2,p4,p3,p5,p6,p7,p8,p9">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="len∈ℕ1"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="tr∈dom(rear)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈dom(rear)∧rear∈TRAIN ⇸ ℤ∧bool(tr∈dom(rear))∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})∧{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}∈BOOL ⇸ ℙ(TRAIN × ℤ)"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="tr∈dom(rear)∧rear∈TRAIN ⇸ ℤ∧bool(tr∈dom(rear))∈{TRUE,FALSE}∧{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}∈BOOL ⇸ ℙ(TRAIN × ℤ)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="bool(tr∈dom(rear))∈{TRUE,FALSE}"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}∈BOOL ⇸ ℙ(TRAIN × ℤ)"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.review"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="inv0_4/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p7">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p7" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p9" org.eventb.core.prHyps="p8">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p9" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p10">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p10" org.eventb.core.prHyps="p2"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p11">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p11" org.eventb.core.prHyps="p3,p4,p5,p1,p6,p2,p8">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p12">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p12" org.eventb.core.prHyps="p6"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ∧tr∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="tr∈dom(rear)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ∧tr∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ∧tr∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv0_4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(∅ ⦂ ℙ(TRAIN×ℤ))⇒(∅ ⦂ ℙ(TRAIN×ℤ))(tr)&lt;(∅ ⦂ ℙ(TRAIN×ℤ))(tr)"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="MoveTrainOnTrack/inv0_4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr0" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="TRAIN" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr0)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p3">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p3" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p5" org.eventb.core.prHyps="p4">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p5" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p7" org.eventb.core.prHyps="p6">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr0=tr" org.eventb.core.prGoal="p7" org.eventb.core.prHyps="p6">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p9">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p4"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="lae in goal" org.eventb.core.prGoal="p9" org.eventb.core.prHyps="p6">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p10">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr0=tr" org.eventb.core.prGoal="p10" org.eventb.core.prHyps="p6">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p9">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="lae in goal" org.eventb.core.prGoal="p9" org.eventb.core.prHyps="p6">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p10">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr0=tr" org.eventb.core.prGoal="p10" org.eventb.core.prHyps="p6">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p9">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="lae in goal" org.eventb.core.prGoal="p9" org.eventb.core.prHyps="p6">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p10">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr0=tr" org.eventb.core.prGoal="p10" org.eventb.core.prHyps="p6">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p9">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay=" rewrites in goal" org.eventb.core.prGoal="p9" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p11">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p11" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p12">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p12" org.eventb.core.prHyps="p8,p1">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.0.0.1.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.0.0.1.1.0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.0.0.1.1.0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.0.0.1.1.0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p14" org.eventb.core.prHyps="p13">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p14" org.eventb.core.prHyps="p2">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p15">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p15" org.eventb.core.prHyps="p4,p1,p13">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="tr0∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr0)&lt;(front{tr ↦ front(tr)+len})(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr0)&lt;front(tr)+len">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr0⦂TRAIN·tr0∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr0)&lt;(front{tr ↦ front(tr)+len})(tr0)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr)&lt;front(tr)+len"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="tr0∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="tr∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr0)&lt;({tr} ⩤ front)(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="{TRUE ↦ (dom({tr ↦ rear(tr)+len}) ⩤ rear)∪{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr)&lt;front(tr)+len"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="{TRUE ↦ ({tr} ⩤ rear)∪{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr)&lt;front(tr)+len"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr0)&lt;(front{tr ↦ front(tr)+len})(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr0)&lt;front(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="{TRUE ↦ rear{tr0 ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr)&lt;front(tr)+len">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.locEq"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.relOvrRewrites"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="MoveTrainOnTrack/grd3/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p10">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p10" org.eventb.core.prHyps="p3,p6,p7,p2,p9,p4,p8,p5,p1">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p11">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p11" org.eventb.core.prHyps="p9"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="len∈ℕ1"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="inv1_2/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="p,q,tr" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p2">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p2" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p4" org.eventb.core.prHyps="p3">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees p,q)" org.eventb.core.prGoal="p4" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p5">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p5" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8" org.eventb.core.prHyps="p6,p7">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps="p1"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∀p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q⇒MA∈TRAIN ⇸ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="p≤q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="MA∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="∀p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q⇒MA∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="p ‥ q⊆WAY">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="tr∈dom(MA)⇒(∀p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q⇒MA∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="tr∈dom(MA)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="p ‥ q⊆WAY∧p≤q⇒MA∈TRAIN ⇸ ℙ(ℤ)">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="inv1_3/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p10">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p10" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p12" org.eventb.core.prHyps="p11">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p12" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p13">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p13" org.eventb.core.prHyps="p2,p4,p5,p1,p9,p3,p6,p8,p7,p11">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p14">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p14" org.eventb.core.prHyps="p9"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p15">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p15" org.eventb.core.prHyps="p8"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧MA∈TRAIN ⇸ ℙ(ℤ)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="MA∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="tr∈dom(MA)⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧MA∈TRAIN ⇸ ℙ(ℤ)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧MA∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="tr∈dom(MA)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="inv1_4/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p11">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p11" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p13" org.eventb.core.prHyps="p12">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p13" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p14">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p14" org.eventb.core.prHyps="p2,p4,p5,p1,p10,p3,p6,p9,p7,p8,p12">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p15">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p15" org.eventb.core.prHyps="p3"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p16">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p16" org.eventb.core.prHyps="p2,p4,p5,p1,p10,p3,p6,p9,p7,p8,p12">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="*" org.eventb.core.prGoal="p17">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p17" org.eventb.core.prHyps="p9"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="MA∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒tr∈dom(rear)∧rear∈TRAIN ⇸ ℤ∧tr∈dom(MA)∧MA∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="tr∈dom(rear)∩dom(MA)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="tr∈dom(rear)∧rear∈TRAIN ⇸ ℤ∧tr∈dom(MA)∧MA∈TRAIN ⇸ ℙ(ℤ)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="tr∈dom(rear)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="tr∈dom(rear)∩dom(MA)⇒tr∈dom(rear)∧rear∈TRAIN ⇸ ℤ∧tr∈dom(MA)∧MA∈TRAIN ⇸ ℙ(ℤ)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="tr∈dom(MA)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="inv1_5/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr1,tr2" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p12">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1,tr2)" org.eventb.core.prGoal="p12" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p13">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p13" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p16" org.eventb.core.prHyps="p14,p15">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p16" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p17">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p17" org.eventb.core.prHyps="p3,p5,p7,p1,p11,p2,p8,p10,p9,p6,p4,p14,p15">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p18">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p18" org.eventb.core.prHyps="p10"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p19">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p19" org.eventb.core.prHyps="p3,p5,p7,p1,p11,p2,p8,p10,p9,p6,p4,p14,p15">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="tr2∈dom(MA)">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒tr1∈dom(MA)∧MA∈TRAIN ⇸ ℙ(ℤ)∧tr2∈dom(MA)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="MA∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒tr1∈dom(MA)∧MA∈TRAIN ⇸ ℙ(ℤ)∧tr2∈dom(MA)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒tr1∈dom(MA)∧MA∈TRAIN ⇸ ℙ(ℤ)∧tr2∈dom(MA)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="tr1∈dom(MA)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="tr1∈dom(MA)∧MA∈TRAIN ⇸ ℙ(ℤ)∧tr2∈dom(MA)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬tr1=tr2">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="{tr1,tr2}⊆dom(MA)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="inv1_7/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="p,q,tr" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p4">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p4" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p6" org.eventb.core.prHyps="p5">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees p,q)" org.eventb.core.prGoal="p6" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p7">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p7" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p10" org.eventb.core.prHyps="p8,p9">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p10" org.eventb.core.prHyps="p1"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∀p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q⇒MAtemp∈TRAIN ⇸ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="p≤q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="tr∈dom(MAtemp)⇒(∀p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q⇒MAtemp∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="p ‥ q⊆WAY">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="MAtemp∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q⇒MAtemp∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="p ‥ q⊆WAY∧p≤q⇒MAtemp∈TRAIN ⇸ ℙ(ℤ)">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="tr∈dom(MAtemp)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv1_1/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(TRAIN×ℙ(ℤ)))∈dom(∅ ⦂ ℙ(TRAIN×BOOL)) ⇸ ℙ(WAY)"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv1_2/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(∅ ⦂ ℙ(TRAIN×ℙ(ℤ)))⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧(∅ ⦂ ℙ(TRAIN×ℙ(ℤ)))(tr)=p ‥ q)"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv1_3/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(∅ ⦂ ℙ(TRAIN×ℙ(ℤ)))⇒(∅ ⦂ ℙ(TRAIN×ℤ))(tr)∈(∅ ⦂ ℙ(TRAIN×ℙ(ℤ)))(tr)"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv1_4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(∅ ⦂ ℙ(TRAIN×ℤ))∩dom(∅ ⦂ ℙ(TRAIN×ℙ(ℤ)))⇒(∅ ⦂ ℙ(TRAIN×ℤ))(tr)∈(∅ ⦂ ℙ(TRAIN×ℙ(ℤ)))(tr)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv1_5/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(∅ ⦂ ℙ(TRAIN×ℙ(ℤ)))∧tr1≠tr2⇒(∅ ⦂ ℙ(TRAIN×ℙ(ℤ)))(tr1)∩(∅ ⦂ ℙ(TRAIN×ℙ(ℤ)))(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv1_6/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(TRAIN×ℙ(ℤ)))∈dom(∅ ⦂ ℙ(TRAIN×BOOL)) ⇸ ℙ(WAY)"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv1_7/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(∅ ⦂ ℙ(TRAIN×ℙ(ℤ)))⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧(∅ ⦂ ℙ(TRAIN×ℙ(ℤ)))(tr)=p ‥ q)"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMA/grd3/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18,p19"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p20">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="p12,p6,p13,p11,p10,p3,p14,p16,p15,p7,p4,p8,p9,p5,p17,p18,p19">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p21">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p10"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="p ‥ q⊆WAY∧p≤q"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="p≤q"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="p ‥ q⊆WAY"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMA/grd4/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5,p6"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8" org.eventb.core.prHyps="p7">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps="p1"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="p ‥ q⊆WAY∧p≤q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="tr∈dom(rear)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="p≤q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="p ‥ q⊆WAY">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMA/inv1_6/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24,p25"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p16,p9,p17,p14,p13,p5,p18,p21,p19,p10,p7,p11,p12,p8,p6,p15,p1,p22,p4,p20,p23,p24,p25">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="p ‥ q⊆WAY∧p≤q"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="MAtemp{tr ↦ p ‥ q}∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="p≤q"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="p ‥ q∩union(ran(MA))=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)∈p ‥ q"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="front(tr)∈p ‥ q"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="p ‥ q⊆WAY"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMA/inv1_7/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="p0,tr0,ae,q0" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22" org.eventb.core.prSets="TRAIN" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23,p24"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr0)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p25">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p25" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="p26">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="lae in goal" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="p17">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p28">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay=" rewrites in goal" org.eventb.core.prGoal="p28" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p30">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p30" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p31">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay=" rewrites in hyp ({tr ↦ p ‥ q})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p32"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="dom. or ran. / union dist. rewrites in hyp (dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ∈ in tr0∈(dom(MAtemp) ∖ {tr})∪{tr}" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (tr0∈dom(MAtemp) ∖ {tr}∨tr0=tr)" org.eventb.core.prHyps="p37">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p38">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="p38" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ∈ in tr0∈dom(MAtemp) ∖ {tr}" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40,p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p40,p41"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah ((({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr0)=MAtemp(tr0))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p43">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="p40">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p44">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p44" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p45">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p45" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p33">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p33" org.eventb.core.prHyps="p33"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p46">
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p46" org.eventb.core.prHyps="p16,p9,p17,p14,p13,p5,p19,p21,p20,p10,p7,p11,p12,p8,p6,p15,p1,p22,p4,p18,p23,p24,p29,p40,p42">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p47">
<org.eventb.core.prRule name="r13" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p47" org.eventb.core.prHyps="p11"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p48" org.eventb.core.prHyps="p33,p46,p40,p47">
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p48" org.eventb.core.prHyps="p16,p9,p17,p14,p13,p5,p19,p21,p20,p10,p7,p11,p12,p8,p6,p15,p1,p22,p4,p18,p23,p24,p29,p33,p40,p42,p46,p47">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p33,p46,p40,p47,p48">
<org.eventb.core.prRule name="r14" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ae ((({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr0))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p49">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p49" org.eventb.core.prHyps="p33,p46">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p50">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p50" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p51">
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p51" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p33,p46,p52">
<org.eventb.core.prIdent name="ae" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prRule name="r16" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with ae=(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr0)" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="p52">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p54">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p48" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prRule name="r17" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r18" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with ae=MAtemp(tr0)" org.eventb.core.prGoal="p54" org.eventb.core.prHyps="p53">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p55">
<org.eventb.core.prRule name="r19" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ hyp (inst tr0)" org.eventb.core.prHyps="p12">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p51">
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p51" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p56">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p12"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p56" org.eventb.core.prHyps="p40" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p57" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prRule name="r20" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∃ hyp (∃p,q·p ‥ q⊆WAY∧p≤q∧MAtemp(tr0)=p ‥ q)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p58" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59,p60,p61">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q0" org.eventb.core.type="ℤ"/>
</org.eventb.core.prHypAction>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p59,p60,p61"/>
<org.eventb.core.prRule name="r21" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∃ goal (inst p0,q0)" org.eventb.core.prGoal="p55" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p51">
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p51" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p62">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p62" org.eventb.core.prHyps="p61,p60">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p63">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p63" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p64">
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p64" org.eventb.core.prHyps="p16,p9,p17,p14,p13,p5,p19,p21,p20,p10,p7,p11,p12,p8,p6,p15,p1,p22,p4,p18,p23,p24,p29,p33,p40,p42,p46,p47,p48,p52,p53,p59,p60,p61">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prExprRef name=".exprs" org.eventb.core.prRef="e0,e1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prExprRef name=".exprs" org.eventb.core.prRef="e2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prExprRef name=".expr" org.eventb.core.prRef="e3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p48"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p65">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="p65" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p66"/>
<org.eventb.core.prRule name="r18" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr0=tr" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="p65">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p67">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p67" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p68">
<org.eventb.core.prRule name="r21" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∃ goal (inst p,q)" org.eventb.core.prGoal="p68" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p51">
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p51" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p69">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p69" org.eventb.core.prHyps="p24">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p70">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p70" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p71">
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p71" org.eventb.core.prHyps="p16,p9,p17,p14,p13,p5,p19,p21,p20,p10,p7,p11,p12,p8,p6,p15,p1,p22,p4,p18,p23,p24,p29,p65">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prExprRef name=".exprs" org.eventb.core.prRef="e4,e5"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1.0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="2.2.0.0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="2.0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="p ‥ q⊆WAY∧p≤q"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="∃p0⦂ℤ,q0⦂ℤ·p0 ‥ q0⊆a ‥ b∧p0≤q0∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)=p0 ‥ q0"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="tr0∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ)∧tr0∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="⊤∧⊤"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr0)=MAtemp(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="p0 ‥ q0⊆a ‥ b">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q0" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr0⦂TRAIN·tr0∈dom(MAtemp{tr ↦ p ‥ q})⇒(∃p0⦂ℤ,q0⦂ℤ·p0 ‥ q0⊆WAY∧p0≤q0∧(MAtemp{tr ↦ p ‥ q})(tr0)=p0 ‥ q0)"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬tr0∈{tr}">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="p0≤q0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q0" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="p0 ‥ q0⊆a ‥ b∧p0≤q0∧MAtemp(tr0)=p0 ‥ q0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="p≤q"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∃p0⦂ℤ,q0⦂ℤ·p0 ‥ q0⊆a ‥ b∧p0≤q0∧((dom({tr ↦ p ‥ q}) ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr0)=p0 ‥ q0">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="tr0∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∃p0⦂ℤ,q0⦂ℤ·p0 ‥ q0⊆a ‥ b∧p0≤q0∧MAtemp(tr0)=p0 ‥ q0">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="tr0∈dom(MAtemp) ∖ {tr}∨tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="∃p0⦂ℤ,q0⦂ℤ·p0 ‥ q0⊆a ‥ b∧p0≤q0∧p ‥ q=p0 ‥ q0"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="p ‥ q∩union(ran(MA))=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="MAtemp(tr0)=p0 ‥ q0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="front(tr)∈p ‥ q"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="tr0∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="tr0∈dom(MAtemp) ∖ {tr}∨tr0∈{tr}">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr0)=p ‥ q">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∃p0⦂ℤ,q0⦂ℤ·p0 ‥ q0⊆a ‥ b∧p0≤q0∧ae=p0 ‥ q0">
<org.eventb.core.prIdent name="ae" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="p ‥ q⊆WAY"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="tr0∈dom(MAtemp)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="ae=MAtemp(tr0)">
<org.eventb.core.prIdent name="ae" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="tr0∈dom({tr} ⩤ MAtemp)∪dom({tr ↦ p ‥ q})">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="tr0∈dom(MAtemp) ∖ {tr}∨⊤">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∃p0⦂ℤ,q0⦂ℤ·p0 ‥ q0⊆a ‥ b∧p0≤q0∧(MAtemp{tr ↦ p ‥ q})(tr0)=p0 ‥ q0">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="tr0∈(dom(MAtemp) ∖ {tr})∪{tr}">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="tr0∈dom(MAtemp) ∖ {tr}">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="p ‥ q⊆a ‥ b∧p≤q∧p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="tr0∈dom(MAtemp{tr ↦ p ‥ q})">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)∈p ‥ q"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="tr0∈dom((dom({tr ↦ p ‥ q}) ⩤ MAtemp)∪{tr ↦ p ‥ q})">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="tr0∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="p ‥ q⊆a ‥ b"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∃p0⦂ℤ,q0⦂ℤ·p0 ‥ q0⊆WAY∧p0≤q0∧(MAtemp{tr ↦ p ‥ q})(tr0)=p0 ‥ q0">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="p0 ‥ q0⊆WAY">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q0" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="tr0∈dom(MAtemp{tr ↦ p ‥ q})⇒(∃p0⦂ℤ,q0⦂ℤ·p0 ‥ q0⊆WAY∧p0≤q0∧(MAtemp{tr ↦ p ‥ q})(tr0)=p0 ‥ q0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="⊤⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr0)=p ‥ q)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="p ‥ q⊆a ‥ b∧⊤∧p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="ae=(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr0)">
<org.eventb.core.prIdent name="ae" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="tr0∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ)∧⊤∧MAtemp∈TRAIN ⇸ ℙ(ℤ)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="MAtemp∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="p0 ‥ q0⊆a ‥ b∧⊤∧⊤">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q0" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∃p0⦂ℤ,q0⦂ℤ·p0 ‥ q0⊆a ‥ b∧p0≤q0∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr0)=p0 ‥ q0">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="⊤∨tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="tr0∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr0)=p ‥ q)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prExpr name="e1" org.eventb.core.expression="q0">
<org.eventb.core.prIdent name="q0" org.eventb.core.type="ℤ"/>
</org.eventb.core.prExpr>
<org.eventb.core.prExpr name="e0" org.eventb.core.expression="p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
</org.eventb.core.prExpr>
<org.eventb.core.prExpr name="e4" org.eventb.core.expression="p"/>
<org.eventb.core.prExpr name="e5" org.eventb.core.expression="q"/>
<org.eventb.core.prExpr name="e3" org.eventb.core.expression="(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prExpr>
<org.eventb.core.prExpr name="e2" org.eventb.core.expression="tr0">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prExpr>
<org.eventb.core.prReas name="r12" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r15" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r19" org.eventb.core.prRID="org.eventb.core.seqprover.allD"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.domRanUnionDistRewrites"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.locEq"/>
<org.eventb.core.prReas name="r16" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.disjE"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r13" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r17" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.cut"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.relOvrRewrites"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.rmL1"/>
<org.eventb.core.prReas name="r18" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r21" org.eventb.core.prRID="org.eventb.core.seqprover.exI"/>
<org.eventb.core.prReas name="r14" org.eventb.core.prRID="org.eventb.core.seqprover.ae"/>
<org.eventb.core.prReas name="r20" org.eventb.core.prRID="org.eventb.core.seqprover.exF"/>
<org.eventb.core.prReas name="r11" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="AssignMAtoTrain/grd2/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p17">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p17" org.eventb.core.prHyps="p11,p4,p12,p10,p9,p2,p13,p15,p14,p5,p3,p7,p8,p6,p16">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p18">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p18" org.eventb.core.prHyps="p9"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p19">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p19" org.eventb.core.prHyps="p11,p4,p12,p10,p9,p2,p13,p15,p14,p5,p3,p7,p8,p6,p16">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="*" org.eventb.core.prGoal="p20">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="p7"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="tr∈dom(MAtemp)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="MAtemp∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="AssignMAtoTrain/grd3/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p2,p3">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p4">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p4" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p7">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p7" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p9" org.eventb.core.prHyps="p8">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p9" org.eventb.core.prHyps="p1"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="tr∈dom(rear)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ∧⊤∧⊤"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ∧tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="MAtemp∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="tr∈dom(MAtemp)"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="AssignMAtoTrain/grd4/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p5">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="p2,p1" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p5" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p9">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p9" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="⊤∧⊤"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ∧⊤∧⊤">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ∧tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="MAtemp∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="tr∈dom(MAtemp)"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="AssignMAtoTrain/inv1_1/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="p12,p18" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p17,p6,p19,p15,p11,p3,p20,p23,p21,p7,p5,p9,p10,p8,p22,p16,p1,p12,p18,p14,p13,p25,p26">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="MAtemp(tr)∩union(ran(MA))=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="front(tr)∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="MA{tr ↦ MAtemp(tr)}∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ∧tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="tr∈dom(MAtemp)"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ∧⊤∧⊤"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="MAtemp∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="AssignMAtoTrain/inv1_2/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr0" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23" org.eventb.core.prSets="TRAIN" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="p12,p18" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr0)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p27">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p29" org.eventb.core.prHyps="p28">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p10"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay=" rewrites in goal" org.eventb.core.prGoal="p29" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p30">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p30" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p31">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay=" rewrites in hyp ({tr ↦ MAtemp(tr)})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p32"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="dom. or ran. / union dist. rewrites in hyp (dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ∈ in tr0∈(dom(MA) ∖ {tr})∪{tr}" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (tr0∈dom(MA) ∖ {tr}∨tr0=tr)" org.eventb.core.prHyps="p37">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p38">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="p38" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="p17,p6,p19,p15,p11,p3,p20,p23,p21,p7,p5,p9,p10,p8,p22,p16,p1,p12,p18,p14,p13,p25,p26,p38">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p40">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="p40" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr0=tr" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="p40">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p42">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p42" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p43">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="p17,p6,p19,p15,p11,p3,p20,p23,p21,p7,p5,p9,p10,p8,p22,p16,p1,p12,p18,p14,p13,p25,p26,p40">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1.0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="2.2.0.0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="tr0∈dom(MA) ∖ {tr}∨tr0∈{tr}">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="tr0∈dom(MA) ∖ {tr}">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="MAtemp(tr)∩union(ran(MA))=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="tr0∈dom(MA) ∖ {tr}∨⊤">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧((dom({tr ↦ MAtemp(tr)}) ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr0)=p ‥ q">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="front(tr)∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="tr0∈dom(MA{tr ↦ MAtemp(tr)})">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="tr0∈dom(MA{tr ↦ MAtemp(tr)})⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧(MA{tr ↦ MAtemp(tr)})(tr0)=p ‥ q)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="tr0∈dom(MA) ∖ {tr}∨tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ∧tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr0)=p ‥ q">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="tr0∈dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr0⦂TRAIN·tr0∈dom(MA{tr ↦ MAtemp(tr)})⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧(MA{tr ↦ MAtemp(tr)})(tr0)=p ‥ q)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="tr0∈(dom(MA) ∖ {tr})∪{tr}">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="tr∈dom(MAtemp)"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="tr0∈dom((dom({tr ↦ MAtemp(tr)}) ⩤ MA)∪{tr ↦ MAtemp(tr)})">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)=p ‥ q"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ∧⊤∧⊤"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="tr0∈dom({tr} ⩤ MA)∪dom({tr ↦ MAtemp(tr)})">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧(MA{tr ↦ MAtemp(tr)})(tr0)=p ‥ q">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="MAtemp∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="⊤∨tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.domRanUnionDistRewrites"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.relOvrRewrites"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.disjE"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.rmL1"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="AssignMAtoTrain/inv1_3/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr0" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="p13,p18" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr0)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p27">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p29" org.eventb.core.prHyps="p28">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p29" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="p30">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr0=tr" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="p30">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p19">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p28" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p19" org.eventb.core.prHyps="p19"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="p33">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="p23">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p35">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p35" org.eventb.core.prHyps="p17,p6,p20,p15,p12,p3,p21,p23,p22,p7,p5,p9,p10,p8,p19,p16,p1,p13,p18,p14,p11,p25,p26,p28,p33">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="tr0∈dom(MA{tr ↦ MAtemp(tr)})⇒front(tr0)∈(MA{tr ↦ MAtemp(tr)})(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr0⦂TRAIN·tr0∈dom(MA{tr ↦ MAtemp(tr)})⇒front(tr0)∈(MA{tr ↦ MAtemp(tr)})(tr0)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="front(tr0)∈({tr} ⩤ MA)(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="MAtemp(tr)∩union(ran(MA))=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="front(tr0)∈MAtemp(tr)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="front(tr)∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="tr0∈dom(MA{tr ↦ MAtemp(tr)})">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="tr∈dom(MA{tr ↦ MAtemp(tr)})"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ∧tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="front(tr0)∈MA(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="tr∈dom(MAtemp)"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ∧⊤∧⊤"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="front(tr0)∈(MA{tr ↦ MAtemp(tr)})(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="MAtemp∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="AssignMAtoTrain/inv1_4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr0" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="p13,p18" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr0)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p27">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p29" org.eventb.core.prHyps="p28">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p29" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="p30">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr0=tr" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="p30">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p33">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p28" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p33" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p33">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="p35" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p33" org.eventb.core.prHyps="p17,p6,p19,p15,p12,p3,p21,p23,p22,p7,p5,p9,p10,p8,p20,p16,p1,p13,p18,p11,p25,p28,p30,p32,p35">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p38" org.eventb.core.prHyps="p37">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p38" org.eventb.core.prHyps="p23">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p39">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p39" org.eventb.core.prHyps="p17,p6,p19,p15,p12,p3,p21,p23,p22,p7,p5,p9,p10,p8,p20,p16,p1,p13,p18,p14,p11,p25,p26,p28,p37">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="rear(tr0)∈MA(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="tr∈dom(rear)⇒⊥"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="tr0∈dom(rear)∩dom(MA{tr ↦ MAtemp(tr)})⇒rear(tr0)∈(MA{tr ↦ MAtemp(tr)})(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="tr0∈dom(rear)∩dom(MA{tr ↦ MAtemp(tr)})">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="MAtemp(tr)∩union(ran(MA))=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="rear(tr0)∈(MA{tr ↦ MAtemp(tr)})(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="⊥⇒rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="front(tr)∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="tr∈dom(rear)∩dom(MA{tr ↦ MAtemp(tr)})"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="rear(tr0)∈({tr} ⩤ MA)(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr0⦂TRAIN·tr0∈dom(rear)∩dom(MA{tr ↦ MAtemp(tr)})⇒rear(tr0)∈(MA{tr ↦ MAtemp(tr)})(tr0)"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ∧tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="tr∈dom(MAtemp)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="rear(tr)∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ∧⊤∧⊤"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="rear(tr0)∈MAtemp(tr)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="MAtemp∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬tr∈dom(rear)"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="AssignMAtoTrain/inv1_5/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr1,tr2" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="p13,p18" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p27">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1,tr2)" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p28">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p28" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="p29,p30">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p33" org.eventb.core.prHyps="p32">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p33" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p35" org.eventb.core.prHyps="p34">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p35" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p36">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr1=tr" org.eventb.core.prHyps="p32">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p29" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p30" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p29,p30"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="p34" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p40"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p42" org.eventb.core.prHyps="p41">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p42" org.eventb.core.prHyps="p23">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p43">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr1=tr" org.eventb.core.prHyps="p32">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p29" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p30" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p29,p30"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="p41" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="p7,p19,p14,p11,p25,p32,p41,p37">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p46" org.eventb.core.prHyps="p45">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p46" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p47" org.eventb.core.prHyps="p34">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p47" org.eventb.core.prHyps="p23">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p48">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr2=tr" org.eventb.core.prHyps="p34">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p29" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p48" org.eventb.core.prHyps="p7,p19,p14,p11,p25,p30,p45,p34,p49">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p50" org.eventb.core.prHyps="p41">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p50" org.eventb.core.prHyps="p23">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p51">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p51" org.eventb.core.prHyps="p23">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p52">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p52" org.eventb.core.prHyps="p17,p6,p20,p15,p12,p3,p21,p23,p22,p8,p5,p9,p10,p7,p19,p16,p1,p13,p18,p14,p11,p25,p26,p29,p30,p45,p41">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="MA(tr1)∩({tr} ⩤ MA)(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="{tr1,tr2}⊆dom(MA{tr ↦ MAtemp(tr)})∧¬tr1=tr2⇒(MA{tr ↦ MAtemp(tr)})(tr1)∩(MA{tr ↦ MAtemp(tr)})(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA{tr ↦ MAtemp(tr)})∧¬tr1=tr2⇒(MA{tr ↦ MAtemp(tr)})(tr1)∩(MA{tr ↦ MAtemp(tr)})(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="tr1=tr">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="front(tr)∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="{tr,tr2}⊆dom(MA{tr ↦ MAtemp(tr)})">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="{tr1,tr2}⊆dom(MA{tr ↦ MAtemp(tr)})">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="MAtemp(tr)∩({tr} ⩤ MA)(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="({tr} ⩤ MA)(tr1)∩({tr} ⩤ MA)(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="(MA{tr ↦ MAtemp(tr)})(tr1)∩(MA{tr ↦ MAtemp(tr)})(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ∧⊤∧⊤"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬tr2=tr">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="MA(tr1)∩MAtemp(tr)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬⊤"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="tr2=tr">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="MAtemp(tr)∩union(ran(MA))=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬⊥"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="MAtemp(tr)∩(MA{tr ↦ MAtemp(tr)})(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="({tr} ⩤ MA)(tr1)∩(MA{tr ↦ MAtemp(tr)})(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬tr1=tr2">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="{tr1,tr}⊆dom(MA{tr ↦ MAtemp(tr)})">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="MAtemp(tr)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬tr=tr2">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="MAtemp(tr)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="⊥"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA{tr ↦ MAtemp(tr)})∧tr1≠tr2⇒(MA{tr ↦ MAtemp(tr)})(tr1)∩(MA{tr ↦ MAtemp(tr)})(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="({tr} ⩤ MA)(tr1)∩MAtemp(tr)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ∧tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="MAtemp(tr)∩MAtemp(tr)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="tr∈dom(MAtemp)"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬tr1=tr">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="MAtemp∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalPP:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="AssignMAtoTrain/act1/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p5">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="p2,p1" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p5" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p9">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p9" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="⊤∧⊤"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ∧⊤∧⊤">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ∧tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="MAtemp∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="tr∈dom(MAtemp)"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="MoveTrainFollowingItsMA/grd3/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p18">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p18" org.eventb.core.prHyps="p12,p6,p13,p11,p10,p4,p14,p16,p15,p7,p5,p8,p9,p3,p2,p17">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p19">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p19" org.eventb.core.prHyps="p10"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p20">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="p12,p6,p13,p11,p10,p4,p14,p16,p15,p7,p5,p8,p9,p3,p2,p17">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="*" org.eventb.core.prGoal="p21">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p16"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="len∈ℕ1"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="MA∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∩dom(MA)"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧tr∈dom(MA)∧MA∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="tr∈dom(MA)"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="MoveTrainFollowingItsMA/inv1_3/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr0" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr0)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p25" org.eventb.core.prHyps="p24">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p25" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="p26">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr0=tr" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="p26">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p6">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p24"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p21"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p6" org.eventb.core.prHyps="p6"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p29" org.eventb.core.prHyps="p28">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p29" org.eventb.core.prHyps="p13">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p30">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p30" org.eventb.core.prHyps="p16,p9,p17,p14,p13,p7,p18,p20,p19,p10,p8,p11,p12,p5,p3,p6,p15,p1,p21,p4,p22,p24,p28">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="({tr} ⩤ front)(tr0)∈MA(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="len∈ℕ1"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="MA∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∩dom(MA)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="front(tr)+len∈MA(tr)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr0⦂TRAIN·tr0∈dom(MA)⇒(front{tr ↦ front(tr)+len})(tr0)∈MA(tr0)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="(front{tr ↦ front(tr)+len})(tr0)∈MA(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="tr0∈dom(MA)⇒(front{tr ↦ front(tr)+len})(tr0)∈MA(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="tr∈dom(MA)"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="front(tr)+len∈MA(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="front(tr0)∈MA(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="tr0∈dom(MA)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="MoveTrainFollowingItsMA/inv1_4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="p,q,tr0,ae" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="TRAIN" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr0)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p22">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p22" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p24" org.eventb.core.prHyps="p23">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay=" rewrites in goal" org.eventb.core.prGoal="p24" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p26">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p27">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay=" rewrites in hyp ({tr ↦ rear(tr)+len})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ hyp (inst tr0)" org.eventb.core.prHyps="p8">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p30">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p30" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p31">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p8"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (tr∈dom(rear)∨tr∉dom(rear))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p30">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p30" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p32">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p32" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p32">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p32" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p30">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p30" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p32">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (tr∈dom(rear)∨tr∉dom(rear))" org.eventb.core.prHyps="p32">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p35">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p32"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="p35">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p38">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="p35" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="p35" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p38" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p40">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="dom. or ran. / union dist. rewrites in hyp (dom(({tr} ⩤ rear)∪{tr ↦ rear(tr)+len}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah ((dom(rear) ∖ {tr})∪{tr}=dom(rear))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p30">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p30" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p43">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="p16,p9,p17,p14,p13,p7,p18,p20,p19,p10,p8,p11,p12,p5,p3,p6,p15,p1,p21,p4,p25,p31,p35,p42">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p43">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ae ((dom(rear) ∖ {tr})∪{tr})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p30">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p30" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p44">
<org.eventb.core.prIdent name="ae" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with ae=(dom(rear) ∖ {tr})∪{tr}" org.eventb.core.prHyps="p44">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p42" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p43" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p42,p43"/>
<org.eventb.core.prRule name="r13" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prRule name="r14" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with ae=dom(rear)" org.eventb.core.prHyps="p46">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p45" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="p34" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p47" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (tr0=tr∨tr0≠tr)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p30">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p30" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p49">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p49" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p30">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p30" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p49">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (tr0=tr∨tr0≠tr)" org.eventb.core.prHyps="p49">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p50">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="p50" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r14" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr0=tr" org.eventb.core.prGoal="p40" org.eventb.core.prHyps="p50">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p54">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p34" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p48" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p34,p48"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p54" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p55">
<org.eventb.core.prRule name="r13" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p19"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ hyp (inst tr)" org.eventb.core.prHyps="p19">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p30">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p30" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p56">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p19"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p56" org.eventb.core.prHyps="p21" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p57" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∃ hyp (∃p,q·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p58" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59,p60,p61">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
</org.eventb.core.prHypAction>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p59,p60,p61"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (rear(tr)+len&lt;front(tr)+len)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p62">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p62" org.eventb.core.prHyps="p35,p1,p15">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p63">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p63" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p64">
<org.eventb.core.prRule name="r16" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p64" org.eventb.core.prHyps="p7"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p65" org.eventb.core.prHyps="p35,p64,p15,p1">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p65" org.eventb.core.prHyps="p16,p9,p17,p14,p13,p7,p18,p20,p19,p10,p8,p11,p12,p5,p3,p6,p15,p1,p21,p4,p25,p35,p42,p43,p44,p45,p46,p34,p48,p50,p52,p53,p59,p60,p61,p64">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p35,p64,p15,p1,p65">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p55" org.eventb.core.prHyps="p16,p9,p17,p14,p13,p7,p18,p20,p19,p10,p8,p11,p12,p5,p3,p6,p15,p1,p21,p4,p25,p35,p42,p43,p44,p45,p46,p34,p48,p50,p52,p53,p59,p60,p61,p64,p65">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1;2;3:30000"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p65"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prExprRef name=".exprs" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p66">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="p66" org.eventb.core.prInfHyps="p67"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p66" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p68"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p67"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p40" org.eventb.core.prHyps="p16,p9,p17,p14,p13,p7,p18,p20,p19,p10,p8,p11,p12,p5,p3,p6,p15,p1,p21,p4,p25,p35,p42,p43,p44,p45,p46,p34,p48,p68">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p49"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prExprRef name=".expr" org.eventb.core.prRef="e1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p43"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p69">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p32"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="p69" org.eventb.core.prInfHyps="p70"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p70"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="p71">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p72">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="p71" org.eventb.core.prInfHyps="p33"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p72" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p48">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p48" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p48">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="p34" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p74"/>
<org.eventb.core.prRule name="r17" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p74"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p32"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prExprRef name=".exprs" org.eventb.core.prRef="e2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1.0.0.0.0.1.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.0.0.1.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="(dom(rear) ∖ {tr})∪{tr}=dom(rear)"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="rear(tr0)∈MA(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="len∈ℕ1"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="MA∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="{TRUE ↦ ({tr} ⩤ rear)∪{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤))(tr0)∈MA(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="tr∈dom(rear)∨tr∉dom(rear)"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="tr0∈dom({TRUE ↦ ({tr} ⩤ rear)∪{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤)))∩dom(MA)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="¬tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="ae=(dom(rear) ∖ {tr})∪{tr}">
<org.eventb.core.prIdent name="ae" org.eventb.core.type="ℙ(TRAIN)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="tr∈dom(rear)"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="tr0∈(dom({tr} ⩤ rear)∪dom({tr ↦ rear(tr)+len}))∩dom(MA)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr0⦂TRAIN·tr0∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∩dom(MA)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr0)∈MA(tr0)"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="{TRUE ↦ ({tr} ⩤ rear)∪{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr0)∈MA(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="p≤q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="rear(tr)+len∈MA(tr)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="tr0∈dom({TRUE ↦ ({tr} ⩤ rear)∪{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊥)))∩dom(MA)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="⊤∨tr∉dom(rear)"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="tr∉dom(rear)"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="tr0∈dom(({tr} ⩤ rear)∪{tr ↦ rear(tr)+len})∩dom(MA)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="tr0∈ae∩dom(MA)">
<org.eventb.core.prIdent name="ae" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="tr0∈((dom(rear) ∖ {tr})∪{tr})∩dom(MA)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="tr∈dom(MA)"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr0)∈MA(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="{TRUE ↦ (dom({tr ↦ rear(tr)+len}) ⩤ rear)∪{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr0)∈MA(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="tr0∈dom(rear)∩dom(MA)⇒rear(tr0)∈MA(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="tr0∈dom({TRUE ↦ (dom({tr ↦ rear(tr)+len}) ⩤ rear)∪{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∩dom(MA)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="tr∈dom(rear)∩dom(MA)"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="tr0=tr∨⊤">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="tr0∈dom({TRUE ↦ ({tr} ⩤ rear)∪{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∩dom(MA)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="⊤⇒⊥"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="tr∈dom(rear)∨⊤"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="tr0=tr∨tr0≠tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="p ‥ q⊆WAY">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="⊤∧rear∈TRAIN ⇸ ℤ∧⊤∧⊤"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="tr0∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∩dom(MA)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∩dom(MA)"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="front(tr)+len∈MA(tr)"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="⊤∨tr0≠tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="MA(tr)=p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="(({tr} ⩤ rear)∪{tr ↦ rear(tr)+len})(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="rear(tr)+len&lt;front(tr)+len"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="tr0∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∩dom(MA)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr0)∈MA(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="⊥"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="⊤⇒rear(tr0)∈MA(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="ae=dom(rear)">
<org.eventb.core.prIdent name="ae" org.eventb.core.type="ℙ(TRAIN)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="tr0≠tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="tr∈dom(rear)∧rear∈TRAIN ⇸ ℤ∧tr∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="⊤⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="{TRUE ↦ ({tr} ⩤ rear)∪{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊥))(tr0)∈MA(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="tr0∈dom(rear)∩dom(MA)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="¬tr∈dom(rear)"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="(({tr} ⩤ rear)∪{tr ↦ rear(tr)+len})(tr0)∈MA(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prExpr name="e2" org.eventb.core.expression="tr0">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prExpr>
<org.eventb.core.prExpr name="e0" org.eventb.core.expression="tr"/>
<org.eventb.core.prExpr name="e1" org.eventb.core.expression="(dom(rear) ∖ {tr})∪{tr}"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.allD"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.domRanUnionDistRewrites"/>
<org.eventb.core.prReas name="r17" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
<org.eventb.core.prReas name="r12" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.disjE"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r16" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r13" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.cut"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.relOvrRewrites"/>
<org.eventb.core.prReas name="r14" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r11" org.eventb.core.prRID="org.eventb.core.seqprover.ae"/>
<org.eventb.core.prReas name="r15" org.eventb.core.prRID="org.eventb.core.seqprover.exF"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="MoveTrainFollowingItsMA/grd1/GRD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p16,p9,p17,p14,p13,p7,p18,p20,p19,p10,p8,p11,p12,p5,p3,p6,p15,p1,p21,p4,p22">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="len∈ℕ1"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="MA∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∩dom(MA)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="front(tr)+len∈MA(tr)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="tr∈dom(MA)"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="MoveTrainFollowingItsMA/grd3/GRD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p16,p9,p17,p14,p13,p7,p18,p20,p19,p10,p8,p11,p12,p5,p3,p6,p15,p1,p21,p4,p22">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="len∈ℕ1"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="MA∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∩dom(MA)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="front(tr)+len∈MA(tr)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="tr∈dom(MA)"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv2_1/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15" org.eventb.core.prSets="STATES">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p9,p4,p12,p13,p7,p5,p10,p3,p8,p11,p6,p2,p1,p16,p17">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="TTD × {OCCUPIED}∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="b − a≥20"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv2_2/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15" org.eventb.core.prSets="STATES">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p9,p4,p12,p13,p7,p5,p10,p3,p8,p11,p6,p2,p1,p16,p17">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="VSS × {UNKNOW}∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="b − a≥20"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingTTDStates/grd4/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p40"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p42"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p43"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p48">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p2,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p4,p6,p8,p10,p12,p14,p17,p19,p21,p23,p25,p27"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p48" org.eventb.core.prHyps="p1,p2">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p71">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p71" org.eventb.core.prHyps="p2"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="union(VSS)=WAY">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="VSS⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="TTD⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="union(TTD)=WAY">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingTTDStates/grd7/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p14"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p33"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p40"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p42"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p43"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p48" org.eventb.core.prHyps="p47">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p48" org.eventb.core.prHyps="p1"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="tr∈dom(rear)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingTTDStates/grd8/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p3">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p3" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p35">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p35" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="tr∉dom(rear)⇒⊤∧⊤"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∉dom(rear)⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingTTDStates/grd11/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p5">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p5" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p40">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p31"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p32"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prHypAction name="REWRITE17" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="REWRITE18" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p40" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="⊤∧⊤"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="tr∈dom(rear)">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="tr∉dom(rear)⇒⊥">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="tr∉dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="tr∉dom(rear)⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingTTDStates/grd12/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p0" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p0"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingTTDStates/grd2/GRD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="ae,ae0" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48" org.eventb.core.prSets="STATES,TRAIN" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="p1,p41" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p47" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p55">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="lae in goal" org.eventb.core.prGoal="p55" org.eventb.core.prHyps="p16">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p56">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ∈ in rear(tr)∈p ‥ q" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p57"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ae (union(VSS))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p58">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p58" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p59">
<org.eventb.core.prIdent name="ae" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ae (union(VSS))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p58">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p58" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p60">
<org.eventb.core.prIdent name="ae0" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with ae0=union(VSS)" org.eventb.core.prGoal="p56" org.eventb.core.prHyps="p60">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p63">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p59" org.eventb.core.prInfHyps="p61"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p16" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p59,p16"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p60"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with ae0=WAY" org.eventb.core.prGoal="p63" org.eventb.core.prHyps="p62">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p55">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p61" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p61"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (union(ttds∪ttds1)⊆WAY)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p58">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p58" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p65">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (ttds∪ttds1⊆TTD)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p58">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p58" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p66">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p66" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p67">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p67" org.eventb.core.prHyps="p19">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p68">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p68" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p69">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p69" org.eventb.core.prHyps="p1,p4,p5,p9,p59,p12,p61,p15,p16,p17,p18,p19,p22,p23,p27,p28,p62,p29,p32,p33,p36,p38,p40,p54,p41,p45,p46,p48,p53,p3,p64,p6,p7,p8,p10,p11,p57,p13,p14,p24,p25,p30,p31,p34,p35,p37,p60,p39,p51,p42,p52,p43,p44">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p66">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="lae in goal" org.eventb.core.prGoal="p65" org.eventb.core.prHyps="p34">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p70">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p66" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19,p69"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p70" org.eventb.core.prHyps="p22,p27,p62,p3,p31,p29,p64,p7,p33,p38,p57,p14,p54,p69,p19">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p66"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p65">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p55" org.eventb.core.prHyps="p1,p4,p5,p9,p59,p12,p61,p15,p16,p17,p18,p19,p22,p23,p27,p28,p62,p29,p65,p32,p33,p36,p38,p40,p54,p41,p45,p46,p48,p53,p3,p64,p6,p7,p8,p10,p11,p57,p13,p14,p24,p25,p30,p31,p34,p35,p37,p60,p39,p51,p42,p52,p43,p44">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p65"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prExprRef name=".expr" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prExprRef name=".expr" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p71">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p71" org.eventb.core.prHyps="p1,p53,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p24,p25,p22,p23,p27,p28,p30,p31,p29,p34,p32,p33,p35,p37,p36,p39,p38,p51,p40,p54,p41,p42,p52,p43,p44,p45,p46,p48">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="p ‥ q⊆WAY∧p≤q"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="p ‥ q⊆union(VSS)"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="ae=union(VSS)">
<org.eventb.core.prIdent name="ae" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="p≤q"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="ae=ae0">
<org.eventb.core.prIdent name="ae" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="ae0" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="ttds⊆TTD∧ttds1⊆TTD"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="ttds1⊆TTD"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)≥p0"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="tr∉dom(rear)⇒front(tr)≥p0"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="ttds⊆stateTTD∼[{FREE}]"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="ae0=WAY">
<org.eventb.core.prIdent name="ae0" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="front(tr)∈p ‥ q"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="p ‥ q⊆ae0">
<org.eventb.core.prIdent name="ae0" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="union(ttds∪ttds1)⊆WAY"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="p ‥ q⊆union(ttds∪ttds1)"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="p ‥ q⊆WAY"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="ttds⊆TTD"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="b − a≥20"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="p1≥front(tr)"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="ae=WAY">
<org.eventb.core.prIdent name="ae" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="tr∉dom(rear)⇒⊤∧⊤"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="tr∈dom(rear)⇒p≤rear(tr)∧rear(tr)≤q"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="union(ttds1)=p0 ‥ p1 − 1"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)∈p ‥ q"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="ttds∪ttds1⊆TTD"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="union(ttds∪ttds1)⊆union(TTD)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="union(ttds)=p1 ‥ q1"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="ae0=union(VSS)">
<org.eventb.core.prIdent name="ae0" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="tr∉dom(rear)⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="ttds⊆TTD∧⊤"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prExpr name="e0" org.eventb.core.expression="union(VSS)"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r11" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.ae"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.rmL1"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.core.seqprover.cut"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.locEq"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r12" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalPP:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingVSSStates/grd4/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p40"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p42"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p43"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p49">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p2,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71,p5,p7,p9,p11,p13,p15,p18,p20,p22,p24,p26,p28"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p49" org.eventb.core.prHyps="p1,p2,p3">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p72">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p72" org.eventb.core.prHyps="p2"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="TTD⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="union(TTD)=WAY">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingVSSStates/grd7/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p14"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p33"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p40"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p42"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p43"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p48" org.eventb.core.prHyps="p47">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p48" org.eventb.core.prHyps="p1"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="tr∈dom(rear)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingVSSStates/grd8/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p3">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p3" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p35">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p35" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="tr∉dom(rear)⇒⊤∧⊤"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∉dom(rear)⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingVSSStates/grd11/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p5">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p5" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p40">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p31"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p32"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prHypAction name="REWRITE17" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="REWRITE18" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p40" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="⊤∧⊤"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="tr∈dom(rear)">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="tr∉dom(rear)⇒⊥">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="tr∉dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="tr∉dom(rear)⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingVSSStates/grd12/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p0" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p0"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingVSSStates/grd2/GRD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43" org.eventb.core.prSets="STATES,TRAIN" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44,p45,p46,p47,p48,p49,p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44,p45,p46,p47,p48,p49,p50"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p51" org.eventb.core.prHyps="p1,p38" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p57">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="lae in goal" org.eventb.core.prGoal="p57" org.eventb.core.prHyps="p18">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p58">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (vsss∪vsss1⊆VSS)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p59">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p59" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p60">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p60" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p61">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p61" org.eventb.core.prHyps="p6">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p62">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p62" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p63">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p63" org.eventb.core.prHyps="p1,p3,p5,p6,p7,p11,p15,p47,p17,p18,p19,p50,p20,p23,p24,p45,p27,p29,p30,p34,p36,p56,p38,p49,p42,p55,p4,p8,p9,p10,p12,p13,p14,p46,p16,p22,p44,p28,p48,p31,p32,p33,p35,p53,p37,p39,p54,p40,p41">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p60">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p58" org.eventb.core.prHyps="p60,p3,p23,p44,p45,p4,p27,p6,p48,p9,p30,p34,p13,p46,p37,p56,p47,p19,p49,p50,p22">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R30000"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p60"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p64">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p64" org.eventb.core.prHyps="p1,p3,p5,p6,p7,p11,p15,p47,p17,p18,p19,p50,p20,p23,p24,p45,p27,p29,p30,p34,p36,p56,p38,p49,p42,p55,p4,p8,p9,p10,p12,p13,p14,p46,p16,p22,p44,p28,p48,p31,p32,p33,p35,p53,p37,p39,p54,p40,p41">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="p ‥ q⊆WAY∧p≤q"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="vsss∪vsss1⊆VSS"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="union(vsss)=p1 ‥ q1"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="vsss⊆VSS∧vsss1⊆VSS"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="vsss⊆VSS∧⊤"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="vsss1⊆VSS"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="p ‥ q⊆union(VSS)"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="p≤q"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬OCCUPIED=FREE"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="p ‥ q⊆union(vsss∪vsss1)"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬FREE=UNKNOW"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)≥p0"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬FREE=AMBIGUOUS"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="tr∉dom(rear)⇒front(tr)≥p0"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="front(tr)∈p ‥ q"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="vsss⊆VSS"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="p ‥ q⊆WAY"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬OCCUPIED=UNKNOW"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="p1≥front(tr)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="union(vsss1)=p0 ‥ p1 − 1"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="tr∉dom(rear)⇒⊤∧⊤"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)∈p ‥ q"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="tr∉dom(rear)⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="vsss⊆newstateVSS∼[{FREE}]"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.cut"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.locEq"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalPP:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingTTDStates/inv2_1/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p0" org.eventb.core.prSets="STATES">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p0"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="newstateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="newstateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingVSSStates/inv2_2/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p0" org.eventb.core.prSets="STATES">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p0"/>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="inv2_3/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="ttd,tr" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p17">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p17" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p18">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees ttd,tr)" org.eventb.core.prGoal="p18" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p19">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p19" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p22" org.eventb.core.prHyps="p20,p21">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p22" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="p3,p1,p20,p21">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p24">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p24" org.eventb.core.prHyps="p2"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p25">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees ttd,tr)" org.eventb.core.prGoal="p25" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p26">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p28" org.eventb.core.prHyps="p20,p21,p27">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p28" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p29">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p29" org.eventb.core.prHyps="p3">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p21">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p21"/>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
<org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p30">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p30" org.eventb.core.prHyps="p3"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="(∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ)∧(∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒ttd∈dom(stateTTD)∧stateTTD∈ℙ(ℤ) ⇸ STATES)"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="ttd∈dom(stateTTD)">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·(tr∈dom(front) ∖ dom(rear)∧ttd∈TTD⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ)∧(tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒ttd∈dom(stateTTD)∧stateTTD∈ℙ(ℤ) ⇸ STATES)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="tr∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒ttd∈dom(stateTTD)∧stateTTD∈ℙ(ℤ) ⇸ STATES">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="ttd∈TTD">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="stateTTD∈ℙ(ℤ) ⇸ STATES"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="front(tr)∈ttd">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="ttd∈dom(stateTTD)∧stateTTD∈ℙ(ℤ) ⇸ STATES">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)∧ttd∈TTD⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒ttd∈dom(stateTTD)∧stateTTD∈ℙ(ℤ) ⇸ STATES"/>
<org.eventb.core.prExpr name="e0" org.eventb.core.expression="TTD"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.totalDom:2"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalPP:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="inv2_4/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="ttd,tr" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p17">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p17" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p18">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees ttd,tr)" org.eventb.core.prGoal="p18" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p19">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p19" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p22" org.eventb.core.prHyps="p20,p21">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p22" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="p1"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p24">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p2,p1,p35,p36,p37,p38,p39,p40,p41,p5,p7,p9,p11,p13,p15"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p24" org.eventb.core.prHyps="p20,p1,p2,p3">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p42">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p42" org.eventb.core.prHyps="p2"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p43">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees ttd,tr)" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p44">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p44" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p46" org.eventb.core.prHyps="p20,p21,p45">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p46" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p47">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p47" org.eventb.core.prHyps="p3">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p21">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p21"/>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
<org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p48">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p48" org.eventb.core.prHyps="p3"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="ttd∈dom(stateTTD)">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="tr∈dom(rear)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="tr∈dom(rear)∧ttd∈TTD⇒rear∈TRAIN ⇸ ℤ∧tr∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="union(VSS)=WAY">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="(∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD⇒rear∈TRAIN ⇸ ℤ∧tr∈dom(front)∧front∈TRAIN ⇸ ℤ)∧(∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒ttd∈dom(stateTTD)∧stateTTD∈ℙ(ℤ) ⇸ STATES)"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="ttd∈TTD">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="stateTTD∈ℙ(ℤ) ⇸ STATES"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD⇒rear∈TRAIN ⇸ ℤ∧tr∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="VSS⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ∧tr∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒ttd∈dom(stateTTD)∧stateTTD∈ℙ(ℤ) ⇸ STATES"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·(tr∈dom(rear)∧ttd∈TTD⇒rear∈TRAIN ⇸ ℤ∧tr∈dom(front)∧front∈TRAIN ⇸ ℤ)∧(tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒ttd∈dom(stateTTD)∧stateTTD∈ℙ(ℤ) ⇸ STATES)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒ttd∈dom(stateTTD)∧stateTTD∈ℙ(ℤ) ⇸ STATES">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="ttd∈dom(stateTTD)∧stateTTD∈ℙ(ℤ) ⇸ STATES">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prExpr name="e0" org.eventb.core.expression="TTD"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.totalDom:2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv2_3/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p5">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p5" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(∅ ⦂ ℙ(TRAIN×ℤ)) ∖ dom(∅ ⦂ ℙ(TRAIN×ℤ))∧ttd∈TTD∧(∅ ⦂ ℙ(TRAIN×ℤ))(tr)∈ttd⇒(TTD × {OCCUPIED})(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv2_4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p5">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p5" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(∅ ⦂ ℙ(TRAIN×ℤ))∧ttd∈TTD∧(∅ ⦂ ℙ(TRAIN×ℤ))(tr) ‥ (∅ ⦂ ℙ(TRAIN×ℤ))(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒(TTD × {OCCUPIED})(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingTTDStates/inv2_3/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="tr0,ttd" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5,p6,p7,p8"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5,p6,p7,p8"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="p11,p12" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p10"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees ttd,tr0)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p29">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p29" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p33" org.eventb.core.prHyps="p30,p31,p32"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="newstateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="tr0∈dom(front) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="tr∉dom(rear)⇒⊤∧⊤">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="newstateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬OCCUPIED=FREE">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬FREE=UNKNOW">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="tr0∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr0)∈ttd⇒newstateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬FREE=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="tr∉dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="ttd∈TTD">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="tr∉dom(rear)⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬OCCUPIED=UNKNOW">
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="front(tr0)∈ttd">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒newstateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingTTDStates/inv2_4/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="tr0,ttd" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5,p6,p7,p8"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5,p6,p7,p8"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="p11,p12" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p29">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p10"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees ttd,tr0)" org.eventb.core.prGoal="p29" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p30">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p30" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="p31,p32,p33"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="newstateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="tr∉dom(rear)⇒⊤∧⊤">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="newstateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬OCCUPIED=FREE">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="tr0∈dom(rear)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬FREE=UNKNOW">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬rear(tr0) ‥ front(tr0)∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒newstateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬FREE=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="tr∉dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒newstateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="tr0∈dom(rear)∧ttd∈TTD∧¬rear(tr0) ‥ front(tr0)∩ttd=(∅ ⦂ ℙ(ℤ))⇒newstateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="ttd∈TTD">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="tr∉dom(rear)⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬OCCUPIED=UNKNOW">
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="MoveTrainFollowingItsMA/grd5/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="ttd" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p3">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p5">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p5" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p37">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p31"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p32"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p40"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p42"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p43"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p47" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p48" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees ttd)" org.eventb.core.prGoal="p37" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p52">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p52" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p54" org.eventb.core.prHyps="p53">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p4,p67,p68,p69,p70,p71,p72,p73,p74,p75,p76,p3,p1,p77,p78,p7,p9,p11,p13,p15,p17,p20,p22,p24,p26,p28,p30"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p54" org.eventb.core.prHyps="p2,p4">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]⇒⊤∧⊤∧(front(tr)+len∈ttd∨(tr∈dom(rear)⇒tr∈dom(rear)∧rear∈TRAIN ⇸ ℤ∧⊤∧⊤))"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="len∈ℕ1"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="MA∈TRAIN ⇸ ℙ(ℤ)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(front(tr)+len∈ttd∨(tr∈dom(rear)⇒tr∈dom(rear)∧rear∈TRAIN ⇸ ℤ∧tr∈dom(front)∧front∈TRAIN ⇸ ℤ))"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="union(VSS)=WAY">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="tr∈dom(MA)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]⇒front(tr)+len∈ttd∨(tr∈dom(rear)⇒tr∈dom(rear)∧rear∈TRAIN ⇸ ℤ)"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="front(tr)+len∈ttd∨(tr∈dom(rear)⇒tr∈dom(rear)∧rear∈TRAIN ⇸ ℤ)">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="VSS⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="ttd∈stateTTD∼[{FREE}]">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="ttd∈stateTTD∼[{FREE}]⇒front(tr)+len∈ttd∨(tr∈dom(rear)⇒tr∈dom(rear)∧rear∈TRAIN ⇸ ℤ)">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="TTD⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="union(TTD)=WAY">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="MoveTrainFollowingItsMA/inv2_1/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="STATES">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
<org.eventb.core.prHypAction name="REWRITE17" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prHypAction name="REWRITE18" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="REWRITE19" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="REWRITE20" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="REWRITE21" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p47" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p48" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p50" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p51" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p52" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p54"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p53" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p54" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p55" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71,p72,p73,p74,p75,p76,p77,p78,p79,p80,p81,p82,p83,p4,p6,p8,p10,p12,p14,p17,p19,p21,p23,p25,p27"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="MA∈TRAIN ⇸ ℙ(ℤ)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)">
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="union(VSS)=WAY">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="tr∈dom(MA)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="ttds⊆stateTTD∼[{FREE}]"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒front(tr)+len&lt;rear(tr1))">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="VSS⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧¬rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="stateTTD(ttds × {OCCUPIED})∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧rear(tr)+len ‥ front(tr)+len∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧tr1≠tr⇒front(tr1)&lt;rear(tr)+len)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="TTD⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr)+len∈ttd)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒front(tr)+len&lt;rear(tr1))">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="union(TTD)=WAY">
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;rear(tr)+len)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr1≠tr∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr)+len∉ttd)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="MoveTrainFollowingItsMA/inv2_3/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr0,ttd" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="REWRITE17" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="REWRITE18" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="REWRITE19" org.eventb.core.prHidden="p47" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="REWRITE20" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="REWRITE21" org.eventb.core.prHidden="p51" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p54"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p53" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p54" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p56"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p55" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p57"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p56" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p58"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p57" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p59"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p58" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p60"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p59" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p61"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p61"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p60" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p62"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p61" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p63"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p64"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p65"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees ttd,tr0)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p67">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p67" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p71" org.eventb.core.prHyps="p68,p69,p70">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p71" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p73" org.eventb.core.prHyps="p72">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p73" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p74">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p74" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p76" org.eventb.core.prHyps="p75">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p76" org.eventb.core.prHyps="p11">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p77">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in (front{tr ↦ front(tr)+len})(tr0)" org.eventb.core.prHyps="p70">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p78,p79">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p70"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr0=tr" org.eventb.core.prHyps="p78">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p68" org.eventb.core.prInfHyps="p80"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p68"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p81,p82,p83,p84,p8,p85,p86,p87,p88,p89,p90,p9,p7,p13,p91,p92,p93,p94,p95,p96,p11,p97,p12,p98,p99,p100,p15,p17,p19,p21,p23,p25,p27,p29,p31,p33,p35,p37,p68"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p77" org.eventb.core.prHyps="p1,p2,p3,p79,p5,p12,p75,p8,p69,p44,p11">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p101,p102">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p70"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in hyp" org.eventb.core.prHyps="p9">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p102" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p103"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p103"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p81,p82,p83,p84,p8,p85,p86,p87,p88,p89,p90,p9,p7,p13,p91,p92,p93,p94,p95,p96,p11,p97,p12,p98,p99,p100,p15,p17,p19,p21,p23,p25,p27,p29,p31,p33,p35,p37"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p77" org.eventb.core.prHyps="p68,p1,p2,p3,p4,p7,p101,p103,p13,p69,p27,p9">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="len∈ℕ1"/>
<org.eventb.core.prPred name="p100" org.eventb.core.predicate="MA∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="(dom(ttds × {OCCUPIED}) ⩤ stateTTD)(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="front(tr)+len∈ttd">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p101" org.eventb.core.predicate="¬tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="tr0∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="tr∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))"/>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="union(VSS)=WAY">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒front(tr)+len&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="(stateTTD(ttds × {OCCUPIED}))(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p103" org.eventb.core.predicate="front(tr0)∈ttd">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p91" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="front(tr)+len∈MA(tr)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧rear(tr)+len ‥ front(tr)+len∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p96" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p97" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒front(tr)+len&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="¬ttd∈dom(ttds × {OCCUPIED})">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr1≠tr∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr)+len∉ttd)"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p98" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="ttd∈dom(ttds × {OCCUPIED})">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="(front{tr ↦ front(tr)+len})(tr0)∈ttd">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p99" org.eventb.core.predicate="tr∈dom(MA)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr0⦂TRAIN·tr0∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∧ttd∈TTD∧(front{tr ↦ front(tr)+len})(tr0)∈ttd⇒(stateTTD(ttds × {OCCUPIED}))(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="ttds⊆stateTTD∼[{FREE}]"/>
<org.eventb.core.prPred name="p93" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="ttd∈TTD">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="VSS⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧¬rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∩dom(MA)"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p94" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧tr1≠tr⇒front(tr1)&lt;rear(tr)+len)"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr)+len∈ttd)"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="tr0∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∧ttd∈TTD∧(front{tr ↦ front(tr)+len})(tr0)∈ttd⇒(stateTTD(ttds × {OCCUPIED}))(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="(ttds × {OCCUPIED})(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p102" org.eventb.core.predicate="({tr} ⩤ front)(tr0)∈ttd">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p95" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;rear(tr)+len)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p92" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="MoveTrainFollowingItsMA/inv2_4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr0,ae,ttd" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46" org.eventb.core.prSets="STATES,TRAIN" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47,p48,p49,p50,p51,p52,p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p47,p48,p49,p50,p51,p52,p53"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p67">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p61" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p65"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees ttd,tr0)" org.eventb.core.prGoal="p67" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p68">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p68" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p72" org.eventb.core.prHyps="p69,p70,p71">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p72" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p74" org.eventb.core.prHyps="p73">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p74" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p75">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p75" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p77" org.eventb.core.prHyps="p76">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p77" org.eventb.core.prHyps="p36">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p78">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in (front{tr ↦ front(tr)+len})(tr0)" org.eventb.core.prHyps="p71">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p79,p80">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p71"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr0=tr" org.eventb.core.prHyps="p80">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p70" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p79" org.eventb.core.prInfHyps="p82"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p79,p70"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (tr∈dom(rear)∨tr∉dom(rear))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p75">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p75" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p83">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p83" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p83">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p84"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p85"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p86"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p87"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p79" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p88"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p81" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p82" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p83" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p75">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p84" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p85"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p86"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p87" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p92"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p88" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p93"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p89" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p94"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p90" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p75" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p83">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (tr∈dom(rear)∨tr∉dom(rear))" org.eventb.core.prHyps="p83">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p94">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p83"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="p94" org.eventb.core.prInfHyps="p96"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="p94" org.eventb.core.prInfHyps="p97"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="p94" org.eventb.core.prInfHyps="p98"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="p94" org.eventb.core.prInfHyps="p99"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p79" org.eventb.core.prHyps="p94" org.eventb.core.prInfHyps="p100"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p81" org.eventb.core.prHyps="p94" org.eventb.core.prInfHyps="p101"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p82" org.eventb.core.prHyps="p94" org.eventb.core.prInfHyps="p102"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p83" org.eventb.core.prHyps="p94" org.eventb.core.prInfHyps="p103"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p96" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p104"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p97" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p105"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p98" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p106"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p99" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p107"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p100" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p108"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p101" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p109"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p102" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p110"/>
<org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p103"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr0=tr" org.eventb.core.prHyps="p80">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p108" org.eventb.core.prInfHyps="p111"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p108"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p111" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p110"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (tr0=tr∨tr0≠tr)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p75">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p75" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p112">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ goal in hyp" org.eventb.core.prGoal="p112" org.eventb.core.prHyps="p80"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p112">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (tr0=tr∨tr0≠tr)" org.eventb.core.prHyps="p112">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p80">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p112"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p112" org.eventb.core.prHyps="p80" org.eventb.core.prInfHyps="p113"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p113"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (ttd∈stateTTD∼[{OCCUPIED}]∨ttd∈stateTTD∼[{FREE}])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p75">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p75" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p114">
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p1,p56,p4,p8,p9,p10,p13,p14,p16,p17,p19,p23,p60,p25,p58,p59,p108,p29,p31,p30,p32,p35,p54,p38,p40,p41,p43"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr0=tr" org.eventb.core.prHyps="p80">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p108"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p111"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p111" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p110"/>
<org.eventb.core.prRule name="r13" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with union(TTD)=WAY" org.eventb.core.prHyps="p31">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p14" org.eventb.core.prInfHyps="p115"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p9" org.eventb.core.prInfHyps="p116"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p35" org.eventb.core.prInfHyps="p117"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p29" org.eventb.core.prInfHyps="p118"/>
<org.eventb.core.prHypAction name="FORWARD_INF4" org.eventb.core.prHyps="p43" org.eventb.core.prInfHyps="p119"/>
<org.eventb.core.prHypAction name="FORWARD_INF5" org.eventb.core.prHyps="p41" org.eventb.core.prInfHyps="p120"/>
<org.eventb.core.prHypAction name="FORWARD_INF6" org.eventb.core.prHyps="p32" org.eventb.core.prInfHyps="p121"/>
<org.eventb.core.prHypAction name="FORWARD_INF7" org.eventb.core.prHyps="p13" org.eventb.core.prInfHyps="p122"/>
<org.eventb.core.prHypAction name="DESELECT8" org.eventb.core.prHyps="p14,p29,p9,p41,p32,p43,p13,p35"/>
<org.eventb.core.prRule name="r14" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p114" org.eventb.core.prHyps="p3,p69,p5,p36">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p114">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (ttd∈stateTTD∼[{OCCUPIED}]∨ttd∈stateTTD∼[{FREE}])" org.eventb.core.prHyps="p114">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p123">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p114"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p114" org.eventb.core.prHyps="p123" org.eventb.core.prInfHyps="p124"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p124"/>
<org.eventb.core.prRule name="r14" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p78" org.eventb.core.prHyps="p123,p3">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p125">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p114"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p114" org.eventb.core.prHyps="p125" org.eventb.core.prInfHyps="p126"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p126"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p127" org.eventb.core.prHyps="p94" org.eventb.core.prInfHyps="p128"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p128"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p129" org.eventb.core.prHyps="p94" org.eventb.core.prInfHyps="p130"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p130" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p131"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p132" org.eventb.core.prHyps="p94" org.eventb.core.prInfHyps="p133"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p133" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p134"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p78" org.eventb.core.prHyps="p1,p3,p4,p8,p9,p12,p94,p16,p50,p110,p19,p109,p20,p53,p21,p23,p48,p58,p59,p27,p30,p69,p37,p65,p125,p38,p52,p42,p43,p56,p5,p6,p7,p10,p11,p13,p14,p66,p105,p49,p17,p60,p25,p47,p108,p80,p29,p51,p31,p32,p106,p57,p35,p36,p54,p107,p39,p55,p76,p40,p41">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1;2;3:30000"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p114"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p135">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p112"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p112" org.eventb.core.prHyps="p135,p80" org.eventb.core.prInfHyps="p136"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p135" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p137"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p136"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p137" org.eventb.core.prHyps="p80" org.eventb.core.prInfHyps="p138"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p138" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p139"/>
<org.eventb.core.prRule name="r16" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p139"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p112"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p140">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p83"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p83" org.eventb.core.prHyps="p140" org.eventb.core.prInfHyps="p141"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p140" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p142"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p141"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="p142" org.eventb.core.prInfHyps="p84"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="p142" org.eventb.core.prInfHyps="p85"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="p142" org.eventb.core.prInfHyps="p86"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="p142" org.eventb.core.prInfHyps="p87"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p79" org.eventb.core.prHyps="p142" org.eventb.core.prInfHyps="p88"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p81" org.eventb.core.prHyps="p142" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p82" org.eventb.core.prHyps="p142" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p84" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p85"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p86"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p87" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p92"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p88" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p93"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p89" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p94"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p90" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p94" org.eventb.core.prHyps="p142" org.eventb.core.prInfHyps="p139"/>
<org.eventb.core.prRule name="r16" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p139"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p83"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p137,p143">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p71"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in hyp" org.eventb.core.prHyps="p35">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p143" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p144"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p144"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p127"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p129" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p145"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p132" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p146"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (ttd∈ttds∨ttd∉ttds)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p75">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p75" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p147">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p147" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p75">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p75" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p147">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (ttd∈ttds∨ttd∉ttds)" org.eventb.core.prHyps="p147">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p148">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p147"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p147" org.eventb.core.prHyps="p148" org.eventb.core.prInfHyps="p149"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p149"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p78" org.eventb.core.prHyps="p1,p3,p4,p8,p9,p148,p137,p12,p16,p50,p19,p20,p53,p21,p23,p48,p58,p59,p27,p30,p69,p37,p65,p38,p52,p63,p42,p43,p56,p5,p6,p7,p10,p11,p13,p14,p66,p49,p144,p17,p60,p25,p47,p70,p29,p51,p31,p32,p57,p35,p36,p54,p64,p39,p55,p76,p40,p41">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p150">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p147"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p147" org.eventb.core.prHyps="p150" org.eventb.core.prInfHyps="p151"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p150" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p152"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p151"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p153"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (ttd∈ttds∨ttd∉ttds)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p75">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p75" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p147">
<org.eventb.core.prRule name="r17" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p147" org.eventb.core.prHyps="p147"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p147">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (ttd∈ttds∨ttd∉ttds)" org.eventb.core.prHyps="p147">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p148">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p147"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p147" org.eventb.core.prHyps="p152" org.eventb.core.prInfHyps="p154"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p148" org.eventb.core.prHyps="p152" org.eventb.core.prInfHyps="p139"/>
<org.eventb.core.prRule name="r16" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p139"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p150">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p147"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p147" org.eventb.core.prHyps="p152,p150" org.eventb.core.prInfHyps="p155"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p150" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p152"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p155"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (ttd∈stateTTD∼[{FREE}]∨ttd∈stateTTD∼[{OCCUPIED}])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p75">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p75" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p156">
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prRule name="r14" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p156" org.eventb.core.prHyps="p3,p69,p5,p36">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p156">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (ttd∈stateTTD∼[{FREE}]∨ttd∈stateTTD∼[{OCCUPIED}])" org.eventb.core.prHyps="p156">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p125">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p156"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p156" org.eventb.core.prHyps="p125" org.eventb.core.prInfHyps="p157"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p157"/>
<org.eventb.core.prRule name="r18" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ hyp (inst ttd)" org.eventb.core.prHyps="p153">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p75">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p75" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p158">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p153"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p158" org.eventb.core.prHyps="p125,p152" org.eventb.core.prInfHyps="p159"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p159" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p160"/>
<org.eventb.core.prRule name="r19" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(front(tr)+len∈ttd∨(tr∈dom(rear)∧¬rear(tr)+len ‥ front(tr)+len∩ttd=∅))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p160" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p161,p162"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p161,p162"/>
<org.eventb.core.prRule name="r19" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(tr∈dom(rear)∧¬rear(tr)+len ‥ front(tr)+len∩ttd=∅)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p161" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p163"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p163"/>
<org.eventb.core.prRule name="r19" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬rear(tr)+len ‥ front(tr)+len∩ttd=∅" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p163" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p164"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p164"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (tr=tr0∨tr≠tr0)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p75">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p75" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p165">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p165" org.eventb.core.prHyps="p137">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p166">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p166" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p167">
<org.eventb.core.prRule name="r17" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p167" org.eventb.core.prHyps="p137"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p165">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (tr=tr0∨tr≠tr0)" org.eventb.core.prHyps="p165">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p168">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p165"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p165" org.eventb.core.prHyps="p137" org.eventb.core.prInfHyps="p166"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p168" org.eventb.core.prHyps="p137" org.eventb.core.prInfHyps="p139"/>
<org.eventb.core.prRule name="r16" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p139"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p169">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p165"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p165" org.eventb.core.prHyps="p169,p137" org.eventb.core.prInfHyps="p155"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p169" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p167"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p167" org.eventb.core.prHyps="p137" org.eventb.core.prInfHyps="p170"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p170"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (tr∈dom(rear)∨tr∉dom(rear))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p75">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p75" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p83">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p83" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p83">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p85"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p86"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p87"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p144" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p171"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p153" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p172"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p164" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p173"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p83" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p75">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p85"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p86"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p87" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p92"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p171" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p174"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p172" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p175"/>
<org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p173"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p75" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p83">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (tr∈dom(rear)∨tr∉dom(rear))" org.eventb.core.prHyps="p83">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p94">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p83"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="p94" org.eventb.core.prInfHyps="p97"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="p94" org.eventb.core.prInfHyps="p98"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="p94" org.eventb.core.prInfHyps="p99"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p144" org.eventb.core.prHyps="p94" org.eventb.core.prInfHyps="p176"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p153" org.eventb.core.prHyps="p94" org.eventb.core.prInfHyps="p177"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p164" org.eventb.core.prHyps="p94" org.eventb.core.prInfHyps="p178"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p83" org.eventb.core.prHyps="p94" org.eventb.core.prInfHyps="p103"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p97" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p105"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p98" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p106"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p99" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p107"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p176" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p179"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p177" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p180"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p178" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p181"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p103"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah ((rear{tr ↦ rear(tr)+len})(tr0)=rear(tr0))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p182">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p182" org.eventb.core.prHyps="p94,p107">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p183">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p183" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p184">
<org.eventb.core.prRule name="r20" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p184" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p185">
<org.eventb.core.prRule name="r21" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p185" org.eventb.core.prHyps="p29"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p186">
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p186" org.eventb.core.prHyps="p1,p3,p4,p152,p8,p9,p137,p12,p94,p16,p50,p19,p20,p53,p21,p23,p48,p58,p59,p179,p181,p27,p30,p69,p37,p65,p125,p38,p52,p42,p43,p162,p56,p5,p6,p10,p11,p13,p14,p66,p105,p49,p180,p17,p60,p25,p47,p29,p51,p31,p32,p106,p57,p35,p36,p54,p107,p39,p55,p76,p40,p41">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p92">
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p92" org.eventb.core.prHyps="p1,p3,p4,p152,p8,p9,p137,p12,p94,p16,p50,p19,p20,p53,p21,p23,p48,p58,p59,p179,p181,p27,p30,p69,p37,p65,p125,p38,p52,p42,p43,p162,p56,p5,p6,p10,p11,p13,p14,p66,p105,p49,p180,p17,p60,p25,p47,p29,p51,p31,p32,p106,p57,p35,p36,p54,p107,p39,p55,p76,p40,p41">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p187" org.eventb.core.prHyps="p94,p92,p185,p107,p186">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p187" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p188" org.eventb.core.prHyps="p80">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p80" org.eventb.core.prHyps="p137" org.eventb.core.prInfHyps="p139"/>
<org.eventb.core.prRule name="r16" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p139"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p189" org.eventb.core.prHyps="p137">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p189" org.eventb.core.prHyps="p29">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p190">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p190" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p75">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p75" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p94,p92,p185,p107,p187,p186">
<org.eventb.core.prRule name="r22" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ae ((rear{tr ↦ rear(tr)+len})(tr0))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p191">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p191" org.eventb.core.prHyps="p94,p185,p107,p186">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p192">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p192" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p75">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p75" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p94,p185,p107,p193,p186">
<org.eventb.core.prIdent name="ae" org.eventb.core.type="ℤ"/>
<org.eventb.core.prRule name="r13" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with ae=(rear{tr ↦ rear(tr)+len})(tr0)" org.eventb.core.prHyps="p193">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p179" org.eventb.core.prInfHyps="p194"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p187" org.eventb.core.prInfHyps="p195"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p179,p187"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p193"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with ae=rear(tr0)" org.eventb.core.prHyps="p195">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p194" org.eventb.core.prInfHyps="p174"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p194"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p78" org.eventb.core.prHyps="p1,p3,p4,p152,p8,p185,p9,p137,p12,p94,p16,p187,p50,p92,p19,p20,p53,p21,p23,p48,p58,p59,p179,p181,p27,p30,p69,p37,p65,p125,p38,p52,p42,p193,p43,p162,p56,p5,p6,p10,p11,p13,p14,p66,p105,p49,p180,p17,p186,p60,p174,p25,p47,p29,p51,p194,p31,p32,p106,p57,p35,p36,p54,p107,p39,p55,p76,p195,p40,p41">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prExprRef name=".expr" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p187"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p140">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p83"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p83" org.eventb.core.prHyps="p140" org.eventb.core.prInfHyps="p141"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p140" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p142"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p141"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="p142" org.eventb.core.prInfHyps="p85"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="p142" org.eventb.core.prInfHyps="p86"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="p142" org.eventb.core.prInfHyps="p87"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p144" org.eventb.core.prHyps="p142" org.eventb.core.prInfHyps="p171"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p153" org.eventb.core.prHyps="p142" org.eventb.core.prInfHyps="p172"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p164" org.eventb.core.prHyps="p142" org.eventb.core.prInfHyps="p173"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p85"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p86"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p87" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p92"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p171" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p174"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p172" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p175"/>
<org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p173"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p78" org.eventb.core.prHyps="p1,p3,p4,p152,p8,p9,p137,p12,p16,p50,p92,p19,p20,p53,p21,p23,p48,p58,p59,p27,p30,p69,p37,p65,p125,p38,p52,p42,p43,p162,p56,p5,p6,p10,p11,p13,p14,p66,p49,p17,p60,p174,p175,p25,p47,p29,p51,p31,p32,p57,p35,p36,p54,p39,p55,p76,p40,p41,p142">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p83"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p165"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prExprRef name=".exprs" org.eventb.core.prRef="e1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p123">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p156"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p156" org.eventb.core.prHyps="p123" org.eventb.core.prInfHyps="p196"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p196"/>
<org.eventb.core.prRule name="r14" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p78" org.eventb.core.prHyps="p123,p3">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p156"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p147"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p147"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="len∈ℕ1"/>
<org.eventb.core.prPred name="p91" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒front(tr)+len∈ttd"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="(dom(ttds × {OCCUPIED}) ⩤ stateTTD)(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p97" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p137" org.eventb.core.predicate="¬tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p128" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds∧(front(tr)+len∈ttd∨(⊤∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p118" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ union(TTD)"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p181" org.eventb.core.predicate="rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p176" org.eventb.core.predicate="¬{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤))(tr0) ‥ front(tr0)∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p177" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨(⊤∧¬rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p157" org.eventb.core.predicate="⊤∨ttd∈stateTTD∼[{OCCUPIED}]">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p125" org.eventb.core.predicate="ttd∈stateTTD∼[{FREE}]">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="b − a≥20"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p132" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧rear(tr)+len ‥ front(tr)+len∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p116" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆union(TTD)∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p93" org.eventb.core.predicate="¬rear(tr0) ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒front(tr)+len&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="¬{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr0) ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p165" org.eventb.core.predicate="tr=tr0∨tr≠tr0">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p139" org.eventb.core.predicate="⊥"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="tr0∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p102" org.eventb.core.predicate="¬{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤))(tr) ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr0⦂TRAIN·tr0∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∧ttd∈TTD∧¬{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr0) ‥ (front{tr ↦ front(tr)+len})(tr0)∩ttd=(∅ ⦂ ℙ(ℤ))⇒(stateTTD(ttds × {OCCUPIED}))(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p164" org.eventb.core.predicate="¬tr∈dom(rear)∨rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p168" org.eventb.core.predicate="tr=tr0">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p145" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p169" org.eventb.core.predicate="tr≠tr0">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p188" org.eventb.core.predicate="rear(tr)+len=rear(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒front(tr)+len∈ttd∨(tr∈dom(rear)∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p142" org.eventb.core.predicate="¬tr∈dom(rear)"/>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="⊥⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;rear(tr)+len)"/>
<org.eventb.core.prPred name="p136" org.eventb.core.predicate="⊤∨⊤"/>
<org.eventb.core.prPred name="p182" org.eventb.core.predicate="tr∈dom(rear)∧rear∈TRAIN ⇸ ℤ∧tr0∈dom(rear{tr ↦ rear(tr)+len})∧rear{tr ↦ rear(tr)+len}∈TRAIN ⇸ ℤ∧tr0∈dom(rear)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="tr∈dom(rear)∨tr∉dom(rear)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p154" org.eventb.core.predicate="⊥∨ttd∉ttds">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="ttd∈dom(ttds × {OCCUPIED})">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p126" org.eventb.core.predicate="ttd∈stateTTD∼[{OCCUPIED}]∨⊤">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p127" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p109" org.eventb.core.predicate="tr∈dom(rear{tr ↦ rear(tr)+len})"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬FREE=UNKNOW"/>
<org.eventb.core.prPred name="p120" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆union(TTD)∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p159" org.eventb.core.predicate="⊤∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧¬rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))))⇒⊥">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p96" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒front(tr)+len∈ttd∨(⊤∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="ttds⊆stateTTD∼[{FREE}]"/>
<org.eventb.core.prPred name="p115" org.eventb.core.predicate="TTD⊆ℙ1(union(TTD))"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p147" org.eventb.core.predicate="ttd∈ttds∨ttd∉ttds">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p184" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ∧rear{tr ↦ rear(tr)+len}∈TRAIN ⇸ ℤ∧tr0∈dom(rear)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p112" org.eventb.core.predicate="tr0=tr∨tr0≠tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="¬OCCUPIED=UNKNOW"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="¬{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr0) ‥ (front{tr ↦ front(tr)+len})(tr0)∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p146" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧¬rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p153" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧¬rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p193" org.eventb.core.predicate="ae=(rear{tr ↦ rear(tr)+len})(tr0)">
<org.eventb.core.prIdent name="ae" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p167" org.eventb.core.predicate="¬tr=tr0">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p121" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(union(TTD))"/>
<org.eventb.core.prPred name="p113" org.eventb.core.predicate="⊤∨tr0≠tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p180" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨¬rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ)))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p134" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD∧(front(tr)+len∈ttd∨¬rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ)))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p191" org.eventb.core.predicate="tr∈dom(rear)∧rear∈TRAIN ⇸ ℤ∧tr0∈dom(rear{tr ↦ rear(tr)+len})∧rear{tr ↦ rear(tr)+len}∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p174" org.eventb.core.predicate="¬rear(tr0) ‥ front(tr0)∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p175" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧front(tr)+len∈ttd⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p131" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD∧(front(tr)+len∈ttd∨¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ)))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;rear(tr)+len)"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="¬{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr) ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p161" org.eventb.core.predicate="¬(tr∈dom(rear)∧¬rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ)))">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="MA∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p152" org.eventb.core.predicate="¬ttd∈ttds">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p185" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p148" org.eventb.core.predicate="ttd∈ttds">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p150" org.eventb.core.predicate="ttd∉ttds">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p130" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD∧(front(tr)+len∈ttd∨(⊤∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p187" org.eventb.core.predicate="(rear{tr ↦ rear(tr)+len})(tr0)=rear(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p110" org.eventb.core.predicate="¬rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p114" org.eventb.core.predicate="ttd∈stateTTD∼[{OCCUPIED}]∨ttd∈stateTTD∼[{FREE}]">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p192" org.eventb.core.predicate="⊤∧⊤∧⊤∧⊤"/>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="tr∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊥)))"/>
<org.eventb.core.prPred name="p104" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒front(tr)+len∈ttd∨¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p99" org.eventb.core.predicate="tr0∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤)))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p166" org.eventb.core.predicate="⊥∨tr≠tr0">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="⊥⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p172" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨(⊥∧¬rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p163" org.eventb.core.predicate="¬tr∈dom(rear)∨¬¬rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p196" org.eventb.core.predicate="ttd∈stateTTD∼[{FREE}]∨⊤">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒front(tr)+len&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="(stateTTD(ttds × {OCCUPIED}))(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p143" org.eventb.core.predicate="¬{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr0) ‥ ({tr} ⩤ front)(tr0)∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p138" org.eventb.core.predicate="¬⊤"/>
<org.eventb.core.prPred name="p95" org.eventb.core.predicate="¬rear(tr) ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="front(tr)+len∈MA(tr)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧rear(tr)+len ‥ front(tr)+len∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p123" org.eventb.core.predicate="ttd∈stateTTD∼[{OCCUPIED}]">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p170" org.eventb.core.predicate="¬⊥"/>
<org.eventb.core.prPred name="p105" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p144" org.eventb.core.predicate="¬{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr0) ‥ front(tr0)∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p101" org.eventb.core.predicate="tr∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤)))"/>
<org.eventb.core.prPred name="p156" org.eventb.core.predicate="ttd∈stateTTD∼[{FREE}]∨ttd∈stateTTD∼[{OCCUPIED}]">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒front(tr)+len∈ttd∨(tr∈dom(rear)∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒front(tr)+len∈ttd∨(⊥∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p111" org.eventb.core.predicate="¬(rear{tr ↦ rear(tr)+len})(tr) ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p160" org.eventb.core.predicate="¬(front(tr)+len∈ttd∨(tr∈dom(rear)∧¬rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))))">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p135" org.eventb.core.predicate="tr0≠tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p194" org.eventb.core.predicate="¬ae ‥ front(tr0)∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="ae" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p106" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;rear(tr)+len"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="¬{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊥))(tr) ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="tr0∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∧ttd∈TTD∧¬{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr0) ‥ (front{tr ↦ front(tr)+len})(tr0)∩ttd=(∅ ⦂ ℙ(ℤ))⇒(stateTTD(ttds × {OCCUPIED}))(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="¬ttd∈dom(ttds × {OCCUPIED})">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p195" org.eventb.core.predicate="ae=rear(tr0)">
<org.eventb.core.prIdent name="ae" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p189" org.eventb.core.predicate="({tr} ⩤ rear)(tr0)=rear(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr1≠tr∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr)+len∉ttd)"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p173" org.eventb.core.predicate="¬⊥∨rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p151" org.eventb.core.predicate="ttd∈ttds∨⊤">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="tr∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))"/>
<org.eventb.core.prPred name="p119" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(union(TTD))"/>
<org.eventb.core.prPred name="p94" org.eventb.core.predicate="tr∈dom(rear)"/>
<org.eventb.core.prPred name="p122" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆union(TTD)∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p117" org.eventb.core.predicate="front∈dom(connectedTrain) → union(TTD)"/>
<org.eventb.core.prPred name="p190" org.eventb.core.predicate="rear(tr0)=rear(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p103" org.eventb.core.predicate="⊤∨tr∉dom(rear)"/>
<org.eventb.core.prPred name="p140" org.eventb.core.predicate="tr∉dom(rear)"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬OCCUPIED=FREE"/>
<org.eventb.core.prPred name="p92" org.eventb.core.predicate="tr0∈dom(rear)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="tr∈dom(MA)"/>
<org.eventb.core.prPred name="p129" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬FREE=AMBIGUOUS"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p179" org.eventb.core.predicate="¬(rear{tr ↦ rear(tr)+len})(tr0) ‥ front(tr0)∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p98" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;rear(tr)+len)"/>
<org.eventb.core.prPred name="p155" org.eventb.core.predicate="⊥∨⊤"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="ttd∈TTD">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p149" org.eventb.core.predicate="⊤∨ttd∉ttds">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p178" org.eventb.core.predicate="¬⊤∨rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr0⦂TRAIN·tr0∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∧ttd∈TTD∧{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr0) ‥ (front{tr ↦ front(tr)+len})(tr0)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒(stateTTD(ttds × {OCCUPIED}))(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p141" org.eventb.core.predicate="tr∈dom(rear)∨⊤"/>
<org.eventb.core.prPred name="p162" org.eventb.core.predicate="¬front(tr)+len∈ttd">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∩dom(MA)"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧tr1≠tr⇒front(tr1)&lt;rear(tr)+len)"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr)+len∈ttd)"/>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="¬{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊥))(tr0) ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS"/>
<org.eventb.core.prPred name="p186" org.eventb.core.predicate="rear{tr ↦ rear(tr)+len}∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="(ttds × {OCCUPIED})(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p108" org.eventb.core.predicate="¬(rear{tr ↦ rear(tr)+len})(tr0) ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p124" org.eventb.core.predicate="⊤∨ttd∈stateTTD∼[{FREE}]">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p171" org.eventb.core.predicate="¬{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊥))(tr0) ‥ front(tr0)∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p158" org.eventb.core.predicate="ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧¬rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="tr0∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊥)))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p107" org.eventb.core.predicate="tr0∈dom(rear{tr ↦ rear(tr)+len})">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p100" org.eventb.core.predicate="¬{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤))(tr0) ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p183" org.eventb.core.predicate="⊤∧rear∈TRAIN ⇸ ℤ∧⊤∧rear{tr ↦ rear(tr)+len}∈TRAIN ⇸ ℤ∧tr0∈dom(rear)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p133" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD∧(front(tr)+len∈ttd∨(⊤∧rear(tr)+len ‥ front(tr)+len∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prExpr name="e1" org.eventb.core.expression="ttd">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prExpr>
<org.eventb.core.prExpr name="e0" org.eventb.core.expression="(rear{tr ↦ rear(tr)+len})(tr0)">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prExpr>
<org.eventb.core.prReas name="r21" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r16" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r12" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r17" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
<org.eventb.core.prReas name="r20" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r15" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r14" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r22" org.eventb.core.prRID="org.eventb.core.seqprover.ae"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r18" org.eventb.core.prRID="org.eventb.core.seqprover.allD"/>
<org.eventb.core.prReas name="r19" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.cut"/>
<org.eventb.core.prReas name="r11" org.eventb.core.prRID="org.eventb.core.seqprover.hypOr"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.core.seqprover.disjE"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r13" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="_connectTrain/inv2_3/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr0,ttd" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="REWRITE17" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="REWRITE18" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="REWRITE19" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p47" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p48" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p50" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p51" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p52" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p54"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p53" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p54" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p56"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p55" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p56" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p59"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees ttd,tr0)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p60">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p60" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p64" org.eventb.core.prHyps="p61,p62,p63">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p64" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p66" org.eventb.core.prHyps="p65">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p66" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p67">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p67" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p69" org.eventb.core.prHyps="p68">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p69" org.eventb.core.prHyps="p9">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p70">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in (front{tr ↦ fr})(tr0)" org.eventb.core.prHyps="p63">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p71,p72">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p63"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr0=tr" org.eventb.core.prHyps="p71">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p61" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p61"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p74,p75,p76,p77,p78,p79,p80,p81,p82,p83,p84,p7,p4,p6,p85,p86,p87,p88,p89,p90,p9,p91,p11,p13,p15,p17,p19,p21,p23,p25,p27,p29,p31,p33,p61"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p70" org.eventb.core.prHyps="p1,p68,p5,p42,p62,p72,p9">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p92,p93">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p63"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in hyp" org.eventb.core.prHyps="p7">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p93" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p94"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p94"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p74,p75,p76,p77,p78,p79,p80,p81,p82,p83,p84,p7,p4,p6,p85,p86,p87,p88,p89,p90,p9,p91,p11,p13,p15,p17,p19,p21,p23,p25,p27,p29,p31,p33"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p70" org.eventb.core.prHyps="p1,p3,p4,p5,p92,p94,p6,p61,p62,p23,p7">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="integer" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="(dom(ttds × {OCCUPIED}) ⩤ stateTTD)(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p92" org.eventb.core.predicate="¬tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="ttd∈dom(ttds × {OCCUPIED})">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬TRAIN⊆dom(connectedTrain)"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr1)∈ttd⇒fr∉ttd)"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="union(VSS)=WAY">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="tr0∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr1)∈ttd⇒¬fr∈ttd)"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="tr∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="ttd∈TTD">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr0⦂TRAIN·tr0∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))∧ttd∈TTD∧(front{tr ↦ fr})(tr0)∈ttd⇒(stateTTD(ttds × {OCCUPIED}))(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="VSS⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="fr∈WAY"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="TRAIN ∖ dom(connectedTrain)≠(∅ ⦂ ℙ(TRAIN))"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(integer=TRUE∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="(stateTTD(ttds × {OCCUPIED}))(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p94" org.eventb.core.predicate="front(tr0)∈ttd">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="integer=TRUE⇒re∈WAY"/>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p91" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(integer=TRUE∧re ‥ fr∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="tr0∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))∧ttd∈TTD∧(front{tr ↦ fr})(tr0)∈ttd⇒(stateTTD(ttds × {OCCUPIED}))(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="(front{tr ↦ fr})(tr0)∈ttd">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="(ttds × {OCCUPIED})(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p93" org.eventb.core.predicate="({tr} ⩤ front)(tr0)∈ttd">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="integer∈BOOL"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="¬ttd∈dom(ttds × {OCCUPIED})">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="fr∈ttd">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="_connectTrain/inv2_4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr0,ttd" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p44">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p33"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="REWRITE17" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="REWRITE18" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="REWRITE19" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p47" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p48" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p50" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p51" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p52" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p54"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p53" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p54" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p56"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p55" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p56" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p59"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees ttd,tr0)" org.eventb.core.prGoal="p44" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p60">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p60" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p64" org.eventb.core.prHyps="p61,p62,p63">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p64" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p66" org.eventb.core.prHyps="p65">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p66" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p67">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p67" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p69" org.eventb.core.prHyps="p68">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p69" org.eventb.core.prHyps="p8">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p70">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in (front{tr ↦ fr})(tr0)" org.eventb.core.prHyps="p63">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p71,p72">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p63"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr0=tr" org.eventb.core.prHyps="p71">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p61" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p72" org.eventb.core.prInfHyps="p74"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p61,p72"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p75,p76,p77,p78,p79,p80,p81,p82,p83,p84,p85,p6,p4,p86,p87,p88,p89,p90,p91,p92,p8,p93,p94,p10,p12,p14,p16,p18,p20,p24,p26,p28,p30,p32,p61,p72"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p70" org.eventb.core.prHyps="p73,p74,p1,p2,p4,p68,p5,p41,p62,p8">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p95,p96">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p63"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in hyp" org.eventb.core.prHyps="p6">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p96" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p97"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p97"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p75,p76,p77,p78,p79,p80,p81,p82,p83,p84,p85,p6,p4,p86,p87,p88,p89,p90,p91,p92,p8,p93,p94,p10,p12,p14,p16,p18,p20,p24,p26,p28,p30,p32"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p70" org.eventb.core.prHyps="p1,p4,p61,p97,p5,p95,p62,p22">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="integer" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="(dom(ttds × {OCCUPIED}) ⩤ stateTTD)(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p95" org.eventb.core.predicate="¬tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬TRAIN⊆dom(connectedTrain)"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr1)∈ttd⇒fr∉ttd)"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="union(VSS)=WAY">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr1)∈ttd⇒¬fr∈ttd)"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr0⦂TRAIN·tr0∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))∧ttd∈TTD∧{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr0) ‥ (front{tr ↦ fr})(tr0)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒(stateTTD(ttds × {OCCUPIED}))(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="TRAIN ∖ dom(connectedTrain)≠(∅ ⦂ ℙ(TRAIN))"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="tr0∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(integer=TRUE∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="(stateTTD(ttds × {OCCUPIED}))(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p96" org.eventb.core.predicate="¬{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr0) ‥ ({tr} ⩤ front)(tr0)∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p92" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p93" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="tr0∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))∧ttd∈TTD∧¬{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr0) ‥ (front{tr ↦ fr})(tr0)∩ttd=(∅ ⦂ ℙ(ℤ))⇒(stateTTD(ttds × {OCCUPIED}))(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="tr0=tr">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="¬{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr0) ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr0⦂TRAIN·tr0∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))∧ttd∈TTD∧¬{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr0) ‥ (front{tr ↦ fr})(tr0)∩ttd=(∅ ⦂ ℙ(ℤ))⇒(stateTTD(ttds × {OCCUPIED}))(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="integer∈BOOL"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="¬ttd∈dom(ttds × {OCCUPIED})">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="ttd∈dom(ttds × {OCCUPIED})">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="ttd∈TTD">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="VSS⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="re&lt;fr"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="integer=TRUE⇒re∈WAY"/>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="tr∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="tr∈TRAIN ∖ dom(connectedTrain)"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(integer=TRUE∧re ‥ fr∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p97" org.eventb.core.predicate="¬{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr0) ‥ front(tr0)∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="(ttds × {OCCUPIED})(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="¬{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr) ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p94" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p91" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="¬{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr0) ‥ (front{tr ↦ fr})(tr0)∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="_freeTtd/grd1/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41,p42,p43,p44,p45,p46,p47"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p41,p42,p43,p44,p45,p46,p47"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p54"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p61"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p64"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p65"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p65"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p65" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p66"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p66" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p67"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p67"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p67" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p68"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p68"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p68" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p69"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p69"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p70"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p71">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p71" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p73" org.eventb.core.prHyps="p72">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p73" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p74">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p74" org.eventb.core.prHyps="p34,p8,p17,p37,p12,p25,p15,p6,p33,p16,p10,p4,p13,p28,p24,p35,p38,p36,p26,p7,p27,p11,p31,p14,p21,p5,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p55,p56,p57,p58,p59,p60,p70,p72">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p75">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p75" org.eventb.core.prHyps="p28"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬OCCUPIED=FREE"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬FREE=UNKNOW"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬FREE=AMBIGUOUS"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬OCCUPIED=UNKNOW"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="b − a≥20"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="ttd∈stateTTD∼[{OCCUPIED}]"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="tr∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="_freeTtd/inv2_1/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44,p45,p46,p47,p48,p49,p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44,p45,p46,p47,p48,p49,p50"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p57"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p61"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p64"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p65"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p67"/>
<org.eventb.core.prHypAction name="REWRITE17" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p68"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p66" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p69"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p69"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p67" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p70"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p70"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p71"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p72"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p72"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p73"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p72" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p74"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p74"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p75"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p75"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p74" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p76"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p76"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p77"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p77"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p76" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p78"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p78"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p77" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p79"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p78" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p80"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p80"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p79" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p80" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p82"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p37,p10,p19,p40,p13,p28,p17,p7,p36,p18,p11,p5,p14,p31,p26,p38,p41,p39,p27,p8,p29,p12,p34,p15,p23,p6,p16,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p58,p59,p60,p61,p62,p63,p68,p81,p82">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)⇒¬front(tr)∈ttd"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬OCCUPIED=FREE"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬FREE=UNKNOW"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬FREE=AMBIGUOUS"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬OCCUPIED=UNKNOW"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="b − a≥20"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="stateTTD{ttd ↦ FREE}∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)⇒front(tr)∉ttd"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="ttd∈stateTTD∼[{OCCUPIED}]"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="_freeTtd/inv2_3/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="ttd0,tr" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42,p43,p44,p45,p46,p47,p48"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p42,p43,p44,p45,p46,p47,p48"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p61"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE14" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees ttd0,tr)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p64">
<org.eventb.core.prIdent name="ttd0" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p64" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p68" org.eventb.core.prHyps="p65,p66,p67">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p68" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p70" org.eventb.core.prHyps="p69">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p70" org.eventb.core.prHyps="p43">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p71">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with ttd0=ttd" org.eventb.core.prHyps="p69">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p66" org.eventb.core.prInfHyps="p72"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p67" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p66,p67"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p71" org.eventb.core.prHyps="p35,p9,p18,p38,p12,p27,p16,p7,p34,p17,p10,p5,p13,p29,p25,p36,p39,p37,p26,p8,p28,p11,p31,p14,p22,p6,p15,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p56,p57,p58,p59,p60,p61,p63,p65,p66,p67,p69,p72,p73">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p75" org.eventb.core.prHyps="p74">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p75" org.eventb.core.prHyps="p31">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p76">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p76" org.eventb.core.prHyps="p35,p9,p18,p38,p12,p27,p16,p7,p34,p17,p10,p5,p13,p29,p25,p36,p39,p37,p26,p8,p28,p11,p31,p14,p22,p6,p15,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p56,p57,p58,p59,p60,p61,p63,p65,p66,p67,p74">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="ttd0=ttd">
<org.eventb.core.prIdent name="ttd0" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)⇒¬front(tr)∈ttd"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="ttd0∈TTD">
<org.eventb.core.prIdent name="ttd0" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬OCCUPIED=FREE"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬FREE=UNKNOW"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬FREE=AMBIGUOUS"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)∧ttd0∈TTD∧front(tr)∈ttd0⇒(stateTTD{ttd ↦ FREE})(ttd0)=OCCUPIED">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd0" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="(stateTTD{ttd ↦ FREE})(ttd0)=OCCUPIED">
<org.eventb.core.prIdent name="ttd0" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="ttd∈TTD"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀ttd0⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd0∈TTD∧front(tr)∈ttd0⇒(stateTTD{ttd ↦ FREE})(ttd0)=OCCUPIED"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬OCCUPIED=UNKNOW"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="b − a≥20"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="front(tr)∈ttd0">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd0" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)⇒front(tr)∉ttd"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="FREE=OCCUPIED"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="ttd∈stateTTD∼[{OCCUPIED}]"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="stateTTD(ttd0)=OCCUPIED">
<org.eventb.core.prIdent name="ttd0" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="¬ttd0=ttd">
<org.eventb.core.prIdent name="ttd0" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="⊥"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="({ttd} ⩤ stateTTD)(ttd0)=OCCUPIED">
<org.eventb.core.prIdent name="ttd0" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="front(tr)∈ttd">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="_freeTtd/inv2_4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="ttd0,tr" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42,p43,p44,p45,p46,p47,p48"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p42,p43,p44,p45,p46,p47,p48"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p64">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p61"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE14" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees ttd0,tr)" org.eventb.core.prGoal="p64" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p65">
<org.eventb.core.prIdent name="ttd0" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p65" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p69" org.eventb.core.prHyps="p66,p67,p68">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p69" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p71" org.eventb.core.prHyps="p70">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p71" org.eventb.core.prHyps="p43">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p72">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with ttd0=ttd" org.eventb.core.prHyps="p70">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p67" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p68" org.eventb.core.prInfHyps="p74"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p67,p68"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p72" org.eventb.core.prHyps="p35,p9,p18,p38,p12,p27,p16,p7,p34,p17,p10,p5,p13,p29,p25,p36,p39,p37,p26,p8,p28,p11,p31,p14,p22,p6,p15,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p56,p57,p58,p59,p60,p61,p63,p66,p67,p68,p70,p73,p74">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p76" org.eventb.core.prHyps="p75">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p76" org.eventb.core.prHyps="p31">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p77">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p77" org.eventb.core.prHyps="p35,p9,p18,p38,p12,p27,p16,p7,p34,p17,p10,p5,p13,p29,p25,p36,p39,p37,p26,p8,p28,p11,p31,p14,p22,p6,p15,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p56,p57,p58,p59,p60,p61,p63,p66,p67,p68,p75">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="ttd0=ttd">
<org.eventb.core.prIdent name="ttd0" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)⇒¬front(tr)∈ttd"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="tr∈dom(rear)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="∀ttd0⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd0∈TTD∧¬rear(tr) ‥ front(tr)∩ttd0=(∅ ⦂ ℙ(ℤ))⇒(stateTTD{ttd ↦ FREE})(ttd0)=OCCUPIED"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="ttd0∈TTD">
<org.eventb.core.prIdent name="ttd0" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬OCCUPIED=FREE"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬FREE=UNKNOW"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬FREE=AMBIGUOUS"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="(stateTTD{ttd ↦ FREE})(ttd0)=OCCUPIED">
<org.eventb.core.prIdent name="ttd0" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="ttd∈TTD"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="tr∈dom(rear)∧ttd0∈TTD∧¬rear(tr) ‥ front(tr)∩ttd0=(∅ ⦂ ℙ(ℤ))⇒(stateTTD{ttd ↦ FREE})(ttd0)=OCCUPIED">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd0" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬OCCUPIED=UNKNOW"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="b − a≥20"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)⇒front(tr)∉ttd"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="FREE=OCCUPIED"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="ttd∈stateTTD∼[{OCCUPIED}]"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="¬rear(tr) ‥ front(tr)∩ttd0=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd0" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="stateTTD(ttd0)=OCCUPIED">
<org.eventb.core.prIdent name="ttd0" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀ttd0⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd0∈TTD∧rear(tr) ‥ front(tr)∩ttd0≠(∅ ⦂ ℙ(ℤ))⇒(stateTTD{ttd ↦ FREE})(ttd0)=OCCUPIED"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="¬ttd0=ttd">
<org.eventb.core.prIdent name="ttd0" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="⊥"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="({ttd} ⩤ stateTTD)(ttd0)=OCCUPIED">
<org.eventb.core.prIdent name="ttd0" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="inv2_5/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr1,tr2" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p19">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1,tr2)" org.eventb.core.prGoal="p19" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p20">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p24" org.eventb.core.prHyps="p21,p22,p23">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p24" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p25">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p25" org.eventb.core.prHyps="p1"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p26">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p2,p1,p37,p38,p39,p40,p41,p42,p43,p5,p7,p9,p11,p13,p15"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="p21,p1,p2,p3">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p44">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p44" org.eventb.core.prHyps="p2"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="*" org.eventb.core.prGoal="p45">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p2,p1,p37,p38,p39,p40,p41,p42,p43,p5,p7,p9,p11,p13,p15"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p45" org.eventb.core.prHyps="p22,p1,p2,p3">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear∈TRAIN ⇸ ℤ∧tr1∈dom(front)∧front∈TRAIN ⇸ ℤ∧tr2∈dom(front)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear∈TRAIN ⇸ ℤ∧tr1∈dom(front)∧front∈TRAIN ⇸ ℤ∧tr2∈dom(front)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="tr1∈dom(rear)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬tr1=tr2">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="union(VSS)=WAY">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear∈TRAIN ⇸ ℤ∧tr1∈dom(front)∧front∈TRAIN ⇸ ℤ∧tr2∈dom(front)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="tr2∈dom(front)">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ∧tr1∈dom(front)∧front∈TRAIN ⇸ ℤ∧tr2∈dom(front)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="VSS⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="tr2∈dom(rear)">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="tr1∈dom(front)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="inv2_6/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr1,tr2" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1,tr2)" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p24">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p24" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p28" org.eventb.core.prHyps="p25,p26,p27">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p28" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p29">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p29" org.eventb.core.prHyps="p7,p3,p1,p21,p22,p25,p26,p27">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p30">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p30" org.eventb.core.prHyps="p5"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p31">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="p4"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="tr2∈dom(front)∧front∈TRAIN ⇸ ℤ∧rear∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="tr1∈dom(rear)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬tr1=tr2">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒tr2∈dom(front)∧front∈TRAIN ⇸ ℤ∧rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="tr2∈dom(front) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒tr2∈dom(front)∧front∈TRAIN ⇸ ℤ∧rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="tr2∈dom(front)">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒tr2∈dom(front)∧front∈TRAIN ⇸ ℤ∧rear∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalPP:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="inv2_7/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr1,tr2,ttd" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p24">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p24" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p25">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1,tr2,ttd)" org.eventb.core.prGoal="p25" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p26">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="p27,p28,p29,p30">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p32">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p32" org.eventb.core.prHyps="p7,p3,p1,p21,p22,p23,p27,p28,p29,p30">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p33">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p33" org.eventb.core.prHyps="p5"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p34">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1,tr2,ttd)" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p35">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p35" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p37" org.eventb.core.prHyps="p27,p28,p29,p30,p36">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p37" org.eventb.core.prHyps="p7,p3,p1,p21,p22,p23,p27,p28,p29,p30,p36">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="front(tr1)∈ttd">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒tr2∈dom(front)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒tr2∈dom(front)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="tr1∈dom(front) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬tr1=tr2">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="tr1∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="tr2∈dom(front) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="tr2∈dom(front)">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="(∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD⇒tr1∈dom(front)∧front∈TRAIN ⇸ ℤ)∧(∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒tr2∈dom(front))"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="ttd∈TTD">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD⇒tr1∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD⇒tr1∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="tr1∈dom(front)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·(tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD⇒tr1∈dom(front)∧front∈TRAIN ⇸ ℤ)∧(tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒tr2∈dom(front))"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalPP:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv2_5/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p5">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p5" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(∅ ⦂ ℙ(TRAIN×ℤ))∧tr2∈dom(∅ ⦂ ℙ(TRAIN×ℤ))∧tr1≠tr2⇒(∅ ⦂ ℙ(TRAIN×ℤ))(tr1) ‥ (∅ ⦂ ℙ(TRAIN×ℤ))(tr1)∩(∅ ⦂ ℙ(TRAIN×ℤ))(tr2) ‥ (∅ ⦂ ℙ(TRAIN×ℤ))(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv2_6/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p5">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p5" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(∅ ⦂ ℙ(TRAIN×ℤ))∧tr2∈dom(∅ ⦂ ℙ(TRAIN×ℤ)) ∖ dom(∅ ⦂ ℙ(TRAIN×ℤ))∧tr1≠tr2⇒(∅ ⦂ ℙ(TRAIN×ℤ))(tr2)&lt;(∅ ⦂ ℙ(TRAIN×ℤ))(tr1)"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv2_7/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p5">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p5" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(∅ ⦂ ℙ(TRAIN×ℤ)) ∖ dom(∅ ⦂ ℙ(TRAIN×ℤ))∧tr2∈dom(∅ ⦂ ℙ(TRAIN×ℤ)) ∖ dom(∅ ⦂ ℙ(TRAIN×ℤ))∧tr1≠tr2∧ttd∈TTD∧(∅ ⦂ ℙ(TRAIN×ℤ))(tr1)∈ttd⇒(∅ ⦂ ℙ(TRAIN×ℤ))(tr2)∉ttd"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="MoveTrainFollowingItsMA/grd6/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr1" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p3">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p6">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p6" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p40">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p32"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p33"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="REWRITE17" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p42"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p43"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p47" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p48" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p50" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p51" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p52" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p40" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p56" org.eventb.core.prHyps="p55">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1)" org.eventb.core.prGoal="p56" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p57">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p57" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p60" org.eventb.core.prHyps="p58,p59">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p60" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p61">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p61" org.eventb.core.prHyps="p4"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p62">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="p55" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p65,p66,p67,p68,p69,p70,p71,p72,p73,p74,p75,p5,p4,p76,p77,p78,p79,p80,p81,p82,p83,p84,p85,p3,p1,p86,p87,p8,p10,p12,p14,p16,p18,p21,p23,p25,p27,p29,p31"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p62" org.eventb.core.prHyps="p2,p58,p4,p5">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="len∈ℕ1"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="MA∈TRAIN ⇸ ℙ(ℤ)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="tr1∈dom(rear)∧¬tr1=tr⇒rear∈TRAIN ⇸ ℤ∧tr1∈dom(front)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒rear∈TRAIN ⇸ ℤ∧tr1∈dom(front)∧front∈TRAIN ⇸ ℤ∧tr∈dom(front))"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="tr∈dom(rear)"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="union(VSS)=WAY">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="tr∈dom(MA)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨(⊤∧¬rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ∧tr1∈dom(front)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="VSS⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="tr1∈dom(front)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧¬rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧rear(tr)+len ‥ front(tr)+len∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="tr1∈dom(rear)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear∈TRAIN ⇸ ℤ∧tr1∈dom(front)"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="TTD⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨¬rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ)))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒rear∈TRAIN ⇸ ℤ∧tr1∈dom(front)∧⊤∧⊤)"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="union(TTD)=WAY">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬tr1=tr">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear∈TRAIN ⇸ ℤ∧tr1∈dom(front))"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="MoveTrainFollowingItsMA/grd7/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr1" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p3">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p3" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p39">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="REWRITE17" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prHypAction name="REWRITE18" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p40"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p42"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p43"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p47" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p48" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p50" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p51" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p39" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p55" org.eventb.core.prHyps="p54">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1)" org.eventb.core.prGoal="p55" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p56">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p56" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p59" org.eventb.core.prHyps="p57,p58">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p59" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p60">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="p54" org.eventb.core.prInfHyps="p61"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="p54" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p61" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p65,p66,p67,p68,p69,p70,p71,p72,p73,p74,p75,p76,p2,p77,p78,p79,p80,p81,p82,p83,p84,p85,p86,p87,p1,p88,p89,p5,p7,p9,p11,p13,p15,p18,p20,p22,p24,p26,p28"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p60" org.eventb.core.prHyps="p57">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p90">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p90" org.eventb.core.prHyps="p2"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="MA∈TRAIN ⇸ ℙ(ℤ)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧tr1≠tr⇒tr1∈dom(front)∧front∈TRAIN ⇸ ℤ∧rear∈TRAIN ⇸ ℤ)"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="tr∈dom(rear)"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="tr1∈dom(front)∧rear∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="union(VSS)=WAY">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="tr∈dom(MA)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨(⊤∧¬rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="VSS⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="tr1∈dom(front)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧¬rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒tr1∈dom(front)∧rear∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧rear(tr)+len ‥ front(tr)+len∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒tr1∈dom(front)∧rear∈TRAIN ⇸ ℤ)"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="TTD⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨¬rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ)))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧tr1≠tr⇒tr1∈dom(front)∧⊤∧rear∈TRAIN ⇸ ℤ)"/>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="tr1∈dom(front) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="union(TTD)=WAY">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="¬tr1=tr">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒tr1∈dom(front)∧rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="MoveTrainFollowingItsMA/grd8/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr1" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p4">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p4" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p42">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p31"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prHypAction name="REWRITE17" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="REWRITE18" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="REWRITE19" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p43"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p47" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p48" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p50" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p51" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p52" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p54"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p53" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p54" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p42" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p58" org.eventb.core.prHyps="p57">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1)" org.eventb.core.prGoal="p58" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p59">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p59" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p62" org.eventb.core.prHyps="p60,p61">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p62" org.eventb.core.prHyps="p3"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒⊤∧⊤∧rear∈TRAIN ⇸ ℤ)"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear∈TRAIN ⇸ ℤ)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧rear∈TRAIN ⇸ ℤ)"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="tr1∈dom(rear)∧¬tr1=tr⇒rear∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧¬rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧rear(tr)+len ‥ front(tr)+len∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="tr1∈dom(rear)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧tr1≠tr⇒front(tr1)&lt;rear(tr)+len)">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;rear(tr)+len)">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬tr1=tr">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="MoveTrainFollowingItsMA/grd9/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr1,ttd" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p3">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p4">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p4" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p44">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p31"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prHypAction name="REWRITE17" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="REWRITE18" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="REWRITE19" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="REWRITE20" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p47" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p48" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p50" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p51" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p52" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p54"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p53" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p54" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p56"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p55" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p56" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p44" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p60" org.eventb.core.prHyps="p59">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1,ttd)" org.eventb.core.prGoal="p60" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p61">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p61" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p65" org.eventb.core.prHyps="p62,p63,p64">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="p59" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p66" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p67"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p68,p69,p70,p71,p72,p73,p74,p75,p76,p77,p78,p79,p80,p81,p82,p83,p84,p85,p86,p87,p88,p89,p90,p3,p1,p91,p92,p6,p8,p10,p12,p14,p16,p19,p21,p23,p25,p27,p29"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p65" org.eventb.core.prHyps="p2,p62">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p92" org.eventb.core.predicate="MA∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒front(tr)+len&lt;rear(tr1)">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)">
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="union(VSS)=WAY">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p91" org.eventb.core.predicate="tr∈dom(MA)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·(tr1∈dom(front) ∖ dom(rear)∧tr1≠tr∧ttd∈TTD⇒tr1∈dom(front)∧front∈TRAIN ⇸ ℤ)∧(tr1∈dom(front) ∖ dom(rear)∧tr1≠tr∧ttd∈TTD∧front(tr1)∈ttd⇒tr∈dom(front)))"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr∧ttd∈TTD⇒tr1∈dom(front)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="ttd∈TTD">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·(tr1∈dom(front) ∖ dom(rear)∧tr1≠tr∧ttd∈TTD⇒tr1∈dom(front)∧⊤)∧(tr1∈dom(front) ∖ dom(rear)∧tr1≠tr∧ttd∈TTD∧front(tr1)∈ttd⇒⊤))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒front(tr)+len&lt;rear(tr1))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="VSS⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr∧ttd∈TTD⇒tr1∈dom(front))"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="tr1∈dom(front)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧¬rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∩dom(MA)"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧rear(tr)+len ‥ front(tr)+len∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧tr1≠tr⇒front(tr1)&lt;rear(tr)+len)">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="TTD⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="tr1∈dom(front) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒front(tr)+len&lt;rear(tr1))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr∧ttd∈TTD⇒tr1∈dom(front)"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY">
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="union(TTD)=WAY">
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY">
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;rear(tr)+len)">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="¬tr1=tr">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒front(tr)+len&lt;rear(tr1))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)">
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="MoveTrainFollowingItsMA/inv2_5/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr1,tr2" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46" org.eventb.core.prSets="STATES,TRAIN" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47,p48,p49,p50,p51,p52,p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p47,p48,p49,p50,p51,p52,p53"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p67">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p61" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p65"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1,tr2)" org.eventb.core.prGoal="p67" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p68">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p68" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p72" org.eventb.core.prHyps="p69,p70,p71">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p72" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p74" org.eventb.core.prHyps="p73">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p74" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p76" org.eventb.core.prHyps="p75">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr1=tr" org.eventb.core.prGoal="p76" org.eventb.core.prHyps="p73">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p79">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p70" org.eventb.core.prInfHyps="p77"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p71" org.eventb.core.prInfHyps="p78"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p70,p71"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p78" org.eventb.core.prHyps="p75" org.eventb.core.prInfHyps="p80"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p80" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p81"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p83" org.eventb.core.prHyps="p82">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p83" org.eventb.core.prHyps="p35">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p84">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr1=tr" org.eventb.core.prGoal="p84" org.eventb.core.prHyps="p73">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p85">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p70" org.eventb.core.prInfHyps="p77"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p71" org.eventb.core.prInfHyps="p78"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p70,p71"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p78" org.eventb.core.prHyps="p82" org.eventb.core.prInfHyps="p86"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p86"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (tr∈dom(rear)∨tr∉dom(rear))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p87">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p87" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p88">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p88" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p88">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p92"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p93"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p77" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p94"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p88" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p87">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p89" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p90"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p91"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p92" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p96"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p93" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p97"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p94" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p98"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p87" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p88">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (tr∈dom(rear)∨tr∉dom(rear))" org.eventb.core.prHyps="p88">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p98">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p88"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p85" org.eventb.core.prHyps="p98">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p106">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="p98" org.eventb.core.prInfHyps="p99"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="p98" org.eventb.core.prInfHyps="p100"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="p98" org.eventb.core.prInfHyps="p101"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="p98" org.eventb.core.prInfHyps="p102"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="p98" org.eventb.core.prInfHyps="p103"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p77" org.eventb.core.prHyps="p98" org.eventb.core.prInfHyps="p104"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p88" org.eventb.core.prHyps="p98" org.eventb.core.prInfHyps="p105"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p106" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p113">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p99" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p107"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p100" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p108"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p101" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p109"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p102" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p110"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p103" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p111"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p104" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p112"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p105"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p113" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p114" org.eventb.core.prHyps="p75">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="p82" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p81"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p115" org.eventb.core.prHyps="p82">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p115" org.eventb.core.prHyps="p29">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p116">
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p116" org.eventb.core.prHyps="p1,p3,p4,p8,p9,p12,p98,p16,p110,p50,p19,p73,p112,p20,p53,p21,p23,p48,p58,p59,p27,p111,p30,p37,p65,p82,p38,p52,p42,p43,p56,p5,p6,p7,p10,p11,p13,p14,p66,p108,p49,p17,p71,p60,p25,p47,p29,p51,p31,p32,p109,p57,p35,p36,p54,p39,p55,p40,p41">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p117">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p88"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p88" org.eventb.core.prHyps="p117" org.eventb.core.prInfHyps="p118"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p117" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p119"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p118"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p85" org.eventb.core.prHyps="p119">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p120">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p92"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p93"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p77" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p94"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p120" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p121">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p89" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p90"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p91"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p92" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p96"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p93" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p97"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p94" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p98"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p98" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p81"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p88"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p123" org.eventb.core.prHyps="p122">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p123" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p124" org.eventb.core.prHyps="p75">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p124" org.eventb.core.prHyps="p35">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p125">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr2=tr" org.eventb.core.prGoal="p125" org.eventb.core.prHyps="p75">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p126">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p69" org.eventb.core.prInfHyps="p77"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p69"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (tr∈dom(rear)∨tr∉dom(rear))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p87">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p87" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p88">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p88" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p88">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p92"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p93"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p77" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p94"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p88" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p87">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p89" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p90"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p91"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p92" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p96"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p93" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p97"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p94" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p98"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p87" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p88">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (tr∈dom(rear)∨tr∉dom(rear))" org.eventb.core.prHyps="p88">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p98">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p88"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p126" org.eventb.core.prHyps="p98">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p127">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="p98" org.eventb.core.prInfHyps="p99"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="p98" org.eventb.core.prInfHyps="p100"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="p98" org.eventb.core.prInfHyps="p101"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="p98" org.eventb.core.prInfHyps="p102"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="p98" org.eventb.core.prInfHyps="p103"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p77" org.eventb.core.prHyps="p98" org.eventb.core.prInfHyps="p104"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p88" org.eventb.core.prHyps="p98" org.eventb.core.prInfHyps="p105"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p127" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p128">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p99" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p107"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p100" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p108"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p101" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p109"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p102" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p110"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p103" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p111"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p104" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p112"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p105"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p128" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p129" org.eventb.core.prHyps="p73">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="p122" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p81"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p130" org.eventb.core.prHyps="p122">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p130" org.eventb.core.prHyps="p29">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p131">
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p131" org.eventb.core.prHyps="p1,p3,p4,p8,p9,p12,p98,p16,p110,p50,p19,p112,p20,p53,p21,p23,p48,p58,p59,p27,p111,p30,p37,p65,p38,p52,p42,p43,p56,p5,p6,p7,p10,p11,p75,p13,p14,p66,p108,p49,p17,p71,p60,p25,p47,p29,p51,p31,p32,p109,p57,p35,p36,p54,p122,p39,p55,p40,p41">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p117">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p88"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p88" org.eventb.core.prHyps="p117" org.eventb.core.prInfHyps="p118"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p117" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p119"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p118"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p126" org.eventb.core.prHyps="p119">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p132">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p92"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p93"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p77" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p94"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p132" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p133">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p89" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p90"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p91"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p92" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p96"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p93" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p97"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p94" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p98"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p98" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p81"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p88"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p134" org.eventb.core.prHyps="p82">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p134" org.eventb.core.prHyps="p35">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p135">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p135" org.eventb.core.prHyps="p35">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p136">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (tr∈dom(rear)∨tr∉dom(rear))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p87">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p87" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p88">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p88" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p88">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p92"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p93"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p88" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p87">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p89" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p90"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p91"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p92" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p96"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p93" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p97"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p87" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p88">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (tr∈dom(rear)∨tr∉dom(rear))" org.eventb.core.prHyps="p88">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p98">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p88"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p136" org.eventb.core.prHyps="p98">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p137">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="p98" org.eventb.core.prInfHyps="p99"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="p98" org.eventb.core.prInfHyps="p100"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="p98" org.eventb.core.prInfHyps="p101"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="p98" org.eventb.core.prInfHyps="p102"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="p98" org.eventb.core.prInfHyps="p103"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p88" org.eventb.core.prHyps="p98" org.eventb.core.prInfHyps="p105"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p137" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p138">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p99" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p107"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p100" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p108"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p101" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p109"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p102" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p110"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p103" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p111"/>
<org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p105"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p138" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p139" org.eventb.core.prHyps="p73">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p139" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p140" org.eventb.core.prHyps="p75">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="p122" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="p82" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p81"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p141" org.eventb.core.prHyps="p82">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p141" org.eventb.core.prHyps="p29">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p142">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="p122" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p81"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p143" org.eventb.core.prHyps="p122">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p143" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p144" org.eventb.core.prHyps="p75">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p144" org.eventb.core.prHyps="p29">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p145">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="p82" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p81"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p146" org.eventb.core.prHyps="p82">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p146" org.eventb.core.prHyps="p29">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p147">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p147" org.eventb.core.prHyps="p29">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p148">
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p148" org.eventb.core.prHyps="p1,p3,p4,p8,p9,p12,p98,p16,p110,p50,p19,p20,p53,p21,p23,p48,p58,p59,p27,p111,p30,p37,p65,p82,p38,p52,p42,p43,p56,p5,p6,p7,p10,p11,p13,p14,p66,p108,p49,p17,p71,p60,p25,p47,p29,p51,p31,p32,p109,p57,p35,p36,p54,p122,p39,p55,p40,p41">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p117">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p88"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p88" org.eventb.core.prHyps="p117" org.eventb.core.prInfHyps="p118"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p117" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p119"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p118"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p136" org.eventb.core.prHyps="p119">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p149">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p92"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p93"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p149" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p148">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p89" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p90"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p91"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p92" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p96"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p93" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p97"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p148" org.eventb.core.prHyps="p1,p3,p4,p8,p9,p12,p16,p50,p19,p20,p53,p21,p23,p48,p58,p59,p27,p30,p37,p65,p82,p38,p52,p42,p43,p56,p5,p6,p7,p97,p10,p11,p13,p14,p66,p49,p17,p71,p60,p25,p47,p29,p51,p31,p32,p57,p35,p36,p54,p122,p96,p39,p55,p40,p41,p119">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p88"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prPred name="p146" org.eventb.core.predicate="({tr} ⩤ rear)(tr1) ‥ front(tr1)∩({tr} ⩤ rear)(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="len∈ℕ1"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="MA∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p115" org.eventb.core.predicate="rear(tr)+len ‥ front(tr)+len∩({tr} ⩤ rear)(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="tr2∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p95" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒front(tr)+len∈ttd"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1) ‥ front(tr)+len∩{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr2) ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p106" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤))(tr) ‥ front(tr)+len∩{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤))(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p100" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr2∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr1≠tr2⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1) ‥ (front{tr ↦ front(tr)+len})(tr1)∩{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr2) ‥ (front{tr ↦ front(tr)+len})(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p121" org.eventb.core.predicate="rear(tr) ‥ front(tr)+len∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p110" org.eventb.core.predicate="tr2∈dom(rear{tr ↦ rear(tr)+len})">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="tr1=tr">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p135" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1) ‥ front(tr1)∩{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr2) ‥ ({tr} ⩤ front)(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p103" org.eventb.core.predicate="tr1∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤)))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p94" org.eventb.core.predicate="tr∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊥)))"/>
<org.eventb.core.prPred name="p107" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒front(tr)+len∈ttd∨¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p111" org.eventb.core.predicate="tr1∈dom(rear{tr ↦ rear(tr)+len})">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr) ‥ front(tr)+len∩{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p137" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤))(tr1) ‥ front(tr1)∩{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤))(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="⊥⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒front(tr)+len&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="b − a≥20"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="¬⊤"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="front(tr)+len∈MA(tr)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧rear(tr)+len ‥ front(tr)+len∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p134" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1) ‥ ({tr} ⩤ front)(tr1)∩{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr2) ‥ ({tr} ⩤ front)(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="¬⊥"/>
<org.eventb.core.prPred name="p108" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒front(tr)+len&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="tr1∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="¬tr1=tr2">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p104" org.eventb.core.predicate="tr∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤)))"/>
<org.eventb.core.prPred name="p123" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1) ‥ ({tr} ⩤ front)(tr1)∩{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr2) ‥ (front{tr ↦ front(tr)+len})(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒front(tr)+len∈ttd∨(tr∈dom(rear)∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="⊥"/>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒front(tr)+len∈ttd∨(⊥∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p129" org.eventb.core.predicate="rear(tr)+len ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p128" org.eventb.core.predicate="(rear{tr ↦ rear(tr)+len})(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p109" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;rear(tr)+len"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p130" org.eventb.core.predicate="({tr} ⩤ rear)(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr) ‥ front(tr)+len∩{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr2) ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p141" org.eventb.core.predicate="rear(tr)+len ‥ front(tr1)∩({tr} ⩤ rear)(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p145" org.eventb.core.predicate="rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p148" org.eventb.core.predicate="rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr1≠tr∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr)+len∉ttd)"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒front(tr)+len∈ttd∨(tr∈dom(rear)∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p119" org.eventb.core.predicate="¬tr∈dom(rear)"/>
<org.eventb.core.prPred name="p149" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊥))(tr1) ‥ front(tr1)∩{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊥))(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p114" org.eventb.core.predicate="rear(tr)+len ‥ front(tr)+len∩rear(tr)+len ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p91" org.eventb.core.predicate="⊥⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;rear(tr)+len)"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="tr∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))"/>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="tr∈dom(rear)∨tr∉dom(rear)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p144" org.eventb.core.predicate="({tr} ⩤ rear)(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1) ‥ front(tr)+len∩{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr2) ‥ (front{tr ↦ front(tr)+len})(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p126" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1) ‥ front(tr1)∩{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr) ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p92" org.eventb.core.predicate="tr2∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊥)))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p98" org.eventb.core.predicate="tr∈dom(rear)"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr2∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∧¬tr1=tr2⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1) ‥ (front{tr ↦ front(tr)+len})(tr1)∩{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr2) ‥ (front{tr ↦ front(tr)+len})(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p105" org.eventb.core.predicate="⊤∨tr∉dom(rear)"/>
<org.eventb.core.prPred name="p117" org.eventb.core.predicate="tr∉dom(rear)"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬OCCUPIED=FREE"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p112" org.eventb.core.predicate="tr∈dom(rear{tr ↦ rear(tr)+len})"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬FREE=UNKNOW"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="tr∈dom(MA)"/>
<org.eventb.core.prPred name="p99" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒front(tr)+len∈ttd∨(⊤∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬FREE=AMBIGUOUS"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="ttds⊆stateTTD∼[{FREE}]"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1) ‥ front(tr)+len∩{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr2) ‥ ({tr} ⩤ front)(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p101" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;rear(tr)+len)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p127" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤))(tr1) ‥ front(tr1)∩{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤))(tr) ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p125" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1) ‥ front(tr1)∩{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr2) ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="¬tr2=tr">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p118" org.eventb.core.predicate="tr∈dom(rear)∨⊤"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="¬OCCUPIED=UNKNOW"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p113" org.eventb.core.predicate="rear(tr)+len ‥ front(tr)+len∩(rear{tr ↦ rear(tr)+len})(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p120" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊥))(tr) ‥ front(tr)+len∩{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊥))(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∩dom(MA)"/>
<org.eventb.core.prPred name="p143" org.eventb.core.predicate="({tr} ⩤ rear)(tr1) ‥ front(tr1)∩(rear{tr ↦ rear(tr)+len})(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p97" org.eventb.core.predicate="tr1∈dom(rear)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="tr2=tr">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p136" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1) ‥ front(tr1)∩{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p102" org.eventb.core.predicate="tr2∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤)))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p138" org.eventb.core.predicate="(rear{tr ↦ rear(tr)+len})(tr1) ‥ front(tr1)∩(rear{tr ↦ rear(tr)+len})(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p140" org.eventb.core.predicate="rear(tr)+len ‥ front(tr1)∩rear(tr)+len ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧tr1≠tr⇒front(tr1)&lt;rear(tr)+len)"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr)+len∈ttd)"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1) ‥ (front{tr ↦ front(tr)+len})(tr1)∩{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr2) ‥ (front{tr ↦ front(tr)+len})(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p133" org.eventb.core.predicate="rear(tr1) ‥ front(tr1)∩rear(tr) ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p132" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊥))(tr1) ‥ front(tr1)∩{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊥))(tr) ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="tr1∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr2∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∧¬tr1=tr2⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1) ‥ (front{tr ↦ front(tr)+len})(tr1)∩{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr2) ‥ (front{tr ↦ front(tr)+len})(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p124" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1) ‥ ({tr} ⩤ front)(tr1)∩{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr2) ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p116" org.eventb.core.predicate="rear(tr)+len ‥ front(tr)+len∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p93" org.eventb.core.predicate="tr1∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊥)))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="¬tr=tr2">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS"/>
<org.eventb.core.prPred name="p131" org.eventb.core.predicate="rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1) ‥ front(tr)+len∩{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p139" org.eventb.core.predicate="rear(tr)+len ‥ front(tr1)∩(rear{tr ↦ rear(tr)+len})(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;rear(tr)+len)"/>
<org.eventb.core.prPred name="p142" org.eventb.core.predicate="rear(tr)+len ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p122" org.eventb.core.predicate="¬tr1=tr">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p147" org.eventb.core.predicate="rear(tr1) ‥ front(tr1)∩({tr} ⩤ rear)(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p96" org.eventb.core.predicate="tr2∈dom(rear)">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r12" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.cut"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r11" org.eventb.core.prRID="org.eventb.core.seqprover.disjE"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="MoveTrainFollowingItsMA/inv2_6/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr1,tr2" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46" org.eventb.core.prSets="STATES,TRAIN" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47,p48,p49,p50,p51,p52,p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p47,p48,p49,p50,p51,p52,p53"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p67">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p61" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p65"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1,tr2)" org.eventb.core.prGoal="p67" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p68">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p68" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p72" org.eventb.core.prHyps="p69,p70,p71">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p72" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p74" org.eventb.core.prHyps="p73">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr2=tr" org.eventb.core.prHyps="p73">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p70" org.eventb.core.prInfHyps="p75"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p71" org.eventb.core.prInfHyps="p76"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p70,p71"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (tr∈dom(rear)∨tr∉dom(rear))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p77">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p77" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p78">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p78" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p78">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p80"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p82"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p83"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p84"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p78" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p77">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p79" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p85"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p80"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p81"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p82" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p86"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p83" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p87"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p84" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p88"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p77" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p78">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (tr∈dom(rear)∨tr∉dom(rear))" org.eventb.core.prHyps="p78">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p89">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p78"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p74" org.eventb.core.prHyps="p89">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p97">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="p89" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="p89" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="p89" org.eventb.core.prInfHyps="p92"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="p89" org.eventb.core.prInfHyps="p93"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="p89" org.eventb.core.prInfHyps="p94"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="p89" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p78" org.eventb.core.prHyps="p89" org.eventb.core.prInfHyps="p96"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p97" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p104">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p90" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p98"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p91" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p99"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p92" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p100"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p93" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p101"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p94" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p102"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p95" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p103"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p96"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p104" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p106" org.eventb.core.prHyps="p105">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p105" org.eventb.core.prHyps="p76" org.eventb.core.prInfHyps="p107"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p107"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p108" org.eventb.core.prHyps="p76">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p108" org.eventb.core.prHyps="p29">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p109">
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p109" org.eventb.core.prHyps="p1,p3,p4,p8,p9,p12,p102,p89,p16,p50,p19,p20,p53,p21,p23,p48,p58,p59,p27,p101,p30,p37,p65,p38,p52,p42,p43,p103,p56,p5,p6,p7,p10,p11,p73,p13,p14,p66,p99,p49,p17,p71,p60,p25,p47,p29,p51,p31,p32,p100,p57,p35,p36,p54,p76,p39,p55,p40,p41">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p110">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p78"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p78" org.eventb.core.prHyps="p110" org.eventb.core.prInfHyps="p111"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p110" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p112"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p111"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p74" org.eventb.core.prHyps="p112">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p113">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="p112" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="p112" org.eventb.core.prInfHyps="p80"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="p112" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="p112" org.eventb.core.prInfHyps="p82"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="p112" org.eventb.core.prInfHyps="p83"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="p112" org.eventb.core.prInfHyps="p84"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p113" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p109">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p79" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p85"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p80"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p81"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p82" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p86"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p83" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p87"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p84" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p88"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p109" org.eventb.core.prHyps="p1,p3,p4,p8,p9,p12,p16,p50,p19,p20,p53,p21,p23,p48,p58,p59,p27,p30,p37,p65,p38,p52,p42,p43,p56,p5,p87,p6,p7,p86,p10,p11,p73,p13,p14,p66,p49,p17,p71,p60,p25,p47,p29,p51,p31,p32,p57,p35,p36,p54,p76,p39,p55,p40,p41,p88,p112">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p78"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p115" org.eventb.core.prHyps="p114">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p115" org.eventb.core.prHyps="p35">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p116">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (tr∈dom(rear)∨tr∉dom(rear))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p77">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p77" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p78">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p78" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p78">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p80"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p82"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p83"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p78" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p77">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p79" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p85"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p80"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p81"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p82" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p86"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p83" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p87"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p77" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p78">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (tr∈dom(rear)∨tr∉dom(rear))" org.eventb.core.prHyps="p78">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p89">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p78"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p116" org.eventb.core.prHyps="p89">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p117">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="p89" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="p89" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="p89" org.eventb.core.prInfHyps="p92"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="p89" org.eventb.core.prInfHyps="p93"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="p89" org.eventb.core.prInfHyps="p94"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p78" org.eventb.core.prHyps="p89" org.eventb.core.prInfHyps="p96"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p117" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p118">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p90" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p98"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p91" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p99"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p92" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p100"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p93" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p101"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p94" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p102"/>
<org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p96"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p118" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p119" org.eventb.core.prHyps="p105">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr1=tr" org.eventb.core.prHyps="p105">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p71" org.eventb.core.prInfHyps="p120"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p101" org.eventb.core.prInfHyps="p121"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p101,p71"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p120" org.eventb.core.prHyps="p114" org.eventb.core.prInfHyps="p122"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p122"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p119" org.eventb.core.prHyps="p1,p3,p4,p8,p9,p12,p102,p89,p16,p50,p19,p105,p121,p20,p53,p21,p23,p48,p58,p59,p27,p101,p30,p37,p65,p114,p38,p52,p42,p43,p56,p5,p6,p7,p10,p11,p13,p14,p66,p99,p49,p17,p71,p60,p25,p47,p29,p51,p31,p32,p100,p57,p35,p36,p54,p39,p55,p40,p41">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p123" org.eventb.core.prHyps="p76">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p123" org.eventb.core.prHyps="p29">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p124">
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p124" org.eventb.core.prHyps="p1,p3,p4,p8,p9,p12,p102,p89,p16,p50,p19,p20,p53,p21,p23,p48,p58,p59,p27,p101,p30,p37,p65,p114,p38,p52,p42,p43,p56,p5,p6,p7,p10,p11,p13,p14,p66,p99,p49,p17,p71,p60,p25,p47,p29,p51,p31,p32,p100,p57,p35,p36,p54,p76,p39,p55,p40,p41">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p110">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p78"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p78" org.eventb.core.prHyps="p110" org.eventb.core.prInfHyps="p111"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p110" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p112"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p111"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p116" org.eventb.core.prHyps="p112">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p125">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="p112" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="p112" org.eventb.core.prInfHyps="p80"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="p112" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="p112" org.eventb.core.prInfHyps="p82"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="p112" org.eventb.core.prInfHyps="p83"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p125" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p124">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p79" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p85"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p80"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p81"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p82" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p86"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p83" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p87"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p124" org.eventb.core.prHyps="p1,p3,p4,p8,p9,p12,p16,p50,p19,p20,p53,p21,p23,p48,p58,p59,p27,p30,p37,p65,p114,p38,p52,p42,p43,p56,p5,p87,p6,p7,p86,p10,p11,p13,p14,p66,p49,p17,p71,p60,p25,p47,p29,p51,p31,p32,p57,p35,p36,p54,p39,p55,p40,p41,p112">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p78"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="len∈ℕ1"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="MA∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒front(tr)+len∈ttd"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p91" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p102" org.eventb.core.predicate="tr2∈dom(front{tr ↦ front(tr)+len}) ∖ dom(rear{tr ↦ rear(tr)+len})">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p105" org.eventb.core.predicate="tr1=tr">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="tr∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))"/>
<org.eventb.core.prPred name="p97" org.eventb.core.predicate="front(tr)+len&lt;{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤))(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="tr∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊥)))"/>
<org.eventb.core.prPred name="p93" org.eventb.core.predicate="tr1∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤)))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p98" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒front(tr)+len∈ttd∨¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p101" org.eventb.core.predicate="tr1∈dom(rear{tr ↦ rear(tr)+len})">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p108" org.eventb.core.predicate="front(tr)+len&lt;({tr} ⩤ rear)(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="⊥⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p104" org.eventb.core.predicate="front(tr)+len&lt;(rear{tr ↦ rear(tr)+len})(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒front(tr)+len&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p119" org.eventb.core.predicate="front(tr2)&lt;rear(tr)+len">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p115" org.eventb.core.predicate="({tr} ⩤ front)(tr2)&lt;{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr2∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr1≠tr2⇒(front{tr ↦ front(tr)+len})(tr2)&lt;{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1)"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="b − a≥20"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p113" org.eventb.core.predicate="front(tr)+len&lt;{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊥))(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="front(tr)+len&lt;{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="front(tr)+len∈MA(tr)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧rear(tr)+len ‥ front(tr)+len∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p122" org.eventb.core.predicate="¬⊥"/>
<org.eventb.core.prPred name="p99" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p118" org.eventb.core.predicate="front(tr2)&lt;(rear{tr ↦ rear(tr)+len})(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒front(tr)+len&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="tr1∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="¬tr1=tr2">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p94" org.eventb.core.predicate="tr2∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤)))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒front(tr)+len∈ttd∨(tr∈dom(rear)∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒front(tr)+len∈ttd∨(⊥∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p107" org.eventb.core.predicate="⊥"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p109" org.eventb.core.predicate="front(tr)+len&lt;rear(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p123" org.eventb.core.predicate="front(tr2)&lt;({tr} ⩤ rear)(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p100" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;rear(tr)+len"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="tr∈dom(front{tr ↦ front(tr)+len}) ∖ dom(rear)"/>
<org.eventb.core.prPred name="p106" org.eventb.core.predicate="front(tr)+len&lt;rear(tr)+len"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr1≠tr∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr)+len∉ttd)"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒front(tr)+len∈ttd∨(tr∈dom(rear)∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p112" org.eventb.core.predicate="¬tr∈dom(rear)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p117" org.eventb.core.predicate="front(tr2)&lt;{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤))(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="⊥⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;rear(tr)+len)"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="tr∈dom(rear)∨tr∉dom(rear)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="tr∈dom(rear)"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p96" org.eventb.core.predicate="⊤∨tr∉dom(rear)"/>
<org.eventb.core.prPred name="p110" org.eventb.core.predicate="tr∉dom(rear)"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬OCCUPIED=FREE"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p121" org.eventb.core.predicate="tr∈dom(rear{tr ↦ rear(tr)+len})"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬FREE=UNKNOW"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="tr∈dom(MA)"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="tr1∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr2∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∧¬tr1=tr2⇒(front{tr ↦ front(tr)+len})(tr2)&lt;{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒front(tr)+len∈ttd∨(⊤∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬FREE=AMBIGUOUS"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="ttds⊆stateTTD∼[{FREE}]"/>
<org.eventb.core.prPred name="p92" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;rear(tr)+len)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p124" org.eventb.core.predicate="front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p114" org.eventb.core.predicate="¬tr2=tr">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p111" org.eventb.core.predicate="tr∈dom(rear)∨⊤"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="¬OCCUPIED=UNKNOW"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr2∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∧¬tr1=tr2⇒(front{tr ↦ front(tr)+len})(tr2)&lt;{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1)"/>
<org.eventb.core.prPred name="p103" org.eventb.core.predicate="tr∈dom(front{tr ↦ front(tr)+len}) ∖ dom(rear{tr ↦ rear(tr)+len})"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p116" org.eventb.core.predicate="front(tr2)&lt;{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p125" org.eventb.core.predicate="front(tr2)&lt;{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊥))(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∩dom(MA)"/>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="tr2∈dom(front{tr ↦ front(tr)+len}) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="tr1∈dom(rear)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p95" org.eventb.core.predicate="tr∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤)))"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="tr2=tr">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧tr1≠tr⇒front(tr1)&lt;rear(tr)+len)"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr)+len∈ttd)"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="(front{tr ↦ front(tr)+len})(tr2)&lt;{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="tr1∈dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊥)))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p120" org.eventb.core.predicate="¬tr=tr2">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="tr2∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊥)))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="tr2∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;rear(tr)+len)"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="¬tr1=tr">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r12" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.cut"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.disjE"/>
<org.eventb.core.prReas name="r11" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="MoveTrainFollowingItsMA/inv2_7/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr1,tr2,ttd" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46" org.eventb.core.prSets="STATES,TRAIN" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47,p48,p49,p50,p51,p52,p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p47,p48,p49,p50,p51,p52,p53"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p67">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p61" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p65"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1,tr2,ttd)" org.eventb.core.prGoal="p67" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p68">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p68" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p74" org.eventb.core.prHyps="p69,p70,p71,p72,p73">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p74" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p76" org.eventb.core.prHyps="p75">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in (front{tr ↦ front(tr)+len})(tr1)" org.eventb.core.prHyps="p72">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p77,p78">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p72"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p76" org.eventb.core.prHyps="p78">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p79">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p79" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p80">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr2=tr" org.eventb.core.prHyps="p75">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p70" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p73" org.eventb.core.prInfHyps="p82"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p70,p73"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p82" org.eventb.core.prHyps="p77" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p79" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p80"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p80"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p82,p83">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p72"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in hyp" org.eventb.core.prHyps="p35">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p83" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p84"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p84"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr2=tr" org.eventb.core.prHyps="p75">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p70" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p70"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (tr∈dom(rear)∨tr∉dom(rear))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p85">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p85" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p86">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p86" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p86">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p87"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p88"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p81" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p92"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p86" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p85">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p87" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p93"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p88"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p89"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p90" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p94"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p91" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p92" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p96"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p85" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p86">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (tr∈dom(rear)∨tr∉dom(rear))" org.eventb.core.prHyps="p86">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p97">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p86"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="p97" org.eventb.core.prInfHyps="p98"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="p97" org.eventb.core.prInfHyps="p99"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="p97" org.eventb.core.prInfHyps="p100"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="p97" org.eventb.core.prInfHyps="p101"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="p97" org.eventb.core.prInfHyps="p102"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p81" org.eventb.core.prHyps="p97" org.eventb.core.prInfHyps="p103"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p86" org.eventb.core.prHyps="p97" org.eventb.core.prInfHyps="p104"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p98" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p105"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p99" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p106"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p100" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p107"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p101" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p108"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p102" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p109"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p103" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p110"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p104"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p76" org.eventb.core.prHyps="p1,p3,p4,p8,p9,p12,p109,p97,p16,p50,p19,p20,p53,p21,p23,p48,p58,p59,p27,p30,p71,p37,p65,p38,p52,p42,p43,p108,p110,p56,p5,p84,p6,p7,p10,p11,p75,p13,p14,p66,p106,p49,p17,p73,p60,p25,p47,p29,p51,p31,p32,p107,p57,p35,p36,p54,p82,p39,p55,p40,p41">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p111">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p86"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p86" org.eventb.core.prHyps="p111" org.eventb.core.prInfHyps="p112"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p111" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p113"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p112"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="p113" org.eventb.core.prInfHyps="p87"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="p113" org.eventb.core.prInfHyps="p88"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="p113" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="p113" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="p113" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p81" org.eventb.core.prHyps="p113" org.eventb.core.prInfHyps="p92"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p87" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p93"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p88"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p89"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p90" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p94"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p91" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p92" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p96"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p76" org.eventb.core.prHyps="p1,p3,p4,p8,p9,p12,p16,p50,p19,p20,p53,p21,p23,p48,p58,p59,p27,p30,p71,p37,p65,p38,p52,p42,p43,p56,p5,p84,p95,p6,p7,p10,p11,p75,p13,p14,p66,p49,p17,p73,p60,p25,p47,p29,p51,p31,p32,p57,p35,p36,p54,p94,p82,p39,p55,p40,p41,p96,p113">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p86"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p115" org.eventb.core.prHyps="p114">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p115" org.eventb.core.prHyps="p35">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p116">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in (front{tr ↦ front(tr)+len})(tr1)" org.eventb.core.prHyps="p72">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p77,p78">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p72"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr1=tr" org.eventb.core.prHyps="p77">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p69" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p73" org.eventb.core.prInfHyps="p117"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p69,p73"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p117" org.eventb.core.prHyps="p114" org.eventb.core.prInfHyps="p118"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p118"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (tr∈dom(rear)∨tr∉dom(rear))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p85">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p85" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p86">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p86" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p86">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p87"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p88"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p81" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p92"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p86" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p85">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p87" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p93"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p88"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p89"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p90" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p94"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p91" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p92" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p96"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p85" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p86">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (tr∈dom(rear)∨tr∉dom(rear))" org.eventb.core.prHyps="p86">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p97">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p86"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="p97" org.eventb.core.prInfHyps="p98"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="p97" org.eventb.core.prInfHyps="p99"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="p97" org.eventb.core.prInfHyps="p100"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="p97" org.eventb.core.prInfHyps="p101"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="p97" org.eventb.core.prInfHyps="p102"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p81" org.eventb.core.prHyps="p97" org.eventb.core.prInfHyps="p103"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p86" org.eventb.core.prHyps="p97" org.eventb.core.prInfHyps="p104"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p98" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p105"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p99" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p106"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p100" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p107"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p101" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p108"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p102" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p109"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p103" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p110"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p104"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p116" org.eventb.core.prHyps="p1,p3,p4,p78,p8,p9,p12,p109,p97,p16,p50,p19,p77,p20,p53,p21,p23,p48,p58,p59,p27,p30,p71,p37,p65,p114,p38,p52,p42,p43,p108,p110,p56,p5,p6,p7,p10,p11,p13,p14,p66,p106,p49,p17,p73,p60,p25,p47,p29,p51,p31,p32,p107,p57,p35,p36,p54,p39,p55,p40,p41">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p111">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p86"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p86" org.eventb.core.prHyps="p111" org.eventb.core.prInfHyps="p112"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p111" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p113"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p112"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="p113" org.eventb.core.prInfHyps="p87"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="p113" org.eventb.core.prInfHyps="p88"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="p113" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="p113" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="p113" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p81" org.eventb.core.prHyps="p113" org.eventb.core.prInfHyps="p92"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p87" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p93"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p88"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p89"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p90" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p94"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p91" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p92" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p96"/>
<org.eventb.core.prRule name="r13" org.eventb.core.confidence="1000" org.eventb.core.prDisplay=" rewrites in hyp ({tr ↦ front(tr)+len})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p94" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p119"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p119"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p119" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p120"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr1=tr" org.eventb.core.prHyps="p77">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p120" org.eventb.core.prInfHyps="p121"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p120"/>
<org.eventb.core.prRule name="r14" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="dom. or ran. / union dist. rewrites in hyp (dom(({tr} ⩤ front)∪{tr ↦ front(tr)+len}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p121" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p122"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p122"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p122" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p123"/>
<org.eventb.core.prRule name="r13" org.eventb.core.confidence="1000" org.eventb.core.prDisplay=" rewrites in hyp ({tr ↦ front(tr)+len})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p95" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p124"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p124"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p124" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p125"/>
<org.eventb.core.prRule name="r13" org.eventb.core.confidence="1000" org.eventb.core.prDisplay=" rewrites in hyp ({tr ↦ front(tr)+len})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p96" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p126"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p126"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p126" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p121"/>
<org.eventb.core.prRule name="r14" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="dom. or ran. / union dist. rewrites in hyp (dom(({tr} ⩤ front)∪{tr ↦ front(tr)+len}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p125" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p127"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p127"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p127" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p128"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah ((dom(front) ∖ {tr})∪{tr}=dom(front))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p85">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p85" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p129">
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p129" org.eventb.core.prHyps="p1,p3,p4,p78,p8,p9,p12,p16,p50,p19,p77,p20,p53,p21,p128,p23,p48,p58,p59,p27,p120,p30,p71,p37,p65,p114,p38,p52,p42,p43,p56,p5,p6,p7,p10,p11,p13,p14,p66,p49,p17,p73,p60,p25,p47,p29,p51,p31,p32,p57,p35,p36,p54,p123,p39,p55,p40,p41,p113">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p129">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p130" org.eventb.core.prHyps="p113" org.eventb.core.prInfHyps="p131"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p131" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p132"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p133" org.eventb.core.prHyps="p113" org.eventb.core.prInfHyps="p134"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p134" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p132"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p116" org.eventb.core.prHyps="p1,p3,p4,p78,p8,p9,p12,p129,p16,p50,p19,p77,p20,p53,p21,p128,p23,p48,p58,p59,p27,p120,p30,p71,p37,p65,p114,p38,p52,p42,p43,p56,p5,p6,p7,p10,p11,p13,p14,p66,p49,p17,p73,p60,p25,p47,p29,p51,p31,p32,p57,p35,p36,p54,p123,p39,p55,p40,p41,p113">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1;2;3:30000"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p129"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1.0.0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1.0.0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1.0.0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p86"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p82,p83">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p72"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in hyp" org.eventb.core.prHyps="p35">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p83" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p84"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p84"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (tr∈dom(rear)∨tr∉dom(rear))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p85">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p85" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p86">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p86" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p86">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p87"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p88"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p86" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p85">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p87" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p93"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p88"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p89"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p90" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p94"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p91" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p85" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p86">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (tr∈dom(rear)∨tr∉dom(rear))" org.eventb.core.prHyps="p86">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p97">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p86"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="p97" org.eventb.core.prInfHyps="p98"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="p97" org.eventb.core.prInfHyps="p99"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="p97" org.eventb.core.prInfHyps="p100"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="p97" org.eventb.core.prInfHyps="p101"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="p97" org.eventb.core.prInfHyps="p102"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p86" org.eventb.core.prHyps="p97" org.eventb.core.prInfHyps="p104"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p98" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p105"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p99" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p106"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p100" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p107"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p101" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p108"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p102" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p109"/>
<org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p104"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p133" org.eventb.core.prHyps="p97" org.eventb.core.prInfHyps="p135"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p135" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p136"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p116" org.eventb.core.prHyps="p1,p3,p4,p8,p9,p12,p109,p97,p16,p50,p19,p20,p53,p21,p23,p48,p58,p59,p27,p30,p71,p37,p65,p114,p38,p52,p42,p43,p108,p56,p5,p84,p6,p7,p10,p11,p13,p14,p66,p106,p49,p17,p73,p60,p25,p47,p29,p51,p31,p32,p107,p57,p35,p36,p54,p82,p39,p55,p40,p41">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1;2;3:30000"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p111">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p86"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p86" org.eventb.core.prHyps="p111" org.eventb.core.prInfHyps="p112"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p111" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p113"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p112"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="p113" org.eventb.core.prInfHyps="p87"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="p113" org.eventb.core.prInfHyps="p88"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="p113" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="p113" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="p113" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p87" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p93"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p88"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p89"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p90" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p94"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p91" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p116" org.eventb.core.prHyps="p1,p3,p4,p8,p9,p12,p16,p50,p19,p20,p53,p21,p23,p48,p58,p59,p27,p30,p71,p37,p65,p114,p38,p52,p42,p43,p56,p5,p84,p95,p6,p7,p10,p11,p13,p14,p66,p49,p17,p73,p60,p25,p47,p29,p51,p31,p32,p57,p35,p36,p54,p94,p82,p39,p55,p40,p41,p113">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p86"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="len∈ℕ1"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="MA∈TRAIN ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p93" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒front(tr)+len∈ttd"/>
<org.eventb.core.prPred name="p101" org.eventb.core.predicate="tr1∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤)))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="front(tr)+len∈ttd">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p99" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p109" org.eventb.core.predicate="tr2∈dom(front{tr ↦ front(tr)+len}) ∖ dom(rear{tr ↦ rear(tr)+len})">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p131" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD∧(front(tr)+len∈ttd∨(⊥∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p119" org.eventb.core.predicate="tr1∈dom((dom({tr ↦ front(tr)+len}) ⩤ front)∪{tr ↦ front(tr)+len}) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="tr1=tr">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="tr∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p128" org.eventb.core.predicate="tr2∈((dom(front) ∖ {tr})∪{tr}) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p92" org.eventb.core.predicate="tr∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊥)))"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p105" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒front(tr)+len∈ttd∨¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p127" org.eventb.core.predicate="tr2∈(dom({tr} ⩤ front)∪dom({tr ↦ front(tr)+len})) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p121" org.eventb.core.predicate="tr∈dom(({tr} ⩤ front)∪{tr ↦ front(tr)+len}) ∖ dom(rear)"/>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="⊥⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒front(tr)+len&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p115" org.eventb.core.predicate="¬({tr} ⩤ front)(tr2)∈ttd">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="b − a≥20"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="¬⊤"/>
<org.eventb.core.prPred name="p108" org.eventb.core.predicate="tr1∈dom(front{tr ↦ front(tr)+len}) ∖ dom(rear{tr ↦ rear(tr)+len})">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr2∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∧¬tr1=tr2∧ttd∈TTD∧(front{tr ↦ front(tr)+len})(tr1)∈ttd⇒¬(front{tr ↦ front(tr)+len})(tr2)∈ttd"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="front(tr)+len∈MA(tr)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧rear(tr)+len ‥ front(tr)+len∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p133" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧rear(tr)+len ‥ front(tr)+len∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="tr1∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr2∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∧¬tr1=tr2∧ttd∈TTD∧(front{tr ↦ front(tr)+len})(tr1)∈ttd⇒¬(front{tr ↦ front(tr)+len})(tr2)∈ttd">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p118" org.eventb.core.predicate="¬⊥"/>
<org.eventb.core.prPred name="p106" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒front(tr)+len&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="¬tr1=tr2">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p102" org.eventb.core.predicate="tr2∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤)))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒front(tr)+len∈ttd∨(tr∈dom(rear)∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p124" org.eventb.core.predicate="tr2∈dom((dom({tr ↦ front(tr)+len}) ⩤ front)∪{tr ↦ front(tr)+len}) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="⊥"/>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒front(tr)+len∈ttd∨(⊥∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p107" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;rear(tr)+len"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p96" org.eventb.core.predicate="tr∈dom(front{tr ↦ front(tr)+len}) ∖ dom(rear)"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr1≠tr∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr)+len∉ttd)"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒front(tr)+len∈ttd∨(tr∈dom(rear)∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p113" org.eventb.core.predicate="¬tr∈dom(rear)"/>
<org.eventb.core.prPred name="p116" org.eventb.core.predicate="¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="⊥⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;rear(tr)+len)"/>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="tr∈dom(rear)∨tr∉dom(rear)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p97" org.eventb.core.predicate="tr∈dom(rear)"/>
<org.eventb.core.prPred name="p129" org.eventb.core.predicate="(dom(front) ∖ {tr})∪{tr}=dom(front)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr2∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr1≠tr2∧ttd∈TTD∧(front{tr ↦ front(tr)+len})(tr1)∈ttd⇒(front{tr ↦ front(tr)+len})(tr2)∉ttd"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p104" org.eventb.core.predicate="⊤∨tr∉dom(rear)"/>
<org.eventb.core.prPred name="p111" org.eventb.core.predicate="tr∉dom(rear)"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬OCCUPIED=FREE"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬FREE=UNKNOW"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="tr∈dom(MA)"/>
<org.eventb.core.prPred name="p130" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD∧(front(tr)+len∈ttd∨(tr∈dom(rear)∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p98" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒front(tr)+len∈ttd∨(⊤∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬FREE=AMBIGUOUS"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="ttds⊆stateTTD∼[{FREE}]"/>
<org.eventb.core.prPred name="p120" org.eventb.core.predicate="tr1∈dom(({tr} ⩤ front)∪{tr ↦ front(tr)+len}) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="({tr} ⩤ front)(tr1)∈ttd">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p100" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;rear(tr)+len)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="ttd∈TTD">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p114" org.eventb.core.predicate="¬tr2=tr">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p112" org.eventb.core.predicate="tr∈dom(rear)∨⊤"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="¬OCCUPIED=UNKNOW"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="¬front(tr)+len∈ttd">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p110" org.eventb.core.predicate="tr∈dom(front{tr ↦ front(tr)+len}) ∖ dom(rear{tr ↦ rear(tr)+len})"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="tr1∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="tr1∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊥)))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∩dom(MA)"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="front(tr1)∈ttd">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p95" org.eventb.core.predicate="tr2∈dom(front{tr ↦ front(tr)+len}) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p103" org.eventb.core.predicate="tr∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊤)))"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="tr2=tr">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧tr1≠tr⇒front(tr1)&lt;rear(tr)+len)"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="tr∈dom(front) ∖ dom(rear)⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr)+len∈ttd)"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS"/>
<org.eventb.core.prPred name="p134" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD∧(front(tr)+len∈ttd∨(⊥∧rear(tr)+len ‥ front(tr)+len∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p136" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD∧(front(tr)+len∈ttd∨¬rear(tr)+len ‥ front(tr)+len∩ttd=(∅ ⦂ ℙ(ℤ)))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p126" org.eventb.core.predicate="tr∈dom((dom({tr ↦ front(tr)+len}) ⩤ front)∪{tr ↦ front(tr)+len}) ∖ dom(rear)"/>
<org.eventb.core.prPred name="p132" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD∧front(tr)+len∈ttd⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="(front{tr ↦ front(tr)+len})(tr1)∈ttd">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p117" org.eventb.core.predicate="¬tr=tr2">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p122" org.eventb.core.predicate="tr∈(dom({tr} ⩤ front)∪dom({tr ↦ front(tr)+len})) ∖ dom(rear)"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒rear(tr1) ‥ front(tr1)∩rear(tr)+len ‥ front(tr)+len=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p91" org.eventb.core.predicate="tr2∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(⊥)))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p123" org.eventb.core.predicate="tr∈((dom(front) ∖ {tr})∪{tr}) ∖ dom(rear)"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="tr2∈dom(front{tr ↦ front(tr)+len}) ∖ dom({TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear))))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="tr∈dom(rear)⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;rear(tr)+len)"/>
<org.eventb.core.prPred name="p94" org.eventb.core.predicate="tr1∈dom(front{tr ↦ front(tr)+len}) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p125" org.eventb.core.predicate="tr2∈dom(({tr} ⩤ front)∪{tr ↦ front(tr)+len}) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="¬tr1=tr">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="¬(front{tr ↦ front(tr)+len})(tr2)∈ttd">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p135" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD∧(front(tr)+len∈ttd∨(⊤∧rear(tr)+len ‥ front(tr)+len∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prReas name="r14" org.eventb.core.prRID="org.eventb.core.seqprover.domRanUnionDistRewrites"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r12" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r13" org.eventb.core.prRID="org.eventb.core.seqprover.relOvrRewrites"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.cut"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r11" org.eventb.core.prRID="org.eventb.core.seqprover.disjE"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="_connectTrain/grd6/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr1" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39,p40,p41,p42,p43,p44,p45"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p39,p40,p41,p42,p43,p44,p45"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p54">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p54" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p57" org.eventb.core.prHyps="p56">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1)" org.eventb.core.prGoal="p57" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p58">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p58" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p61" org.eventb.core.prHyps="p59,p60">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p61" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p62">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p62" org.eventb.core.prHyps="p21"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p63">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="p56" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p65"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p63" org.eventb.core.prHyps="p32,p6,p16,p14,p9,p22,p13,p3,p29,p15,p7,p2,p11,p25,p21,p34,p36,p35,p23,p4,p24,p8,p27,p12,p28,p10,p31,p30,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p56,p59,p60,p65">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p66">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p66" org.eventb.core.prHyps="p25"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="integer" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="re∈WAY"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬TRAIN⊆dom(connectedTrain)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬OCCUPIED=FREE"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="tr1∈dom(rear)∧¬tr1=tr⇒rear∈TRAIN ⇸ ℤ∧tr1∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="b − a≥50"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬FREE=UNKNOW"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="integer=TRUE"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear∈TRAIN ⇸ ℤ∧tr1∈dom(front)∧front∈TRAIN ⇸ ℤ)"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬FREE=AMBIGUOUS"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="⊤⇒re∈WAY"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒rear∈TRAIN ⇸ ℤ∧tr1∈dom(front)∧front∈TRAIN ⇸ ℤ)"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear∈TRAIN ⇸ ℤ∧tr1∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="re&lt;fr"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="tr1∈dom(front)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="fr∈WAY"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="TRAIN ∖ dom(connectedTrain)≠(∅ ⦂ ℙ(TRAIN))"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬OCCUPIED=UNKNOW"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ∧tr1∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="tr1∈dom(rear)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="integer=TRUE⇒re∈WAY"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="tr∈TRAIN ∖ dom(connectedTrain)"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="integer∈BOOL"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬tr1=tr">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="_connectTrain/grd7/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr1" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40,p41,p42,p43,p44,p45,p46"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p40,p41,p42,p43,p44,p45,p46"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p56">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p57"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p56" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p59" org.eventb.core.prHyps="p58">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1)" org.eventb.core.prGoal="p59" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p60">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p60" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p63" org.eventb.core.prHyps="p61,p62">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p63" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p64">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="p58" org.eventb.core.prInfHyps="p65"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p55" org.eventb.core.prHyps="p58" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p65" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p67"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p66" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p68"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p64" org.eventb.core.prHyps="p33,p6,p16,p14,p9,p23,p13,p3,p30,p15,p7,p2,p11,p26,p22,p35,p37,p36,p24,p4,p25,p8,p28,p12,p29,p10,p32,p31,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p58,p61,p62,p67,p68">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p69">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p69" org.eventb.core.prHyps="p26"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="integer" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="re∈WAY"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬TRAIN⊆dom(connectedTrain)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧tr1≠tr⇒tr1∈dom(front)∧front∈TRAIN ⇸ ℤ)"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="tr1∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬OCCUPIED=FREE"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="b − a≥50"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬FREE=UNKNOW"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="integer=TRUE"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬FREE=AMBIGUOUS"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="⊤⇒re∈WAY"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒tr1∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒tr1∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="re&lt;fr"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="tr1∈dom(front)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="fr∈WAY"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="TRAIN ∖ dom(connectedTrain)≠(∅ ⦂ ℙ(TRAIN))"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬OCCUPIED=UNKNOW"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="integer=TRUE⇒re∈WAY"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="tr∈TRAIN ∖ dom(connectedTrain)"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="tr1∈dom(front) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒tr1∈dom(front)∧front∈TRAIN ⇸ ℤ)"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="integer∈BOOL"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="¬tr1=tr">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="_connectTrain/grd8/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr1" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="REWRITE17" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prHypAction name="REWRITE18" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p40"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p42"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p43"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p47" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p48" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p50" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p55" org.eventb.core.prHyps="p54">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1)" org.eventb.core.prGoal="p55" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p56">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p56" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p58" org.eventb.core.prHyps="p57">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p58" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p59">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=TRUE" org.eventb.core.prHyps="p54">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p60" org.eventb.core.prInfHyps="p61"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p38" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p60,p38"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p59" org.eventb.core.prHyps="p2"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p63">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=TRUE" org.eventb.core.prHyps="p54">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p60" org.eventb.core.prInfHyps="p61"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p38" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p60,p38"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p60" org.eventb.core.prHyps="p54" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="p54" org.eventb.core.prInfHyps="p65"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p61" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p67"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p65" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p67"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p68,p69,p70,p71,p72,p73,p74,p75,p76,p77,p78,p3,p2,p79,p80,p81,p82,p83,p84,p85,p86,p87,p88,p5,p7,p9,p11,p13,p15,p18,p20,p22,p24,p26,p28"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p63" org.eventb.core.prHyps="p1,p57,p2,p3">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p89">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=TRUE" org.eventb.core.prHyps="p54">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p60" org.eventb.core.prInfHyps="p61"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p38" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p60,p38"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p89" org.eventb.core.prHyps="p3"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="integer" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="tr1∈dom(rear)⇒rear∈TRAIN ⇸ ℤ∧tr1∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="re∈WAY">
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(⊤∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="TRUE=TRUE⇒re∈WAY">
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬TRAIN⊆dom(connectedTrain)"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="union(VSS)=WAY">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="integer=TRUE"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="⊤⇒re∈WAY">
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="VSS⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="tr1∈dom(front)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="fr∈WAY"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="TRAIN ∖ dom(connectedTrain)≠(∅ ⦂ ℙ(TRAIN))"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)⇒rear∈TRAIN ⇸ ℤ∧tr1∈dom(front)∧front∈TRAIN ⇸ ℤ)"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(integer=TRUE∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ∧tr1∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="tr1∈dom(rear)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="integer=TRUE⇒re∈WAY">
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="TTD⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ)))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(integer=TRUE∧re ‥ fr∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(TRUE=TRUE∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="integer∈BOOL"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="union(TTD)=WAY">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(rear)⇒rear∈TRAIN ⇸ ℤ∧tr1∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="_connectTrain/grd9/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr1" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p14"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="REWRITE17" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="REWRITE18" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p40"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p42"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p43"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p47" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p48" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p53" org.eventb.core.prHyps="p52">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1)" org.eventb.core.prGoal="p53" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p54">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p54" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p56" org.eventb.core.prHyps="p55">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p56" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p57">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=TRUE" org.eventb.core.prHyps="p52">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p58" org.eventb.core.prInfHyps="p59"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p60" org.eventb.core.prInfHyps="p61"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p36" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p58,p60,p36"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p58" org.eventb.core.prHyps="p52" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p60" org.eventb.core.prHyps="p52" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="p52" org.eventb.core.prInfHyps="p65"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p59" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p61" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p67"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p68"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p67"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p65" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p68"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p69,p70,p71,p72,p73,p74,p75,p76,p77,p78,p79,p1,p80,p81,p82,p83,p84,p85,p86,p87,p88,p89,p90,p3,p5,p7,p9,p11,p13,p16,p18,p20,p22,p24,p26"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p57" org.eventb.core.prHyps="p55">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p91">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=TRUE" org.eventb.core.prHyps="p52">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p58" org.eventb.core.prInfHyps="p59"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p60" org.eventb.core.prInfHyps="p61"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p36" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p58,p60,p36"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p91" org.eventb.core.prHyps="p1"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="integer" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prPred name="p91" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="re∈WAY">
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(⊤∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="TRUE=TRUE⇒re∈WAY">
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬TRAIN⊆dom(connectedTrain)"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="tr1∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="union(VSS)=WAY">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(rear)⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="integer=TRUE"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="⊤⇒re∈WAY">
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="TRUE=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))">
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))">
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)⇒tr1∈dom(front)∧front∈TRAIN ⇸ ℤ)"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="VSS⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="tr1∈dom(front) ∖ dom(rear)⇒tr1∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="tr1∈dom(front)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)⇒tr1∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="TRAIN ∖ dom(connectedTrain)≠(∅ ⦂ ℙ(TRAIN))"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(integer=TRUE∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="integer=TRUE⇒re∈WAY">
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="TTD⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ)))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="tr1∈dom(front) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(integer=TRUE∧re ‥ fr∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(TRUE=TRUE∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="integer∈BOOL"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="union(TTD)=WAY">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(rear)⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))">
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="_connectTrain/inv2_5/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr1,tr2" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54" org.eventb.core.prSets="STATES,TRAIN" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55,p56,p57,p58,p59,p60,p61"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p55,p56,p57,p58,p59,p60,p61"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p80">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p54" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p65"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p67"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p68"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p69"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p72" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p74" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p75"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p76" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p77"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p78" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p81"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1,tr2)" org.eventb.core.prGoal="p80" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p82">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p82" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p86" org.eventb.core.prHyps="p83,p84,p85">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p86" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p88" org.eventb.core.prHyps="p87">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p88" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p90" org.eventb.core.prHyps="p89">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr1=tr" org.eventb.core.prGoal="p90" org.eventb.core.prHyps="p87">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p93">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p84" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p85" org.eventb.core.prInfHyps="p92"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p84,p85"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p92" org.eventb.core.prHyps="p89" org.eventb.core.prInfHyps="p94"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p94" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p95"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p97" org.eventb.core.prHyps="p96">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p97" org.eventb.core.prHyps="p47">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p98">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr1=tr" org.eventb.core.prGoal="p98" org.eventb.core.prHyps="p87">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p99">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p84" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p85" org.eventb.core.prInfHyps="p92"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p84,p85"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p92" org.eventb.core.prHyps="p96" org.eventb.core.prInfHyps="p100"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p100"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (integer=TRUE∨integer=FALSE)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p101">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p101" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p102">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p102" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p102">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p103"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p104"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p105"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p106"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p77" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p107"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p79" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p108"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p103"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p104" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p109"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p105"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p106"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p107"/>
<org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p108"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p102" org.eventb.core.prHyps="p55,p56,p66,p14,p59,p91,p69,p36,p57,p96,p22,p38,p23,p58,p87,p60,p61,p83">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p102">
<org.eventb.core.prRule name="r13" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (integer=TRUE∨integer=FALSE)" org.eventb.core.prHyps="p102">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p110">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p102"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="p110" org.eventb.core.prInfHyps="p111"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="p110" org.eventb.core.prInfHyps="p112"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="p110" org.eventb.core.prInfHyps="p113"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="p110" org.eventb.core.prInfHyps="p114"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p102" org.eventb.core.prHyps="p110" org.eventb.core.prInfHyps="p115"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p111" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p116"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p112" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p117"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p113" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p118"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p114" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p119"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p115"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=TRUE" org.eventb.core.prGoal="p99" org.eventb.core.prHyps="p110">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p124">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p77" org.eventb.core.prInfHyps="p120"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p79" org.eventb.core.prInfHyps="p121"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p83" org.eventb.core.prInfHyps="p122"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p91" org.eventb.core.prInfHyps="p123"/>
<org.eventb.core.prHypAction name="DESELECT4" org.eventb.core.prHyps="p91,p79,p83,p77"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p124" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p127">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p120"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p121"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p122" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p125"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p123" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p126"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p127" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p128" org.eventb.core.prHyps="p89">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p89" org.eventb.core.prHyps="p96" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p95"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p129" org.eventb.core.prHyps="p96">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p129" org.eventb.core.prHyps="p43">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p130">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="p110" org.eventb.core.prInfHyps="p131"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p131" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p132"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p130" org.eventb.core.prHyps="p126,p55,p56,p66,p14,p116,p16,p59,p46,p19,p6,p69,p36,p57,p132,p96,p22,p23,p58,p87,p125,p60,p61,p110">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p133">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p102"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p77" org.eventb.core.prHyps="p133" org.eventb.core.prInfHyps="p134"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p79" org.eventb.core.prHyps="p133" org.eventb.core.prInfHyps="p135"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p102" org.eventb.core.prHyps="p133" org.eventb.core.prInfHyps="p136"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p134" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p137"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p135" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p138"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p136"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=FALSE" org.eventb.core.prGoal="p99" org.eventb.core.prHyps="p133">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p145">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p31" org.eventb.core.prInfHyps="p139"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p71" org.eventb.core.prInfHyps="p140"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p73" org.eventb.core.prInfHyps="p141"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p75" org.eventb.core.prInfHyps="p142"/>
<org.eventb.core.prHypAction name="FORWARD_INF4" org.eventb.core.prHyps="p83" org.eventb.core.prInfHyps="p143"/>
<org.eventb.core.prHypAction name="FORWARD_INF5" org.eventb.core.prHyps="p91" org.eventb.core.prInfHyps="p144"/>
<org.eventb.core.prHypAction name="DESELECT6" org.eventb.core.prHyps="p71,p91,p31,p83,p73,p75"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p145" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p148">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p139"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p140" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p109"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p141"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p142"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p143" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p146"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p144" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p147"/>
<org.eventb.core.prRule name="r14" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p148" org.eventb.core.prHyps="p1,p2,p3,p84,p4,p5,p133,p147,p6,p69,p7,p58,p8,p87,p9,p61,p10,p11,p56,p66,p67,p14,p16,p17,p19,p20,p21,p96,p22,p23,p60,p25,p26,p28,p64,p30,p32,p31,p33,p34,p35,p91,p36,p57,p37,p38,p85,p83,p39,p40,p68,p41,p55,p43,p59,p44,p45,p65,p47,p48,p49,p46,p50,p62,p146,p51,p63,p52,p53">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p102"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p150" org.eventb.core.prHyps="p149">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p150" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p151" org.eventb.core.prHyps="p89">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p151" org.eventb.core.prHyps="p47">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p152">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr2=tr" org.eventb.core.prGoal="p152" org.eventb.core.prHyps="p89">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p153">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p83" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p83"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (integer=TRUE∨integer=FALSE)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p101">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p101" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p102">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p102" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p102">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p103"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p104"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p105"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p106"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p77" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p107"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p79" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p108"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p103"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p104" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p109"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p105"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p106"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p107"/>
<org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p108"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p102" org.eventb.core.prHyps="p55,p56,p66,p14,p59,p84,p89,p91,p69,p36,p57,p149,p22,p38,p23,p85,p58,p60,p61">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p102">
<org.eventb.core.prRule name="r13" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (integer=TRUE∨integer=FALSE)" org.eventb.core.prHyps="p102">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p110">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p102"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="p110" org.eventb.core.prInfHyps="p111"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="p110" org.eventb.core.prInfHyps="p112"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="p110" org.eventb.core.prInfHyps="p113"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="p110" org.eventb.core.prInfHyps="p114"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p102" org.eventb.core.prHyps="p110" org.eventb.core.prInfHyps="p115"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p111" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p116"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p112" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p117"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p113" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p118"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p114" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p119"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p115"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=TRUE" org.eventb.core.prGoal="p153" org.eventb.core.prHyps="p110">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p155">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p77" org.eventb.core.prInfHyps="p120"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p79" org.eventb.core.prInfHyps="p121"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p84" org.eventb.core.prInfHyps="p154"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p91" org.eventb.core.prInfHyps="p123"/>
<org.eventb.core.prHypAction name="DESELECT4" org.eventb.core.prHyps="p91,p79,p77,p84"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p155" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p157">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p120"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p121"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p154" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p156"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p123" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p126"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p157" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p158" org.eventb.core.prHyps="p87">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p87" org.eventb.core.prHyps="p149" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p95"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p159" org.eventb.core.prHyps="p149">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p159" org.eventb.core.prHyps="p43">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p160">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="p110" org.eventb.core.prInfHyps="p131"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p131" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p132"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=TRUE" org.eventb.core.prHyps="p110">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p19" org.eventb.core.prInfHyps="p161"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p16" org.eventb.core.prInfHyps="p162"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p46" org.eventb.core.prInfHyps="p163"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p164"/>
<org.eventb.core.prHypAction name="DESELECT4" org.eventb.core.prHyps="p6,p46,p19,p16"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="p110" org.eventb.core.prInfHyps="p165"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="p110" org.eventb.core.prInfHyps="p166"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p167"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p168"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p169"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p170"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p48" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p171"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p40"/>
<org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p5"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p172"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p173"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p174"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p161" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p175"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p162" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p176"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p163"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p164"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p165" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p175"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p166" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p176"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p172" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p177"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p177"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p173" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p178"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p178"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p177" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p179"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p179"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p178" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p180"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p180"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p179" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p181"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p181"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p180" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p182"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p182"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p181" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p183"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p183"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p182" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p184"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p184"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p183" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p185"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p185"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p184" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p186"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p186"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p185" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p187"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p187"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p186" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p188"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p188"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p187" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p189"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p188" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p190"/>
<org.eventb.core.prRule name="r16" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ct hyp (tr2=tr)" org.eventb.core.prGoal="p160" org.eventb.core.prHyps="p89">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p96" org.eventb.core.prHyps="p191">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p89"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (tr∉dom(connectedTrain))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p101">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p101" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p192">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p192" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p193">
<org.eventb.core.prRule name="r17" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p64,p169,p1,p2,p32,p84,p4,p34,p35,p91,p7,p37,p167,p8,p9,p83,p168,p10,p68,p174,p41,p67,p43,p44,p17,p45,p65,p170,p47,p46,p50,p62,p21,p171,p63,p52,p53,p26"/>
<org.eventb.core.prRule name="r18" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p193" org.eventb.core.prHyps="p36">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p192">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p192" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p193"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (tr2∈dom(connectedTrain))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p101">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p101" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p194">
<org.eventb.core.prRule name="r14" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p194" org.eventb.core.prHyps="p116,p1,p156,p2,p84,p4,p69,p7,p193,p58,p8,p9,p61,p10,p175,p110,p174,p176,p56,p66,p67,p14,p17,p191,p170,p21,p22,p23,p171,p60,p25,p26,p64,p169,p126,p32,p33,p34,p35,p91,p36,p57,p132,p37,p167,p85,p83,p168,p68,p41,p55,p43,p59,p44,p45,p65,p47,p46,p50,p62,p189,p149,p51,p63,p52,p53,p190">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1;2;3:30000"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p194">
<org.eventb.core.prRule name="r17" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p64,p169,p1,p2,p32,p84,p4,p34,p35,p91,p7,p37,p167,p8,p9,p83,p168,p10,p68,p174,p41,p67,p43,p44,p17,p45,p65,p170,p47,p46,p50,p62,p21,p171,p63,p52,p53,p26"/>
<org.eventb.core.prRule name="r18" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p96" org.eventb.core.prHyps="p194,p36,p23">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p194"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p192"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p133">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p102"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p77" org.eventb.core.prHyps="p133" org.eventb.core.prInfHyps="p134"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p79" org.eventb.core.prHyps="p133" org.eventb.core.prInfHyps="p135"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p102" org.eventb.core.prHyps="p133" org.eventb.core.prInfHyps="p136"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p134" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p137"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p135" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p138"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p136"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=FALSE" org.eventb.core.prGoal="p153" org.eventb.core.prHyps="p133">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p196">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p31" org.eventb.core.prInfHyps="p139"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p71" org.eventb.core.prInfHyps="p140"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p73" org.eventb.core.prInfHyps="p141"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p75" org.eventb.core.prInfHyps="p142"/>
<org.eventb.core.prHypAction name="FORWARD_INF4" org.eventb.core.prHyps="p84" org.eventb.core.prInfHyps="p195"/>
<org.eventb.core.prHypAction name="FORWARD_INF5" org.eventb.core.prHyps="p91" org.eventb.core.prInfHyps="p144"/>
<org.eventb.core.prHypAction name="DESELECT6" org.eventb.core.prHyps="p71,p91,p31,p73,p84,p75"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p196" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p198">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p139"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p140" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p109"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p141"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p142"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p195" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p197"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p144" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p147"/>
<org.eventb.core.prRule name="r14" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p198" org.eventb.core.prHyps="p1,p2,p3,p84,p4,p5,p133,p147,p6,p69,p7,p58,p8,p9,p61,p10,p11,p56,p66,p67,p14,p16,p17,p19,p20,p21,p22,p23,p60,p25,p26,p28,p64,p30,p197,p32,p31,p33,p89,p34,p35,p91,p36,p57,p37,p38,p85,p83,p39,p40,p68,p41,p55,p43,p59,p44,p45,p65,p47,p48,p49,p46,p50,p62,p149,p51,p63,p52,p53">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p102"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p199" org.eventb.core.prHyps="p96">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p199" org.eventb.core.prHyps="p47">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p200">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p200" org.eventb.core.prHyps="p47">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p201">
<org.eventb.core.prRule name="r19" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="dc (integer=TRUE∨integer=FALSE)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p101">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p101" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p102">
<org.eventb.core.prRule name="r13" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (integer=TRUE∨integer=FALSE)" org.eventb.core.prHyps="p102">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p110">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p102"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="p110" org.eventb.core.prInfHyps="p111"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="p110" org.eventb.core.prInfHyps="p112"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="p110" org.eventb.core.prInfHyps="p113"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="p110" org.eventb.core.prInfHyps="p114"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p102" org.eventb.core.prHyps="p110" org.eventb.core.prInfHyps="p115"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p111" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p116"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p112" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p117"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p113" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p118"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p114" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p119"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p115"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=TRUE" org.eventb.core.prGoal="p201" org.eventb.core.prHyps="p110">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p202">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p77" org.eventb.core.prInfHyps="p120"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p79" org.eventb.core.prInfHyps="p121"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p83" org.eventb.core.prInfHyps="p122"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p84" org.eventb.core.prInfHyps="p154"/>
<org.eventb.core.prHypAction name="DESELECT4" org.eventb.core.prHyps="p79,p83,p77,p84"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p202" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p203">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p120"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p121"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p122" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p125"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p154" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p156"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p203" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p204" org.eventb.core.prHyps="p87">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p204" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p205" org.eventb.core.prHyps="p89">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p87" org.eventb.core.prHyps="p149" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p89" org.eventb.core.prHyps="p96" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p95"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p206" org.eventb.core.prHyps="p96">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p206" org.eventb.core.prHyps="p43">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p207">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p87" org.eventb.core.prHyps="p149" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p95"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p208" org.eventb.core.prHyps="p149">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p208" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p209" org.eventb.core.prHyps="p89">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p209" org.eventb.core.prHyps="p43">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p210">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p89" org.eventb.core.prHyps="p96" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p95"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p211" org.eventb.core.prHyps="p96">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p211" org.eventb.core.prHyps="p43">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p212">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p212" org.eventb.core.prHyps="p43">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p213">
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p213" org.eventb.core.prHyps="p116,p156,p6,p69,p36,p57,p38,p85,p58,p125,p61,p110,p55,p56,p66,p14,p16,p59,p46,p19,p96,p149,p22,p23,p60">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p133">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p102"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p77" org.eventb.core.prHyps="p133" org.eventb.core.prInfHyps="p134"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p79" org.eventb.core.prHyps="p133" org.eventb.core.prInfHyps="p135"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p102" org.eventb.core.prHyps="p133" org.eventb.core.prInfHyps="p136"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p134" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p137"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p135" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p138"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p136"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=FALSE" org.eventb.core.prGoal="p201" org.eventb.core.prHyps="p133">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p214">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p31" org.eventb.core.prInfHyps="p139"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p71" org.eventb.core.prInfHyps="p140"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p73" org.eventb.core.prInfHyps="p141"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p75" org.eventb.core.prInfHyps="p142"/>
<org.eventb.core.prHypAction name="FORWARD_INF4" org.eventb.core.prHyps="p83" org.eventb.core.prInfHyps="p143"/>
<org.eventb.core.prHypAction name="FORWARD_INF5" org.eventb.core.prHyps="p84" org.eventb.core.prInfHyps="p195"/>
<org.eventb.core.prHypAction name="DESELECT6" org.eventb.core.prHyps="p71,p31,p83,p73,p84,p75"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p214" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p213">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p139"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p140" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p109"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p141"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p142"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p143" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p146"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p195" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p197"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p213" org.eventb.core.prHyps="p55,p56,p66,p14,p16,p197,p59,p46,p19,p133,p6,p69,p36,p57,p96,p149,p22,p38,p146,p23,p85,p58,p60,p61">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p215">
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(integer=TRUE∨integer=FALSE)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p215" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p216,p217"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p216,p217"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="p216" org.eventb.core.prInfHyps="p103"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="p216" org.eventb.core.prInfHyps="p104"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="p216" org.eventb.core.prInfHyps="p105"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="p216" org.eventb.core.prInfHyps="p106"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p77" org.eventb.core.prHyps="p217" org.eventb.core.prInfHyps="p107"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p79" org.eventb.core.prHyps="p217" org.eventb.core.prInfHyps="p108"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p216" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p133"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p217" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p110"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p103"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p104" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p109"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p105"/>
<org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p106"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p107"/>
<org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p108"/>
<org.eventb.core.prRule name="r20" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ct in hyps (integer=FALSE)" org.eventb.core.prHyps="p217,p133"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p102"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="integer" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prPred name="p109" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒fr∈ttd"/>
<org.eventb.core.prPred name="p134" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒fr&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p93" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr) ‥ fr∩{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr2) ‥ fr=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="tr1∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p159" org.eventb.core.predicate="({tr} ⩤ rear)(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p179" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p133" org.eventb.core.predicate="integer=FALSE"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr1)∈ttd⇒fr∉ttd)"/>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="tr1=tr">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p99" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr) ‥ fr∩{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)"/>
<org.eventb.core.prPred name="p110" org.eventb.core.predicate="integer=TRUE"/>
<org.eventb.core.prPred name="p174" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr1)∈ttd⇒¬fr∈ttd)"/>
<org.eventb.core.prPred name="p203" org.eventb.core.predicate="(rear{tr ↦ re})(tr1) ‥ front(tr1)∩(rear{tr ↦ re})(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr1) ‥ fr∩{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr2) ‥ fr=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p209" org.eventb.core.predicate="({tr} ⩤ rear)(tr1) ‥ front(tr1)∩re ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p196" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(FALSE)(tr1) ‥ front(tr1)∩{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(FALSE)(tr) ‥ fr=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="fr∈WAY"/>
<org.eventb.core.prPred name="p141" org.eventb.core.predicate="FALSE=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="TRAIN ∖ dom(connectedTrain)≠(∅ ⦂ ℙ(TRAIN))"/>
<org.eventb.core.prPred name="p188" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p216" org.eventb.core.predicate="¬integer=TRUE"/>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr1) ‥ fr∩{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr2) ‥ (front{tr ↦ fr})(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="b − a≥20"/>
<org.eventb.core.prPred name="p136" org.eventb.core.predicate="integer=TRUE∨⊤"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr1) ‥ (front{tr ↦ fr})(tr1)∩{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr2) ‥ (front{tr ↦ fr})(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p182" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p126" org.eventb.core.predicate="tr∈dom(rear{tr ↦ re})"/>
<org.eventb.core.prPred name="p204" org.eventb.core.predicate="re ‥ front(tr1)∩(rear{tr ↦ re})(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))∧tr2∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))∧tr1≠tr2⇒{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr1) ‥ (front{tr ↦ fr})(tr1)∩{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr2) ‥ (front{tr ↦ fr})(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p98" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr1) ‥ fr∩{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p115" org.eventb.core.predicate="⊤∨integer=FALSE"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p122" org.eventb.core.predicate="tr2∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(TRUE))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p195" org.eventb.core.predicate="tr1∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(FALSE))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p128" org.eventb.core.predicate="re ‥ fr∩re ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p173" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p186" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p101" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p95" org.eventb.core.predicate="⊥"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="integer∈BOOL"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)⇒fr&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p213" org.eventb.core.predicate="rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p138" org.eventb.core.predicate="∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr∧ttd∈TTD∧front(tr1)∈ttd⇒¬fr∈ttd"/>
<org.eventb.core.prPred name="p190" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p207" org.eventb.core.predicate="re ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p116" org.eventb.core.predicate="re∈WAY"/>
<org.eventb.core.prPred name="p143" org.eventb.core.predicate="tr2∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(FALSE))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p103" org.eventb.core.predicate="⊥⇒re∈WAY"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒fr&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p135" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr∧ttd∈TTD∧front(tr1)∈ttd⇒¬fr∈ttd)"/>
<org.eventb.core.prPred name="p137" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒fr&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p129" org.eventb.core.predicate="re ‥ fr∩({tr} ⩤ rear)(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬FREE=UNKNOW"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="ttds⊆stateTTD∼[{FREE}]"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p119" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;re"/>
<org.eventb.core.prPred name="p142" org.eventb.core.predicate="FALSE=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;re)"/>
<org.eventb.core.prPred name="p106" org.eventb.core.predicate="⊥⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;re)"/>
<org.eventb.core.prPred name="p163" org.eventb.core.predicate="TRUE=FALSE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)⇒fr&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p200" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr1) ‥ front(tr1)∩{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr2) ‥ ({tr} ⩤ front)(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p105" org.eventb.core.predicate="⊥⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p187" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬OCCUPIED=UNKNOW"/>
<org.eventb.core.prPred name="p208" org.eventb.core.predicate="({tr} ⩤ rear)(tr1) ‥ front(tr1)∩(rear{tr ↦ re})(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p197" org.eventb.core.predicate="tr1∈dom(rear)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="tr2=tr">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p139" org.eventb.core.predicate="FALSE=TRUE⇒re∈WAY"/>
<org.eventb.core.prPred name="p215" org.eventb.core.predicate="¬(integer=TRUE∨integer=FALSE)"/>
<org.eventb.core.prPred name="p157" org.eventb.core.predicate="(rear{tr ↦ re})(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p124" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(TRUE)(tr) ‥ fr∩{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(TRUE)(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p167" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p92" org.eventb.core.predicate="¬tr=tr2">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p172" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr1≠tr∧ttd∈TTD∧front(tr1)∈ttd⇒fr∉ttd)"/>
<org.eventb.core.prPred name="p199" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr1) ‥ ({tr} ⩤ front)(tr1)∩{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr2) ‥ ({tr} ⩤ front)(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS"/>
<org.eventb.core.prPred name="p107" org.eventb.core.predicate="⊥⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒fr&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p180" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p153" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr1) ‥ front(tr1)∩{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr) ‥ fr=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒fr∈ttd∨(integer=TRUE∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p185" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p165" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(rear)⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p212" org.eventb.core.predicate="rear(tr1) ‥ front(tr1)∩({tr} ⩤ rear)(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p121" org.eventb.core.predicate="TRUE=FALSE⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr∧ttd∈TTD∧front(tr1)∈ttd⇒¬fr∈ttd)"/>
<org.eventb.core.prPred name="p158" org.eventb.core.predicate="re ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p198" org.eventb.core.predicate="rear(tr1) ‥ front(tr1)∩rear(tr) ‥ fr=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p202" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(TRUE)(tr1) ‥ front(tr1)∩{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(TRUE)(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p211" org.eventb.core.predicate="({tr} ⩤ rear)(tr1) ‥ front(tr1)∩({tr} ⩤ rear)(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr∧ttd∈TTD∧front(tr1)∈ttd⇒¬fr∈ttd)"/>
<org.eventb.core.prPred name="p117" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒fr∈ttd∨¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p144" org.eventb.core.predicate="tr∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(FALSE))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="¬TRAIN⊆dom(connectedTrain)"/>
<org.eventb.core.prPred name="p162" org.eventb.core.predicate="TRUE=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)⇒front(tr1)&lt;re)"/>
<org.eventb.core.prPred name="p145" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(FALSE)(tr) ‥ fr∩{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(FALSE)(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p193" org.eventb.core.predicate="¬tr∈dom(connectedTrain)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p175" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(rear)⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p217" org.eventb.core.predicate="¬integer=FALSE"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧tr1≠tr⇒front(tr1)&lt;re)"/>
<org.eventb.core.prPred name="p191" org.eventb.core.predicate="¬rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p170" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})"/>
<org.eventb.core.prPred name="p194" org.eventb.core.predicate="tr2∈dom(connectedTrain)">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p131" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(⊤∧re ‥ fr∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p171" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒fr∈ttd∨(integer=TRUE∧re ‥ fr∩ttd≠(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p94" org.eventb.core.predicate="¬⊤"/>
<org.eventb.core.prPred name="p169" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="tr1∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))∧tr2∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))∧¬tr1=tr2⇒{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr1) ‥ (front{tr ↦ fr})(tr1)∩{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr2) ‥ (front{tr ↦ fr})(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p100" org.eventb.core.predicate="¬⊥"/>
<org.eventb.core.prPred name="p130" org.eventb.core.predicate="re ‥ fr∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="¬tr1=tr2">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p113" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p125" org.eventb.core.predicate="tr2∈dom(rear{tr ↦ re})">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="tr2∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p168" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q"/>
<org.eventb.core.prPred name="p148" org.eventb.core.predicate="rear(tr) ‥ fr∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p178" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))"/>
<org.eventb.core.prPred name="p127" org.eventb.core.predicate="re ‥ fr∩(rear{tr ↦ re})(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p154" org.eventb.core.predicate="tr1∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(TRUE))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p210" org.eventb.core.predicate="rear(tr1) ‥ front(tr1)∩re ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p155" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(TRUE)(tr1) ‥ front(tr1)∩{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(TRUE)(tr) ‥ fr=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p205" org.eventb.core.predicate="re ‥ front(tr1)∩re ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p201" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr1) ‥ front(tr1)∩{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p150" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr1) ‥ ({tr} ⩤ front)(tr1)∩{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr2) ‥ (front{tr ↦ fr})(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p184" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p156" org.eventb.core.predicate="tr1∈dom(rear{tr ↦ re})">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))"/>
<org.eventb.core.prPred name="p114" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;re)"/>
<org.eventb.core.prPred name="p147" org.eventb.core.predicate="tr∈dom(rear)"/>
<org.eventb.core.prPred name="p151" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr1) ‥ ({tr} ⩤ front)(tr1)∩{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr2) ‥ fr=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="¬OCCUPIED=FREE"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p104" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒fr∈ttd∨(⊥∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p97" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr1) ‥ fr∩{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr2) ‥ ({tr} ⩤ front)(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p176" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)⇒front(tr1)&lt;re"/>
<org.eventb.core.prPred name="p214" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(FALSE)(tr1) ‥ front(tr1)∩{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(FALSE)(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="¬FREE=AMBIGUOUS"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)⇒front(tr1)&lt;re)"/>
<org.eventb.core.prPred name="p111" org.eventb.core.predicate="⊤⇒re∈WAY"/>
<org.eventb.core.prPred name="p164" org.eventb.core.predicate="TRUE=FALSE⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr1)∈ttd⇒fr∉ttd)"/>
<org.eventb.core.prPred name="p161" org.eventb.core.predicate="TRUE=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p96" org.eventb.core.predicate="¬tr2=tr">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="re&lt;fr"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p152" org.eventb.core.predicate="{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr1) ‥ front(tr1)∩{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr2) ‥ fr=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p160" org.eventb.core.predicate="rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="integer=TRUE⇒re∈WAY"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p91" org.eventb.core.predicate="tr∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))"/>
<org.eventb.core.prPred name="p120" org.eventb.core.predicate="TRUE=FALSE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒fr&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="tr∈TRAIN ∖ dom(connectedTrain)"/>
<org.eventb.core.prPred name="p183" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS"/>
<org.eventb.core.prPred name="p132" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ)))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(integer=TRUE∧re ‥ fr∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p140" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒fr∈ttd∨(FALSE=TRUE∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;re)"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))∧tr2∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))∧¬tr1=tr2⇒{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr1) ‥ (front{tr ↦ fr})(tr1)∩{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr2) ‥ (front{tr ↦ fr})(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p102" org.eventb.core.predicate="integer=TRUE∨integer=FALSE"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p177" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p166" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)⇒front(tr1)&lt;re)"/>
<org.eventb.core.prPred name="p108" org.eventb.core.predicate="⊥⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr∧ttd∈TTD∧front(tr1)∈ttd⇒¬fr∈ttd)"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p181" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p112" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒fr∈ttd∨(⊤∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p123" org.eventb.core.predicate="tr∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(TRUE))"/>
<org.eventb.core.prPred name="p189" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p149" org.eventb.core.predicate="¬tr1=tr">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p146" org.eventb.core.predicate="tr2∈dom(rear)">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p192" org.eventb.core.predicate="tr∉dom(connectedTrain)"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒fr&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p118" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p206" org.eventb.core.predicate="re ‥ front(tr1)∩({tr} ⩤ rear)(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r19" org.eventb.core.prRID="org.eventb.core.seqprover.doCase"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r17" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r14" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r18" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r20" org.eventb.core.prRID="org.eventb.core.seqprover.contrHyps:1"/>
<org.eventb.core.prReas name="r15" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.core.seqprover.cut"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r13" org.eventb.core.prRID="org.eventb.core.seqprover.disjE"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r11" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r12" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalPP:1"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r16" org.eventb.core.prRID="org.eventb.core.seqprover.contrL1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="_connectTrain/inv2_6/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr1,tr2" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54" org.eventb.core.prSets="STATES,TRAIN" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55,p56,p57,p58,p59,p60,p61"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p55,p56,p57,p58,p59,p60,p61"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p80">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p54" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p65"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p67"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p68"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p69"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p72" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p74" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p75"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p76" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p77"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p78" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p81"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1,tr2)" org.eventb.core.prGoal="p80" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p82">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p82" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p86" org.eventb.core.prHyps="p83,p84,p85">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p86" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p88" org.eventb.core.prHyps="p87">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr2=tr" org.eventb.core.prHyps="p87">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p83" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p85" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p83,p85"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (integer=TRUE∨integer=FALSE)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p91">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p91" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p92">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p92" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p92">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p93"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p94"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p96"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p77" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p97"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p79" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p98"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p93"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p94" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p99"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p95"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p96"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p97"/>
<org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p98"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p92" org.eventb.core.prHyps="p55,p56,p89,p67,p14,p59,p84,p87,p69,p36,p57,p90,p22,p38,p23,p58,p60,p61">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p92">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (integer=TRUE∨integer=FALSE)" org.eventb.core.prHyps="p92">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p100">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p92"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="p100" org.eventb.core.prInfHyps="p101"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="p100" org.eventb.core.prInfHyps="p102"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="p100" org.eventb.core.prInfHyps="p103"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="p100" org.eventb.core.prInfHyps="p104"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p92" org.eventb.core.prHyps="p100" org.eventb.core.prInfHyps="p105"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p101" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p106"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p102" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p107"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p103" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p108"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p104" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p109"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p105"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=TRUE" org.eventb.core.prGoal="p88" org.eventb.core.prHyps="p100">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p114">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p77" org.eventb.core.prInfHyps="p110"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p79" org.eventb.core.prInfHyps="p111"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p84" org.eventb.core.prInfHyps="p112"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p89" org.eventb.core.prInfHyps="p113"/>
<org.eventb.core.prHypAction name="DESELECT4" org.eventb.core.prHyps="p79,p77,p84,p89"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p114" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p117">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p110"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p111"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p112" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p115"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p113" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p116"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p117" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p119" org.eventb.core.prHyps="p118">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p119" org.eventb.core.prHyps="p22">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p120">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p118" org.eventb.core.prHyps="p90" org.eventb.core.prInfHyps="p120"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p120"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p121" org.eventb.core.prHyps="p90">
<org.eventb.core.prRule name="r13" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p121" org.eventb.core.prHyps="p43">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p122">
<org.eventb.core.prRule name="r14" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p122" org.eventb.core.prHyps="p106,p1,p115,p2,p3,p84,p4,p5,p6,p69,p7,p58,p8,p9,p61,p10,p11,p100,p56,p89,p66,p67,p14,p16,p116,p17,p19,p20,p21,p22,p23,p60,p25,p26,p28,p64,p30,p31,p33,p87,p34,p35,p36,p57,p37,p38,p85,p39,p40,p68,p83,p41,p55,p43,p59,p44,p45,p65,p46,p47,p48,p49,p50,p62,p90,p51,p63,p52,p53">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p123">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p92"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p77" org.eventb.core.prHyps="p123" org.eventb.core.prInfHyps="p124"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p79" org.eventb.core.prHyps="p123" org.eventb.core.prInfHyps="p125"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p92" org.eventb.core.prHyps="p123" org.eventb.core.prInfHyps="p126"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p124" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p127"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p125" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p128"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p126"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=FALSE" org.eventb.core.prGoal="p88" org.eventb.core.prHyps="p123">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p135">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p32" org.eventb.core.prInfHyps="p129"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p71" org.eventb.core.prInfHyps="p130"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p73" org.eventb.core.prInfHyps="p131"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p75" org.eventb.core.prInfHyps="p132"/>
<org.eventb.core.prHypAction name="FORWARD_INF4" org.eventb.core.prHyps="p84" org.eventb.core.prInfHyps="p133"/>
<org.eventb.core.prHypAction name="FORWARD_INF5" org.eventb.core.prHyps="p89" org.eventb.core.prInfHyps="p134"/>
<org.eventb.core.prHypAction name="DESELECT6" org.eventb.core.prHyps="p71,p32,p73,p84,p89,p75"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p135" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p122">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p129"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p130" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p99"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p131"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p132"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p133" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p136"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p134" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p137"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p122" org.eventb.core.prHyps="p55,p56,p67,p14,p16,p136,p59,p87,p49,p19,p123,p6,p69,p36,p57,p90,p22,p38,p23,p58,p60,p61,p137">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p92"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p139" org.eventb.core.prHyps="p138">
<org.eventb.core.prRule name="r13" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p139" org.eventb.core.prHyps="p46">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p140">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (integer=TRUE∨integer=FALSE)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p91">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p91" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p92">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p92" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p92">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p93"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p94"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p96"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p77" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p97"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p79" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p98"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p93"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p94" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p99"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p95"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p96"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p97"/>
<org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p98"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p92" org.eventb.core.prHyps="p83,p55,p56,p67,p14,p59,p84,p69,p36,p57,p138,p22,p38,p23,p85,p58,p60,p61">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p92">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (integer=TRUE∨integer=FALSE)" org.eventb.core.prHyps="p92">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p100">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p92"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="p100" org.eventb.core.prInfHyps="p101"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="p100" org.eventb.core.prInfHyps="p102"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="p100" org.eventb.core.prInfHyps="p103"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="p100" org.eventb.core.prInfHyps="p104"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p92" org.eventb.core.prHyps="p100" org.eventb.core.prInfHyps="p105"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p101" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p106"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p102" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p107"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p103" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p108"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p104" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p109"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p105"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=TRUE" org.eventb.core.prGoal="p140" org.eventb.core.prHyps="p100">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p142">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p77" org.eventb.core.prInfHyps="p110"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p79" org.eventb.core.prInfHyps="p111"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p83" org.eventb.core.prInfHyps="p141"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p84" org.eventb.core.prInfHyps="p112"/>
<org.eventb.core.prHypAction name="DESELECT4" org.eventb.core.prHyps="p79,p83,p77,p84"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p142" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p144">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p110"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p111"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p141" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p143"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p112" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p115"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p144" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p145" org.eventb.core.prHyps="p118">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr1=tr" org.eventb.core.prHyps="p118">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p85" org.eventb.core.prInfHyps="p146"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p115" org.eventb.core.prInfHyps="p147"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p115,p85"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p146" org.eventb.core.prHyps="p138" org.eventb.core.prInfHyps="p148"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p148"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="p100" org.eventb.core.prInfHyps="p149"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p149" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p150"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p145" org.eventb.core.prHyps="p147,p55,p56,p67,p14,p106,p16,p59,p49,p19,p6,p69,p36,p57,p150,p138,p22,p23,p58,p118,p60,p61,p100,p143">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p151" org.eventb.core.prHyps="p90">
<org.eventb.core.prRule name="r13" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p151" org.eventb.core.prHyps="p43">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p152">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p152" org.eventb.core.prHyps="p106,p115,p6,p69,p36,p57,p38,p85,p58,p61,p100,p143,p55,p56,p67,p14,p16,p59,p49,p19,p138,p90,p22,p23,p60">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p123">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p92"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p77" org.eventb.core.prHyps="p123" org.eventb.core.prInfHyps="p124"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p79" org.eventb.core.prHyps="p123" org.eventb.core.prInfHyps="p125"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p92" org.eventb.core.prHyps="p123" org.eventb.core.prInfHyps="p126"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p124" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p127"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p125" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p128"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p126"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=FALSE" org.eventb.core.prGoal="p140" org.eventb.core.prHyps="p123">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p154">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p32" org.eventb.core.prInfHyps="p129"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p71" org.eventb.core.prInfHyps="p130"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p73" org.eventb.core.prInfHyps="p131"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p75" org.eventb.core.prInfHyps="p132"/>
<org.eventb.core.prHypAction name="FORWARD_INF4" org.eventb.core.prHyps="p83" org.eventb.core.prInfHyps="p153"/>
<org.eventb.core.prHypAction name="FORWARD_INF5" org.eventb.core.prHyps="p84" org.eventb.core.prInfHyps="p133"/>
<org.eventb.core.prHypAction name="DESELECT6" org.eventb.core.prHyps="p71,p32,p83,p73,p84,p75"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p154" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p152">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p129"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p130" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p99"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p131"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p132"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p153" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p155"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p133" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p136"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p152" org.eventb.core.prHyps="p55,p56,p67,p14,p16,p136,p59,p155,p49,p19,p123,p6,p69,p36,p57,p138,p22,p38,p23,p85,p58,p60,p61">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p92"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="integer" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr∧ttd∈TTD∧front(tr1)∈ttd⇒¬fr∈ttd)"/>
<org.eventb.core.prPred name="p99" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒fr∈ttd"/>
<org.eventb.core.prPred name="p107" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒fr∈ttd∨¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p124" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒fr&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="tr1∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p123" org.eventb.core.predicate="integer=FALSE"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr1)∈ttd⇒fr∉ttd)"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="¬TRAIN⊆dom(connectedTrain)"/>
<org.eventb.core.prPred name="p117" org.eventb.core.predicate="fr&lt;(rear{tr ↦ re})(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p118" org.eventb.core.predicate="tr1=tr">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)"/>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="(front{tr ↦ fr})(tr2)&lt;{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p100" org.eventb.core.predicate="integer=TRUE"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p135" org.eventb.core.predicate="fr&lt;{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(FALSE)(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p142" org.eventb.core.predicate="front(tr2)&lt;{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(TRUE)(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="tr∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧tr1≠tr⇒front(tr1)&lt;re)"/>
<org.eventb.core.prPred name="p155" org.eventb.core.predicate="tr2∈dom(front{tr ↦ fr}) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})"/>
<org.eventb.core.prPred name="p149" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(⊤∧re ‥ fr∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="fr∈WAY"/>
<org.eventb.core.prPred name="p131" org.eventb.core.predicate="FALSE=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="TRAIN ∖ dom(connectedTrain)≠(∅ ⦂ ℙ(TRAIN))"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))∧tr2∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))∧tr1≠tr2⇒(front{tr ↦ fr})(tr2)&lt;{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr1)"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="b − a≥20"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒fr∈ttd∨(integer=TRUE∧re ‥ fr∩ttd≠(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p126" org.eventb.core.predicate="integer=TRUE∨⊤"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p119" org.eventb.core.predicate="fr&lt;re"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p114" org.eventb.core.predicate="fr&lt;{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(TRUE)(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p147" org.eventb.core.predicate="tr∈dom(rear{tr ↦ re})"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p148" org.eventb.core.predicate="¬⊥"/>
<org.eventb.core.prPred name="p105" org.eventb.core.predicate="⊤∨integer=FALSE"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p133" org.eventb.core.predicate="tr1∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(FALSE))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="¬tr1=tr2">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p103" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p141" org.eventb.core.predicate="tr2∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(TRUE))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p91" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p120" org.eventb.core.predicate="⊥"/>
<org.eventb.core.prPred name="p112" org.eventb.core.predicate="tr1∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(TRUE))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p151" org.eventb.core.predicate="front(tr2)&lt;({tr} ⩤ rear)(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="integer∈BOOL"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)⇒fr&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p145" org.eventb.core.predicate="front(tr2)&lt;re">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p128" org.eventb.core.predicate="∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr∧ttd∈TTD∧front(tr1)∈ttd⇒¬fr∈ttd"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p137" org.eventb.core.predicate="tr∈dom(front{tr ↦ fr}) ∖ dom(rear)"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p106" org.eventb.core.predicate="re∈WAY"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p115" org.eventb.core.predicate="tr1∈dom(rear{tr ↦ re})">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p93" org.eventb.core.predicate="⊥⇒re∈WAY"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒fr&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p104" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;re)"/>
<org.eventb.core.prPred name="p125" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr∧ttd∈TTD∧front(tr1)∈ttd⇒¬fr∈ttd)"/>
<org.eventb.core.prPred name="p127" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒fr&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="¬OCCUPIED=FREE"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬FREE=UNKNOW"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p94" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒fr∈ttd∨(⊥∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="¬FREE=AMBIGUOUS"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="ttds⊆stateTTD∼[{FREE}]"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)⇒front(tr1)&lt;re)"/>
<org.eventb.core.prPred name="p101" org.eventb.core.predicate="⊤⇒re∈WAY"/>
<org.eventb.core.prPred name="p116" org.eventb.core.predicate="tr∈dom(front{tr ↦ fr}) ∖ dom(rear{tr ↦ re})"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p109" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;re"/>
<org.eventb.core.prPred name="p132" org.eventb.core.predicate="FALSE=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;re)"/>
<org.eventb.core.prPred name="p96" org.eventb.core.predicate="⊥⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;re)"/>
<org.eventb.core.prPred name="p152" org.eventb.core.predicate="front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p138" org.eventb.core.predicate="¬tr2=tr">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="re&lt;fr"/>
<org.eventb.core.prPred name="p95" org.eventb.core.predicate="⊥⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p134" org.eventb.core.predicate="tr∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(FALSE))"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬OCCUPIED=UNKNOW"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="tr1∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))∧tr2∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))∧¬tr1=tr2⇒(front{tr ↦ fr})(tr2)&lt;{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="fr&lt;{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p139" org.eventb.core.predicate="({tr} ⩤ front)(tr2)&lt;{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p136" org.eventb.core.predicate="tr1∈dom(rear)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="integer=TRUE⇒re∈WAY"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))∧tr2∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))∧¬tr1=tr2⇒(front{tr ↦ fr})(tr2)&lt;{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr1)"/>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="tr2=tr">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p129" org.eventb.core.predicate="FALSE=TRUE⇒re∈WAY"/>
<org.eventb.core.prPred name="p110" org.eventb.core.predicate="TRUE=FALSE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒fr&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="tr∈TRAIN ∖ dom(connectedTrain)"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS"/>
<org.eventb.core.prPred name="p150" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ)))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(integer=TRUE∧re ‥ fr∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds"/>
<org.eventb.core.prPred name="p122" org.eventb.core.predicate="fr&lt;rear(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p130" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒fr∈ttd∨(FALSE=TRUE∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;re)"/>
<org.eventb.core.prPred name="p121" org.eventb.core.predicate="fr&lt;({tr} ⩤ rear)(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p143" org.eventb.core.predicate="tr2∈dom(front{tr ↦ fr}) ∖ dom(rear{tr ↦ re})">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p144" org.eventb.core.predicate="front(tr2)&lt;(rear{tr ↦ re})(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p146" org.eventb.core.predicate="¬tr=tr2">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p92" org.eventb.core.predicate="integer=TRUE∨integer=FALSE"/>
<org.eventb.core.prPred name="p154" org.eventb.core.predicate="front(tr2)&lt;{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(FALSE)(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr1≠tr∧ttd∈TTD∧front(tr1)∈ttd⇒fr∉ttd)"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="tr2∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS"/>
<org.eventb.core.prPred name="p97" org.eventb.core.predicate="⊥⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒fr&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p153" org.eventb.core.predicate="tr2∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(FALSE))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))"/>
<org.eventb.core.prPred name="p98" org.eventb.core.predicate="⊥⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr∧ttd∈TTD∧front(tr1)∈ttd⇒¬fr∈ttd)"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒fr∈ttd∨(integer=TRUE∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p102" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒fr∈ttd∨(⊤∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p113" org.eventb.core.predicate="tr∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(TRUE))"/>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="¬tr1=tr">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p140" org.eventb.core.predicate="front(tr2)&lt;{TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer)(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p111" org.eventb.core.predicate="TRUE=FALSE⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr∧ttd∈TTD∧front(tr1)∈ttd⇒¬fr∈ttd)"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒fr&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p108" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r12" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r14" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.cut"/>
<org.eventb.core.prReas name="r11" org.eventb.core.prRID="org.eventb.core.seqprover.disjE"/>
<org.eventb.core.prReas name="r13" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalPP:1"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="_connectTrain/inv2_7/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr1,tr2,ttd" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49" org.eventb.core.prSets="STATES,TRAIN" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50,p51,p52,p53,p54,p55,p56"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50,p51,p52,p53,p54,p55,p56"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p75">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p61"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p65" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p67" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p68"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p70"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p72"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p74"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p76"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1,tr2,ttd)" org.eventb.core.prGoal="p75" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p77">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p77" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p83" org.eventb.core.prHyps="p78,p79,p80,p81,p82">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p83" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p85" org.eventb.core.prHyps="p84">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in (front{tr ↦ fr})(tr1)" org.eventb.core.prHyps="p78">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p86,p87">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p78"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p85" org.eventb.core.prHyps="p86">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p88">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p88" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p89">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr2=tr" org.eventb.core.prHyps="p84">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p79" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p82" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p79,p82"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p91" org.eventb.core.prHyps="p87" org.eventb.core.prInfHyps="p88"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p88" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p89"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p91,p92">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p78"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in hyp" org.eventb.core.prHyps="p42">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p92" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p93"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p93"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr2=tr" org.eventb.core.prHyps="p84">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p79" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p79"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (integer=TRUE∨integer=FALSE)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p94">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p94" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p95">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p95" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p95">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p96"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p66" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p97"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p68" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p98"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p99"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p72" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p100"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p74" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p101"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p96"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p97" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p102"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p98"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p99"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p100"/>
<org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p101"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p95" org.eventb.core.prHyps="p50,p51,p90,p93,p54,p84,p81,p64,p33,p52,p80,p91,p19,p20,p82,p53,p55,p56,p63">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p95">
<org.eventb.core.prRule name="r13" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (integer=TRUE∨integer=FALSE)" org.eventb.core.prHyps="p95">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p103">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p95"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="p103" org.eventb.core.prInfHyps="p104"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p66" org.eventb.core.prHyps="p103" org.eventb.core.prInfHyps="p105"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p68" org.eventb.core.prHyps="p103" org.eventb.core.prInfHyps="p106"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="p103" org.eventb.core.prInfHyps="p107"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p95" org.eventb.core.prHyps="p103" org.eventb.core.prInfHyps="p108"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p104" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p109"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p105" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p110"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p106" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p111"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p107" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p112"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p108"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=TRUE" org.eventb.core.prHyps="p103">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p72" org.eventb.core.prInfHyps="p113"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p74" org.eventb.core.prInfHyps="p114"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p80" org.eventb.core.prInfHyps="p115"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p90" org.eventb.core.prInfHyps="p116"/>
<org.eventb.core.prHypAction name="DESELECT4" org.eventb.core.prHyps="p74,p72,p80,p90"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p113"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p114"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p115" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p117"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p116" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p118"/>
<org.eventb.core.prRule name="r14" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p85" org.eventb.core.prHyps="p109,p1,p2,p3,p4,p5,p64,p7,p53,p8,p9,p56,p10,p11,p103,p51,p90,p61,p62,p118,p15,p81,p117,p17,p18,p19,p20,p55,p22,p23,p25,p59,p93,p27,p28,p30,p84,p31,p32,p33,p52,p80,p34,p82,p35,p36,p63,p79,p37,p50,p39,p54,p40,p41,p60,p42,p43,p44,p45,p57,p91,p46,p58,p47,p48">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p119">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p95"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p72" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p120"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p74" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p121"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p95" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p122"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p120" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p123"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p121" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p124"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p122"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=FALSE" org.eventb.core.prHyps="p119">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p29" org.eventb.core.prInfHyps="p125"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p66" org.eventb.core.prInfHyps="p126"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p68" org.eventb.core.prInfHyps="p127"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p70" org.eventb.core.prInfHyps="p128"/>
<org.eventb.core.prHypAction name="FORWARD_INF4" org.eventb.core.prHyps="p80" org.eventb.core.prInfHyps="p129"/>
<org.eventb.core.prHypAction name="FORWARD_INF5" org.eventb.core.prHyps="p90" org.eventb.core.prInfHyps="p130"/>
<org.eventb.core.prHypAction name="DESELECT6" org.eventb.core.prHyps="p66,p29,p68,p80,p90,p70"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p125"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p126" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p102"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p127"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p128"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p129" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p131"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p130" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p132"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p133" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p134"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=FALSE" org.eventb.core.prHyps="p119">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p134" org.eventb.core.prInfHyps="p135"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p134"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p135" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p136"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p137"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p138"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p139"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p140"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p141"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p5"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p142"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p143"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p142" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p144"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p144"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p143" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p145"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p145"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p144" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p146"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p146"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p145" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p147"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p147"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p146" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p148"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p148"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p147" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p149"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p149"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p148" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p150"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p150"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p149" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p151"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p151"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p150" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p152"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p152"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p151" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p153"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p153"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p152" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p154"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p154"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p153" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p155"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p155"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p154" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p156"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p155" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p157"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=FALSE" org.eventb.core.prHyps="p119">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p158" org.eventb.core.prInfHyps="p159"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p160" org.eventb.core.prInfHyps="p161"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p162" org.eventb.core.prInfHyps="p163"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p164"/>
<org.eventb.core.prHypAction name="DESELECT4" org.eventb.core.prHyps="p6,p162,p158,p160"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p162" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p165"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p166"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p159"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p161"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p163" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p167"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p164" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p168"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p165" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p167"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p166" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p168"/>
<org.eventb.core.prRule name="r16" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p59,p139,p1,p2,p28,p29,p4,p31,p32,p80,p7,p34,p137,p8,p9,p138,p10,p79,p37,p90,p61,p62,p160,p39,p40,p15,p41,p60,p140,p42,p45,p158,p57,p18,p141,p58,p134,p47,p48,p23"/>
<org.eventb.core.prRule name="r17" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p85" org.eventb.core.prHyps="p33,p168,p81,p93,p131,p20">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p95"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p170" org.eventb.core.prHyps="p169">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p170" org.eventb.core.prHyps="p42">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p171">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in (front{tr ↦ fr})(tr1)" org.eventb.core.prHyps="p78">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p86,p87">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p78"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with tr1=tr" org.eventb.core.prHyps="p87">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p80" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p82" org.eventb.core.prInfHyps="p172"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p80,p82"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p172" org.eventb.core.prHyps="p169" org.eventb.core.prInfHyps="p173"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p173"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (integer=TRUE∨integer=FALSE)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p94">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p94" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p95">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p95" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p95">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p96"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p66" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p97"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p68" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p98"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p99"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p72" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p100"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p74" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p101"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p96"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p97" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p102"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p98"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p99"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p100"/>
<org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p101"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p137"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p138"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p139"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p140"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p141"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p5"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p142"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p143"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p142" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p144"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p144"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p143" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p145"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p145"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p144" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p146"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p146"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p145" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p147"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p147"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p146" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p148"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p148"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p147" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p149"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p149"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p148" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p150"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p150"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p149" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p151"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p151"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p150" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p152"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p152"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p151" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p153"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p153"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p152" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p154"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p154"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p153" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p155"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p155"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p154" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p156"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p155" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p157"/>
<org.eventb.core.prRule name="r16" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p59,p139,p1,p2,p28,p4,p31,p32,p80,p7,p34,p137,p82,p8,p9,p138,p10,p37,p61,p62,p39,p40,p15,p41,p60,p140,p42,p45,p57,p18,p141,p58,p47,p48,p23"/>
<org.eventb.core.prRule name="r17" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP (trivial)" org.eventb.core.prGoal="p95" org.eventb.core.prHyps="">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p95">
<org.eventb.core.prRule name="r13" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (integer=TRUE∨integer=FALSE)" org.eventb.core.prHyps="p95">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p103">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p95"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="p103" org.eventb.core.prInfHyps="p104"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p66" org.eventb.core.prHyps="p103" org.eventb.core.prInfHyps="p105"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p68" org.eventb.core.prHyps="p103" org.eventb.core.prInfHyps="p106"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="p103" org.eventb.core.prInfHyps="p107"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p95" org.eventb.core.prHyps="p103" org.eventb.core.prInfHyps="p108"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p104" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p109"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p105" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p110"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p106" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p111"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p107" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p112"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p108"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=TRUE" org.eventb.core.prHyps="p103">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p72" org.eventb.core.prInfHyps="p113"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p74" org.eventb.core.prInfHyps="p114"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p79" org.eventb.core.prInfHyps="p174"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p90" org.eventb.core.prInfHyps="p116"/>
<org.eventb.core.prHypAction name="DESELECT4" org.eventb.core.prHyps="p74,p79,p72,p90"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p113"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p114"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p174" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p175"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p116" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p118"/>
<org.eventb.core.prRule name="r14" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p171" org.eventb.core.prHyps="p109,p1,p2,p3,p4,p5,p64,p7,p53,p8,p87,p9,p56,p10,p11,p103,p51,p90,p61,p62,p118,p15,p81,p17,p18,p169,p19,p20,p55,p22,p23,p25,p59,p27,p28,p30,p31,p32,p33,p52,p80,p34,p82,p35,p36,p63,p175,p79,p37,p50,p39,p54,p40,p41,p60,p42,p43,p44,p45,p57,p46,p58,p47,p48,p86">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p119">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p95"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p72" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p120"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p74" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p121"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p95" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p122"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p120" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p123"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p121" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p124"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p122"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=FALSE" org.eventb.core.prHyps="p119">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p29" org.eventb.core.prInfHyps="p125"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p66" org.eventb.core.prInfHyps="p126"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p68" org.eventb.core.prInfHyps="p127"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p70" org.eventb.core.prInfHyps="p128"/>
<org.eventb.core.prHypAction name="FORWARD_INF4" org.eventb.core.prHyps="p79" org.eventb.core.prInfHyps="p176"/>
<org.eventb.core.prHypAction name="FORWARD_INF5" org.eventb.core.prHyps="p90" org.eventb.core.prInfHyps="p130"/>
<org.eventb.core.prHypAction name="DESELECT6" org.eventb.core.prHyps="p66,p29,p79,p68,p90,p70"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p125"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p126" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p102"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p127"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p128"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p176" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p177"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p130" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p132"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p137"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p138"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p139"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p140"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p141"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p5"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p142"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p143"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p142" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p144"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p144"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p143" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p145"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p145"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p144" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p146"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p146"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p145" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p147"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p147"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p146" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p148"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p148"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p147" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p149"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p149"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p148" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p150"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p150"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p149" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p151"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p151"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p150" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p152"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p152"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p151" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p153"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p153"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p152" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p154"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p154"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p153" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p155"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p155"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p154" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p156"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p155" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p157"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=FALSE" org.eventb.core.prHyps="p119">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p133" org.eventb.core.prInfHyps="p178"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p158" org.eventb.core.prInfHyps="p159"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p160" org.eventb.core.prInfHyps="p161"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p162" org.eventb.core.prInfHyps="p163"/>
<org.eventb.core.prHypAction name="FORWARD_INF4" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p164"/>
<org.eventb.core.prHypAction name="DESELECT5" org.eventb.core.prHyps="p6,p133,p162,p158,p160"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p162" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p165"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p166"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p133" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p134"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p178" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p136"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p159"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p161"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p163" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p167"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p164" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p168"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p165" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p167"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p166" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p168"/>
<org.eventb.core.prRule name="r16" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p59,p139,p1,p2,p28,p29,p4,p31,p32,p80,p7,p34,p137,p82,p8,p9,p138,p10,p79,p37,p90,p61,p62,p160,p39,p40,p15,p41,p60,p140,p42,p45,p158,p57,p18,p141,p58,p134,p47,p48,p23"/>
<org.eventb.core.prRule name="r17" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p171" org.eventb.core.prHyps="p33,p168,p169,p19,p20,p81,p177,p86,p42">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p95"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p91,p92">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p78"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in hyp" org.eventb.core.prHyps="p42">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p92" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p93"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p93"/>
<org.eventb.core.prRule name="r18" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ hyp (inst tr1,tr2,ttd)" org.eventb.core.prHyps="p63">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p94">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p94" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p179">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p63"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p171" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p171">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p179" org.eventb.core.prHyps="p81,p93,p82" org.eventb.core.prInfHyps="p180"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p180" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p181"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p181" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p182"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p182"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (integer=TRUE∨integer=FALSE)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p94">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p94" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p95">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p95" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p95">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p96"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p66" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p97"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p68" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p98"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p99"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p72" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p100"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p74" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p101"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p96"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p97" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p102"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p98"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p99"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p100"/>
<org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p101"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p95" org.eventb.core.prHyps="p79,p50,p51,p93,p54,p81,p64,p33,p52,p80,p169,p91,p19,p182,p20,p82,p53,p55,p56">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p95">
<org.eventb.core.prRule name="r13" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (integer=TRUE∨integer=FALSE)" org.eventb.core.prHyps="p95">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p103">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p95"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="p103" org.eventb.core.prInfHyps="p104"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p66" org.eventb.core.prHyps="p103" org.eventb.core.prInfHyps="p105"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p68" org.eventb.core.prHyps="p103" org.eventb.core.prInfHyps="p106"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="p103" org.eventb.core.prInfHyps="p107"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p95" org.eventb.core.prHyps="p103" org.eventb.core.prInfHyps="p108"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p104" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p109"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p105" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p110"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p106" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p111"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p107" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p112"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p108"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=TRUE" org.eventb.core.prHyps="p103">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p72" org.eventb.core.prInfHyps="p113"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p74" org.eventb.core.prInfHyps="p114"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p79" org.eventb.core.prInfHyps="p174"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p80" org.eventb.core.prInfHyps="p115"/>
<org.eventb.core.prHypAction name="DESELECT4" org.eventb.core.prHyps="p74,p79,p72,p80"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p113"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p114"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p174" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p175"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p115" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p117"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p171" org.eventb.core.prHyps="p50,p51,p93,p109,p54,p81,p117,p64,p33,p52,p169,p91,p19,p182,p20,p82,p53,p55,p56,p103,p175">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p119">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p95"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p72" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p120"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p74" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p121"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p95" org.eventb.core.prHyps="p119" org.eventb.core.prInfHyps="p122"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p120" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p123"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p121" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p124"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p122"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=FALSE" org.eventb.core.prHyps="p119">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p29" org.eventb.core.prInfHyps="p125"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p66" org.eventb.core.prInfHyps="p126"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p68" org.eventb.core.prInfHyps="p127"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p70" org.eventb.core.prInfHyps="p128"/>
<org.eventb.core.prHypAction name="FORWARD_INF4" org.eventb.core.prHyps="p79" org.eventb.core.prInfHyps="p176"/>
<org.eventb.core.prHypAction name="FORWARD_INF5" org.eventb.core.prHyps="p80" org.eventb.core.prInfHyps="p129"/>
<org.eventb.core.prHypAction name="DESELECT6" org.eventb.core.prHyps="p66,p29,p79,p68,p80,p70"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p125"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p126" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p102"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p127"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p128"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p176" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p177"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p129" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p131"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p171" org.eventb.core.prHyps="p50,p51,p93,p54,p81,p177,p119,p64,p33,p52,p169,p91,p19,p182,p20,p82,p53,p55,p56,p131">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p95"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prExprRef name=".exprs" org.eventb.core.prRef="e0,e1,e2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="integer" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr∧ttd∈TTD∧front(tr1)∈ttd⇒¬fr∈ttd)"/>
<org.eventb.core.prPred name="p102" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒fr∈ttd">
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="¬(front{tr ↦ fr})(tr2)∈ttd">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p110" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒fr∈ttd∨¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p120" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒fr&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))∧tr2∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))∧¬tr1=tr2∧ttd∈TTD∧(front{tr ↦ fr})(tr1)∈ttd⇒¬(front{tr ↦ fr})(tr2)∈ttd"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p180" org.eventb.core.predicate="tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬⊥∧⊤∧⊤⇒¬⊤">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p146" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p119" org.eventb.core.predicate="integer=FALSE"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr1)∈ttd⇒fr∉ttd)"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="¬TRAIN⊆dom(connectedTrain)"/>
<org.eventb.core.prPred name="p136" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧fr∈ttd⇒ttd∈ttds">
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p135" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(FALSE=TRUE∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="tr1=tr">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)"/>
<org.eventb.core.prPred name="p103" org.eventb.core.predicate="integer=TRUE"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="tr∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧tr1≠tr⇒front(tr1)&lt;re)"/>
<org.eventb.core.prPred name="p177" org.eventb.core.predicate="tr2∈dom(front{tr ↦ fr}) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p140" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p158" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})"/>
<org.eventb.core.prPred name="p170" org.eventb.core.predicate="¬({tr} ⩤ front)(tr2)∈ttd">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="fr∈WAY"/>
<org.eventb.core.prPred name="p127" org.eventb.core.predicate="FALSE=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p141" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="TRAIN ∖ dom(connectedTrain)≠(∅ ⦂ ℙ(TRAIN))"/>
<org.eventb.core.prPred name="p155" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p134" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(integer=TRUE∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="b − a≥20"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒fr∈ttd∨(integer=TRUE∧re ‥ fr∩ttd≠(∅ ⦂ ℙ(ℤ)))">
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p122" org.eventb.core.predicate="integer=TRUE∨⊤"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="¬⊤"/>
<org.eventb.core.prPred name="p179" org.eventb.core.predicate="tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p139" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p149" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p167" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(rear)⇒fr&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p173" org.eventb.core.predicate="¬⊥"/>
<org.eventb.core.prPred name="p108" org.eventb.core.predicate="⊤∨integer=FALSE"/>
<org.eventb.core.prPred name="p168" org.eventb.core.predicate="∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr1)∈ttd⇒¬fr∈ttd"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="¬tr1=tr2">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p106" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p174" org.eventb.core.predicate="tr2∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(TRUE))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p138" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p143" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p145" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))"/>
<org.eventb.core.prPred name="p153" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p94" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="⊥"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="integer∈BOOL"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p162" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)⇒fr&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p163" org.eventb.core.predicate="FALSE=FALSE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)⇒fr&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p124" org.eventb.core.predicate="∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr∧ttd∈TTD∧front(tr1)∈ttd⇒¬fr∈ttd"/>
<org.eventb.core.prPred name="p157" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p132" org.eventb.core.predicate="tr∈dom(front{tr ↦ fr}) ∖ dom(rear)"/>
<org.eventb.core.prPred name="p171" org.eventb.core.predicate="¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p151" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p109" org.eventb.core.predicate="re∈WAY"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p96" org.eventb.core.predicate="⊥⇒re∈WAY"/>
<org.eventb.core.prPred name="p115" org.eventb.core.predicate="tr1∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(TRUE))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒fr&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p107" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;re)"/>
<org.eventb.core.prPred name="p121" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr∧ttd∈TTD∧front(tr1)∈ttd⇒¬fr∈ttd)"/>
<org.eventb.core.prPred name="p123" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒fr&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="¬fr∈ttd">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬OCCUPIED=FREE"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="(front{tr ↦ fr})(tr1)∈ttd">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="¬FREE=UNKNOW"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p97" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒fr∈ttd∨(⊥∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ)))">
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="¬FREE=AMBIGUOUS"/>
<org.eventb.core.prPred name="p165" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(rear)⇒fr&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p92" org.eventb.core.predicate="({tr} ⩤ front)(tr1)∈ttd">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p160" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)⇒front(tr1)&lt;re)"/>
<org.eventb.core.prPred name="p104" org.eventb.core.predicate="⊤⇒re∈WAY"/>
<org.eventb.core.prPred name="p118" org.eventb.core.predicate="tr∈dom(front{tr ↦ fr}) ∖ dom(rear{tr ↦ re})"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p112" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;re"/>
<org.eventb.core.prPred name="p128" org.eventb.core.predicate="FALSE=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;re)"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="ttd∈TTD">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p99" org.eventb.core.predicate="⊥⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;re)"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p117" org.eventb.core.predicate="tr1∈dom(front{tr ↦ fr}) ∖ dom(rear{tr ↦ re})">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p169" org.eventb.core.predicate="¬tr2=tr">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="re&lt;fr"/>
<org.eventb.core.prPred name="p98" org.eventb.core.predicate="⊥⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p129" org.eventb.core.predicate="tr1∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(FALSE))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p130" org.eventb.core.predicate="tr∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(FALSE))"/>
<org.eventb.core.prPred name="p181" org.eventb.core.predicate="¬(tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p154" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="¬OCCUPIED=UNKNOW"/>
<org.eventb.core.prPred name="p166" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr1)∈ttd⇒fr∉ttd)"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p93" org.eventb.core.predicate="front(tr1)∈ttd">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="integer=TRUE⇒re∈WAY"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="tr2=tr">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p125" org.eventb.core.predicate="FALSE=TRUE⇒re∈WAY"/>
<org.eventb.core.prPred name="p113" org.eventb.core.predicate="TRUE=FALSE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒fr&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="tr∈TRAIN ∖ dom(connectedTrain)"/>
<org.eventb.core.prPred name="p150" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="tr1∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p161" org.eventb.core.predicate="FALSE=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)⇒front(tr1)&lt;re)"/>
<org.eventb.core.prPred name="p137" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p126" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒fr∈ttd∨(FALSE=TRUE∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ)))">
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p133" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(integer=TRUE∧re ‥ fr∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr⇒front(tr1)&lt;re)"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p175" org.eventb.core.predicate="tr2∈dom(front{tr ↦ fr}) ∖ dom(rear{tr ↦ re})">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p172" org.eventb.core.predicate="¬tr=tr2">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p95" org.eventb.core.predicate="integer=TRUE∨integer=FALSE"/>
<org.eventb.core.prPred name="p142" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr1≠tr∧ttd∈TTD∧front(tr1)∈ttd⇒fr∉ttd)"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="tr1∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))∧tr2∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))∧¬tr1=tr2∧ttd∈TTD∧(front{tr ↦ fr})(tr1)∈ttd⇒¬(front{tr ↦ fr})(tr2)∈ttd">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="tr2∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS"/>
<org.eventb.core.prPred name="p100" org.eventb.core.predicate="⊥⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒fr&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p147" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p176" org.eventb.core.predicate="tr2∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(FALSE))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p164" org.eventb.core.predicate="FALSE=FALSE⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr1)∈ttd⇒fr∉ttd)"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p144" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))"/>
<org.eventb.core.prPred name="p159" org.eventb.core.predicate="FALSE=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))"/>
<org.eventb.core.prPred name="p101" org.eventb.core.predicate="⊥⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr∧ttd∈TTD∧front(tr1)∈ttd⇒¬fr∈ttd)"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒fr∈ttd∨(integer=TRUE∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ)))">
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p148" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p152" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p105" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈ttds⇒fr∈ttd∨(⊤∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ)))">
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p116" org.eventb.core.predicate="tr∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(TRUE))"/>
<org.eventb.core.prPred name="p156" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p91" org.eventb.core.predicate="¬tr1=tr">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p182" org.eventb.core.predicate="¬tr1∈dom(front) ∖ dom(rear)∨¬tr2∈dom(front) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p178" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(FALSE=TRUE∧re ‥ fr∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p114" org.eventb.core.predicate="TRUE=FALSE⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧¬tr1=tr∧ttd∈TTD∧front(tr1)∈ttd⇒¬fr∈ttd)"/>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="fr∈ttd">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p131" org.eventb.core.predicate="tr1∈dom(front{tr ↦ fr}) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))∧tr2∈dom(front{tr ↦ fr}) ∖ dom({TRUE ↦ rear{tr ↦ re},FALSE ↦ rear}(integer))∧tr1≠tr2∧ttd∈TTD∧(front{tr ↦ fr})(tr1)∈ttd⇒(front{tr ↦ fr})(tr2)∉ttd"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)∧tr1≠tr⇒fr&lt;rear(tr1))"/>
<org.eventb.core.prPred name="p111" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(rear)∧¬tr1=tr⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prExpr name="e1" org.eventb.core.expression="tr2">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prExpr>
<org.eventb.core.prExpr name="e2" org.eventb.core.expression="ttd">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prExpr>
<org.eventb.core.prExpr name="e0" org.eventb.core.expression="tr1">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prExpr>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r16" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r14" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r17" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r18" org.eventb.core.prRID="org.eventb.core.seqprover.allD"/>
<org.eventb.core.prReas name="r15" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.core.seqprover.cut"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r13" org.eventb.core.prRID="org.eventb.core.seqprover.disjE"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r11" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r12" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalPP:1"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="_connectTrain/grd10/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr1" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p14"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="REWRITE17" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="REWRITE18" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p40"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p42"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p43"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p47" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p48" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p53" org.eventb.core.prHyps="p52">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1)" org.eventb.core.prGoal="p53" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p54">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p54" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p56" org.eventb.core.prHyps="p55">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=FALSE" org.eventb.core.prHyps="p52">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p57" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p59" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p61" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p36" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="DESELECT4" org.eventb.core.prHyps="p57,p59,p61,p36"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p56" org.eventb.core.prHyps="p1"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="integer" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="integer=FALSE"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬TRAIN⊆dom(connectedTrain)"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(FALSE=TRUE∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)⇒front(tr1)&lt;re)">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))">
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="TRAIN ∖ dom(connectedTrain)≠(∅ ⦂ ℙ(TRAIN))"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(rear)⇒rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(integer=TRUE∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="tr1∈dom(rear)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="integer=TRUE⇒re∈WAY">
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="FALSE=TRUE⇒re∈WAY">
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="FALSE=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)⇒front(tr1)&lt;re)">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="tr1∈dom(rear)⇒rear∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(integer=TRUE∧re ‥ fr∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="integer∈BOOL"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="FALSE=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))">
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="_connectTrain/grd11/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr1,ttd" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p14"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="REWRITE17" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="REWRITE18" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p40"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p42"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p43"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p47" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p48" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p53" org.eventb.core.prHyps="p52">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1,ttd)" org.eventb.core.prGoal="p53" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p54">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p54" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p57" org.eventb.core.prHyps="p55,p56">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p57" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p58">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=FALSE" org.eventb.core.prHyps="p52">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p59" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p61" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p63" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p65" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prHypAction name="FORWARD_INF4" org.eventb.core.prHyps="p36" org.eventb.core.prInfHyps="p67"/>
<org.eventb.core.prHypAction name="DESELECT5" org.eventb.core.prHyps="p59,p61,p63,p65,p36"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p65" org.eventb.core.prHyps="p52" org.eventb.core.prInfHyps="p68"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p60"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p62"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p64"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p66" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p69"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p67" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p70"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p68" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p69"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p71,p72,p73,p74,p75,p76,p77,p78,p79,p80,p81,p1,p82,p83,p84,p85,p86,p87,p88,p89,p90,p91,p92,p59,p61,p63,p3,p5,p7,p9,p11,p13,p16,p18,p20,p22,p24,p26,p36"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p58" org.eventb.core.prHyps="p55">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p93">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with integer=FALSE" org.eventb.core.prHyps="p52">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p59" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p61" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p63" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p65" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prHypAction name="FORWARD_INF4" org.eventb.core.prHyps="p36" org.eventb.core.prInfHyps="p67"/>
<org.eventb.core.prHypAction name="DESELECT5" org.eventb.core.prHyps="p59,p61,p63,p65,p36"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p93" org.eventb.core.prHyps="p1"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="integer" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prPred name="p93" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="integer=FALSE"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬TRAIN⊆dom(connectedTrain)"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧fr∈ttd⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(FALSE=TRUE∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="tr1∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧ttd∈TTD⇒tr1∈dom(front)∧front∈TRAIN ⇸ ℤ)"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="union(VSS)=WAY">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="⊤⇒(∀tr1⦂TRAIN·tr1∈dom(rear)⇒fr&lt;rear(tr1))">
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)⇒front(tr1)&lt;re)">
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="ttd∈TTD">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="integer=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))">
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="VSS⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="tr1∈dom(front)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="TRAIN ∖ dom(connectedTrain)≠(∅ ⦂ ℙ(TRAIN))"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(integer=TRUE∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="integer=TRUE⇒re∈WAY">
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="∀tr1⦂TRAIN·tr1∈dom(rear)⇒fr&lt;rear(tr1)">
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="FALSE=TRUE⇒re∈WAY">
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧ttd∈TTD⇒tr1∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="FALSE=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(front) ∖ dom(rear)⇒front(tr1)&lt;re)">
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p91" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="tr1∈dom(front) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(integer=TRUE∧re ‥ fr∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p92" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="integer∈BOOL"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="FALSE=TRUE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)⇒rear(tr1) ‥ front(tr1)∩re ‥ fr=(∅ ⦂ ℙ(ℤ)))">
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)⇒fr&lt;rear(tr1))">
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="FALSE=FALSE⇒(∀tr1⦂TRAIN·tr1∈dom(rear)⇒fr&lt;rear(tr1))">
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="tr1∈dom(front) ∖ dom(rear)∧ttd∈TTD⇒tr1∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="_connectTrain/inv2_1/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="STATES">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
<org.eventb.core.prHypAction name="REWRITE17" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prHypAction name="REWRITE18" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="REWRITE19" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p40"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p42"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p43"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p47" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p48" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p50" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p51" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p54"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71,p72,p73,p74,p75,p76,p4,p6,p8,p10,p12,p14,p17,p19,p21,p23,p25,p27"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)">
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬TRAIN⊆dom(connectedTrain)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr1)∈ttd⇒fr∉ttd)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="integer" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="union(VSS)=WAY">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="integer=FALSE⇒(∀tr1⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr1)∈ttd⇒¬fr∈ttd)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="integer" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="ttds⊆stateTTD∼[{FREE}]"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="VSS⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="TRAIN ∖ dom(connectedTrain)≠(∅ ⦂ ℙ(TRAIN))">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(integer=TRUE∧¬re ‥ fr∩ttd=(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="integer" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="stateTTD(ttds × {OCCUPIED})∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="TTD⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈stateTTD∼[{FREE}]∧(fr∈ttd∨(integer=TRUE∧re ‥ fr∩ttd≠(∅ ⦂ ℙ(ℤ))))⇒ttd∈ttds">
<org.eventb.core.prIdent name="fr" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="integer" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="re" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="integer∈BOOL">
<org.eventb.core.prIdent name="integer" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="union(TTD)=WAY">
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="_freeTtd/grd2/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42,p43,p44,p45,p46,p47,p48"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p42,p43,p44,p45,p46,p47,p48"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p61"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p62"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p65"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p66"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p66" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p67"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p67"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p67" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p68"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p68"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p68" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p69"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p69"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p70"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p70"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p71"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p72"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p73">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p73" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p75" org.eventb.core.prHyps="p74">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p75" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p76">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p76" org.eventb.core.prHyps="p25"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p77">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p77" org.eventb.core.prHyps="p35,p9,p18,p38,p13,p26,p16,p7,p34,p17,p11,p5,p14,p29,p25,p36,p39,p37,p27,p8,p28,p12,p32,p15,p22,p6,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p56,p57,p58,p59,p60,p61,p65,p72,p74">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p78">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p78" org.eventb.core.prHyps="p29"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)⇒¬front(tr)∈ttd"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="tr∈dom(rear)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬OCCUPIED=FREE"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬FREE=UNKNOW"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬FREE=AMBIGUOUS"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬OCCUPIED=UNKNOW"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="b − a≥20"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ∧tr∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)⇒front(tr)∉ttd"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="ttd∈stateTTD∼[{OCCUPIED}]"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ∧tr∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ∧tr∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingTTDStates/grd6/GRD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4,p5,p6,p7"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="p10,p11" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p9"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="tr∉dom(rear)⇒⊤∧⊤">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬OCCUPIED=FREE">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬FREE=UNKNOW">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬FREE=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="tr∉dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="tr∉dom(rear)⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬OCCUPIED=UNKNOW">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingTTDStates/grd7/GRD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4,p5,p6,p7"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="p10,p11" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p9"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="tr∉dom(rear)⇒⊤∧⊤">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬OCCUPIED=FREE">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬FREE=UNKNOW">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬FREE=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="tr∉dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="tr∉dom(rear)⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬OCCUPIED=UNKNOW">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingVSSStates/grd6/GRD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4,p5,p6,p7"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="p10,p11" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p9"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="tr∉dom(rear)⇒⊤∧⊤">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬OCCUPIED=FREE">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬FREE=UNKNOW">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬FREE=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="tr∉dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="tr∉dom(rear)⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬OCCUPIED=UNKNOW">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingVSSStates/grd7/GRD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4,p5,p6,p7"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="p10,p11" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p9"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="tr∉dom(rear)⇒⊤∧⊤">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬OCCUPIED=FREE">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬FREE=UNKNOW">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬FREE=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="tr∉dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="tr∉dom(rear)⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬OCCUPIED=UNKNOW">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="sysml_kaos_po_G1-Guard=&gt;G-Guard/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="p,p0,q1,q,p1,len,ttds,ttds1,tr" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p26">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr,p,q,len,ttds,ttds1,p0,p1,q1)" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p27">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="p28,p29,p30">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p32">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p4,p2,p43,p44,p45,p46,p47,p3,p48,p7,p9,p11,p13,p15,p17"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p32" org.eventb.core.prHyps="p1,p28,p4">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p49">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p49" org.eventb.core.prHyps="p4"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p50">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p50" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p54" org.eventb.core.prHyps="p51,p52,p53">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p54" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p55">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p55" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p57" org.eventb.core.prHyps="p56">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p57" org.eventb.core.prHyps="p2"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p58">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p58" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p67" org.eventb.core.prHyps="p59,p60,p61,p62,p63,p64,p65,p66">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p68,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p4,p2,p43,p44,p45,p46,p47,p3,p48,p7,p9,p11,p13,p15,p17"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p67" org.eventb.core.prHyps="p3,p19">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="len∈ℕ1">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="tr∈dom(rear)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="ttds1⊆TTD">
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="ttds⊆stateTTD∼[{FREE}]">
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="front(tr)∈p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="p ‥ q⊆union(ttds∪ttds1)">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="p1≥front(tr)">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="front(tr)+len∈WAY">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="union(ttds1)=p0 ‥ p1 − 1">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)∈p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="union(ttds)=p1 ‥ q1">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∉dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="sysml_kaos_po_G1-Guard=&gt;G-Guard/THM" org.eventb.core.confidence="1000" org.eventb.core.prFresh="p,p0,q1,q,p1,len,ttds,ttds1,tr" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36" org.eventb.core.prSets="STATES,TRAIN" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37,p38,p39,p40,p41,p42,p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p37,p38,p39,p40,p41,p42,p43"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p55">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr,p,q,len,ttds,ttds1,p0,p1,q1)" org.eventb.core.prGoal="p55" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p56">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p56" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p72" org.eventb.core.prHyps="p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p72" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p64">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p64" org.eventb.core.prHyps="p64"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p73">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p46,p49,p3,p4,p5,p7,p8,p9,p10,p47,p12,p13,p48,p14,p22,p24,p23,p25,p26,p44,p29,p45,p31,p32,p34"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with WAY=a ‥ b" org.eventb.core.prGoal="p73" org.eventb.core.prHyps="p14">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p88">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p66" org.eventb.core.prInfHyps="p74"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p9" org.eventb.core.prInfHyps="p75"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p24" org.eventb.core.prInfHyps="p76"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p77"/>
<org.eventb.core.prHypAction name="FORWARD_INF4" org.eventb.core.prHyps="p29" org.eventb.core.prInfHyps="p78"/>
<org.eventb.core.prHypAction name="FORWARD_INF5" org.eventb.core.prHyps="p13" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prHypAction name="FORWARD_INF6" org.eventb.core.prHyps="p26" org.eventb.core.prInfHyps="p80"/>
<org.eventb.core.prHypAction name="FORWARD_INF7" org.eventb.core.prHyps="p22" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prHypAction name="FORWARD_INF8" org.eventb.core.prHyps="p34" org.eventb.core.prInfHyps="p82"/>
<org.eventb.core.prHypAction name="FORWARD_INF9" org.eventb.core.prHyps="p32" org.eventb.core.prInfHyps="p83"/>
<org.eventb.core.prHypAction name="FORWARD_INF10" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p84"/>
<org.eventb.core.prHypAction name="FORWARD_INF11" org.eventb.core.prHyps="p8" org.eventb.core.prInfHyps="p85"/>
<org.eventb.core.prHypAction name="FORWARD_INF12" org.eventb.core.prHyps="p47" org.eventb.core.prInfHyps="p86"/>
<org.eventb.core.prHypAction name="FORWARD_INF13" org.eventb.core.prHyps="p48" org.eventb.core.prInfHyps="p87"/>
<org.eventb.core.prHypAction name="DESELECT14" org.eventb.core.prHyps="p22,p4,p24,p66,p25,p8,p26,p9,p29,p47,p13,p48,p32,p34"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="veriT" org.eventb.core.prGoal="p88" org.eventb.core.prHyps="p37,p11,p59,p76,p70,p28,p67">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="veriT"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p89">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p89" org.eventb.core.prHyps="p58,p3,p4,p7,p10,p40,p12,p13,p43,p14,p70,p38,p57,p52,p53,p59,p63,p23,p65,p67,p29,p69,p42,p33,p34,p46,p49,p60,p61,p5,p64,p6,p66,p8,p9,p39,p11,p47,p68,p48,p54,p71,p19,p37,p22,p62,p41,p24,p25,p51,p26,p28,p44,p30,p45,p31,p32">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="*" org.eventb.core.prGoal="p63">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p63" org.eventb.core.prHyps="p63"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="+" org.eventb.core.prGoal="p71">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p71" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p91" org.eventb.core.prHyps="p90">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p91" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p91">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p57" org.eventb.core.prHyps="p90" org.eventb.core.prInfHyps="p92"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="p90" org.eventb.core.prInfHyps="p93"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="p90" org.eventb.core.prInfHyps="p94"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p92" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p93"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p94" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p96"/>
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p96"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="," org.eventb.core.prGoal="p65">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p65" org.eventb.core.prHyps="p65"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="-" org.eventb.core.prGoal="p58">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p58" org.eventb.core.prHyps="p58"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="." org.eventb.core.prGoal="p66">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p66" org.eventb.core.prHyps="p66"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="len∈ℕ1">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p91" org.eventb.core.predicate="rear(tr)∈p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="p ‥ q⊆union(ttds∪ttds1)">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})"/>
<org.eventb.core.prPred name="p94" org.eventb.core.predicate="⊤⇒⊥"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="b − a≥20"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆a ‥ b∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="front∈dom(connectedTrain) → a ‥ b"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="front(tr)+len∈WAY">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="union(ttds1)=p0 ‥ p1 − 1">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)∈p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="union(TTD)=a ‥ b"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p96" org.eventb.core.predicate="⊥"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="union(ttds)=p1 ‥ q1">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="p ‥ q⊆a ‥ b">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="tr∈dom(rear)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="p≤q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p92" org.eventb.core.predicate="⊤⇒rear(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬OCCUPIED=FREE"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬FREE=UNKNOW"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆a ‥ b∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="ttds1⊆TTD">
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬FREE=AMBIGUOUS"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="ttds⊆stateTTD∼[{FREE}]">
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="front(tr)∈p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆a ‥ b∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈a ‥ b⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈a ‥ b"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(a ‥ b)"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="TTD⊆ℙ1(a ‥ b)"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="p ‥ q⊆WAY">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬OCCUPIED=UNKNOW"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆a ‥ b∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ a ‥ b"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="VSS⊆ℙ1(a ‥ b)"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="p1≥front(tr)">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="union(VSS)=a ‥ b"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p95" org.eventb.core.predicate="rear(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆a ‥ b∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(a ‥ b)"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="front(tr)+len∈a ‥ b">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p93" org.eventb.core.predicate="¬⊤⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r11" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="sysml_kaos_po_G2-Guard=&gt;G-Guard/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="p,vsss1,p0,q1,q,p1,vsss,newstateVSS,tr" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p29">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr,p,q,vsss,vsss1,p0,p1,q1,newstateVSS)" org.eventb.core.prGoal="p29" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p30">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p30" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p35" org.eventb.core.prHyps="p31,p32,p33,p34">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p35" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p36">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p4,p2,p48,p49,p50,p51,p52,p3,p53,p8,p10,p12,p14,p16,p18"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p36" org.eventb.core.prHyps="p1,p32,p4,p6">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p54">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p54" org.eventb.core.prHyps="p4"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p55">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p55" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p59" org.eventb.core.prHyps="p56,p57,p58">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p59" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p60">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p60" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p62" org.eventb.core.prHyps="p61">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p62" org.eventb.core.prHyps="p2"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p63">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p63" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p70" org.eventb.core.prHyps="p64,p65,p66,p67,p68,p69">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p4,p2,p48,p49,p50,p51,p52,p3,p53,p8,p10,p12,p14,p16,p18"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p70" org.eventb.core.prHyps="p3,p20">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="union(vsss)=p1 ‥ q1">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="vsss1⊆VSS">
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="tr∈dom(rear)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="p ‥ q⊆union(vsss∪vsss1)">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)⇒tr∉dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="front(tr)∈p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)))">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="p1≥front(tr)">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="union(vsss1)=p0 ‥ p1 − 1">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)))">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)∈p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))">
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="vsss⊆newstateVSS∼[{FREE}]">
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="sysml_kaos_po_G2-Guard=&gt;G-Guard/THM" org.eventb.core.confidence="1000" org.eventb.core.prFresh="p,vsss1,p0,q1,q,p1,len,vsss,newstateVSS,tr" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37" org.eventb.core.prSets="STATES,TRAIN" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38,p39,p40,p41,p42,p43,p44"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p38,p39,p40,p41,p42,p43,p44"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p57">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr,p,q,len,vsss,vsss1,p0,p1,q1,newstateVSS)" org.eventb.core.prGoal="p57" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p58">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p58" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p75" org.eventb.core.prHyps="p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71,p72,p73,p74">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p75" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p66">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p66" org.eventb.core.prHyps="p66"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p76">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="lae in goal" org.eventb.core.prGoal="p76" org.eventb.core.prHyps="p14">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p77">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (vsss∪vsss1⊆VSS)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p78">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p78" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p79">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p79" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p80">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p80" org.eventb.core.prHyps="p65">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p81">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p81" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p82">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p82" org.eventb.core.prHyps="p59,p61,p4,p65,p5,p8,p11,p41,p13,p14,p44,p73,p15,p39,p60,p53,p54,p64,p24,p67,p56,p69,p30,p72,p43,p34,p35,p47,p50,p62,p63,p6,p66,p7,p68,p9,p70,p10,p40,p12,p48,p49,p55,p74,p20,p38,p23,p42,p25,p26,p52,p27,p29,p45,p71,p31,p46,p32,p33">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p79">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="veriT" org.eventb.core.prGoal="p77" org.eventb.core.prHyps="p79,p73,p20">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="veriT"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p79"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p83">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p83" org.eventb.core.prHyps="p59,p61,p4,p65,p5,p8,p11,p41,p13,p14,p44,p73,p15,p39,p60,p53,p54,p64,p24,p67,p56,p69,p30,p72,p43,p34,p35,p47,p50,p62,p63,p6,p66,p7,p68,p9,p70,p10,p40,p12,p48,p49,p55,p74,p20,p38,p23,p42,p25,p26,p52,p27,p29,p45,p71,p31,p46,p32,p33">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="*" org.eventb.core.prGoal="p64">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p64" org.eventb.core.prHyps="p64"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="+" org.eventb.core.prGoal="p74">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p74" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p85" org.eventb.core.prHyps="p84">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p85" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p85">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p60" org.eventb.core.prHyps="p84" org.eventb.core.prInfHyps="p86"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p72" org.eventb.core.prHyps="p84" org.eventb.core.prInfHyps="p87"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p74" org.eventb.core.prHyps="p84" org.eventb.core.prInfHyps="p88"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p86" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p87"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p88" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p90"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="," org.eventb.core.prGoal="p67">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p67" org.eventb.core.prHyps="p67"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="-" org.eventb.core.prGoal="p61">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p61" org.eventb.core.prHyps="p61"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="." org.eventb.core.prGoal="p68">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p68" org.eventb.core.prHyps="p68"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="vsss∪vsss1⊆VSS">
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="union(vsss)=p1 ‥ q1">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="vsss⊆VSS∧vsss1⊆VSS">
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="len∈ℕ1">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="vsss⊆VSS∧⊤">
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="vsss1⊆VSS">
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="p ‥ q⊆union(VSS)">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="tr∈dom(rear)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="p≤q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="⊤⇒rear(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬OCCUPIED=FREE"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬FREE=UNKNOW"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="p ‥ q⊆union(vsss∪vsss1)">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="rear(tr)∈p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬FREE=AMBIGUOUS"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="front(tr)∈p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="vsss⊆VSS">
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})"/>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="⊤⇒⊥"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="p ‥ q⊆WAY">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬OCCUPIED=UNKNOW"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="b − a≥20"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="p1≥front(tr)">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="front(tr)+len∈WAY">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="union(vsss1)=p0 ‥ p1 − 1">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="rear(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)∈p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS"/>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="⊥"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="vsss⊆newstateVSS∼[{FREE}]">
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="¬⊤⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r12" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r11" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.cut"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.locEq"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="@sysml_kaos_po_G1-Post=&gt;G-Post/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="p0,q1,p1,ttds,ttds1,tr" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39,p40,p41,p42,p43,p44,p45"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p39,p40,p41,p42,p43,p44,p45"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr,ttds,ttds1,p0,p1,q1)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p59">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p59" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p63" org.eventb.core.prHyps="p60,p61,p62">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p63" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p64">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p64" org.eventb.core.prHyps="p32,p7,p15,p35,p10,p23,p13,p5,p31,p14,p8,p4,p11,p26,p22,p33,p36,p34,p24,p6,p25,p9,p28,p12,p19,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p53,p54,p55,p56,p57,p58,p60,p61,p62">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p65">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p65" org.eventb.core.prHyps="p26"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p66">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p66" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p71" org.eventb.core.prHyps="p67,p68,p69,p70">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p71" org.eventb.core.prHyps="p22"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="tr∈dom(rear)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬OCCUPIED=FREE"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬FREE=UNKNOW"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="ttds1⊆TTD">
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬FREE=AMBIGUOUS"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="ttds⊆stateTTD∼[{FREE}]">
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬OCCUPIED=UNKNOW"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="b − a≥20"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="p1≥front(tr)">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="union(ttds1)=p0 ‥ p1 − 1">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="union(ttds)=p1 ‥ q1">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="@sysml_kaos_po_G1-Post=&gt;G-Post/THM" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5,p6,p7,p8"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5,p6,p7,p8"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p34">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p34" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬OCCUPIED=FREE">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬FREE=UNKNOW">
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬FREE=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬OCCUPIED=UNKNOW">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingTTDStates/grd14/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p5">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p5" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p40">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p31"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p32"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prHypAction name="REWRITE17" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="REWRITE18" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p40" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="⊤∧⊤"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="tr∈dom(rear)">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="tr∉dom(rear)⇒⊥">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="tr∉dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="tr∉dom(rear)⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingTTDStates/grd15/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="p5,p6" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p40">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p32"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p33"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="REWRITE17" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="HIDE18" org.eventb.core.prHyps="p4"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p42"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p43"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p47" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p48" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p50" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p51" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p52" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71,p72,p2,p73,p74,p75,p76,p5,p6,p77,p8,p10,p12,p14,p16,p18,p21,p23,p25,p27,p29,p31"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p40" org.eventb.core.prHyps="p1,p2">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="union(VSS)=WAY">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="tr∉dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="VSS⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∉dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="tr∉dom(rear)⇒⊤∧⊤">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="TTD⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="union(ttds)=p1 ‥ q1"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="union(TTD)=WAY">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="tr∉dom(rear)⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingVSSStates/grd14/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p5">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p5" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p40">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p31"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p32"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prHypAction name="REWRITE17" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="REWRITE18" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p40" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="⊤∧⊤"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="tr∈dom(rear)">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="tr∉dom(rear)⇒⊥">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∈dom(front)∧front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="tr∉dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="tr∉dom(rear)⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="tr∈dom(front)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingVSSStates/grd15/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="p5,p6" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p40">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p32"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p33"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="REWRITE17" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="HIDE18" org.eventb.core.prHyps="p4"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p42"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p43"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p47" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p48" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p50" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p51" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p52" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71,p72,p2,p73,p74,p75,p76,p5,p6,p77,p8,p10,p12,p14,p16,p18,p21,p23,p25,p27,p29,p31"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p40" org.eventb.core.prHyps="p1,p2">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="union(VSS)=WAY">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="tr∉dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="VSS⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="tr∉dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="tr∉dom(rear)⇒⊤∧⊤">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="TTD⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY">
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="union(TTD)=WAY">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="tr∉dom(rear)⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="vsss⊆newstateVSS∼[{FREE}]"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)">
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="sysml_kaos_po_G1-Post=&gt;G-Post/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="p,p0,q1,q,p1,len,ttds,ttds1,tr" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p31">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr,p,q,len,ttds,ttds1,p0,p1,q1)" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p32">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p32" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p36" org.eventb.core.prHyps="p33,p34,p35">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p36" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p37">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p4,p2,p49,p50,p51,p52,p53,p3,p54,p8,p10,p12,p14,p16,p18"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p37" org.eventb.core.prHyps="p1,p33,p4,p6">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p55">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p55" org.eventb.core.prHyps="p4"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p56">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p56" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p60" org.eventb.core.prHyps="p57,p58,p59">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p60" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p61">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p61" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p63" org.eventb.core.prHyps="p62">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p63" org.eventb.core.prHyps="p2"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p64">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p64" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p73" org.eventb.core.prHyps="p65,p66,p67,p68,p69,p70,p71,p72">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p4,p2,p49,p50,p51,p52,p53,p3,p54,p8,p10,p12,p14,p16,p18"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p73" org.eventb.core.prHyps="p3,p20">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="len∈ℕ1">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="tr∈dom(rear)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="ttds1⊆TTD">
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="ttds⊆stateTTD∼[{FREE}]">
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="front(tr)∈p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="p ‥ q⊆union(ttds∪ttds1)">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="p1≥front(tr)">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="front(tr)+len∈WAY">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="union(ttds1)=p0 ‥ p1 − 1">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)∈p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="union(ttds)=p1 ‥ q1">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∉dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="sysml_kaos_po_G1-Post=&gt;G-Post/THM" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p26">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p26" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="sysml_kaos_po_G2-Post=&gt;G-Post/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="p,vsss1,p0,q1,q,p1,len,vsss,newstateVSS,tr" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p32">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p31"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr,p,q,len,vsss,vsss1,p0,p1,q1,newstateVSS)" org.eventb.core.prGoal="p32" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p33">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p33" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p38" org.eventb.core.prHyps="p34,p35,p36,p37">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p38" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p39">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p4,p2,p51,p52,p53,p54,p55,p3,p56,p8,p10,p12,p14,p16,p18"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p39" org.eventb.core.prHyps="p1,p35,p4,p6">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p57">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p57" org.eventb.core.prHyps="p4"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p58">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p58" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p62" org.eventb.core.prHyps="p59,p60,p61">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p62" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p63">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p63" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p65" org.eventb.core.prHyps="p64">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p65" org.eventb.core.prHyps="p2"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p66">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p66" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p75" org.eventb.core.prHyps="p67,p68,p69,p70,p71,p72,p73,p74">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p4,p2,p51,p52,p53,p54,p55,p3,p56,p8,p10,p12,p14,p16,p18"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p75" org.eventb.core.prHyps="p3,p20">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="union(vsss)=p1 ‥ q1">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="len∈ℕ1">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="vsss1⊆VSS">
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="tr∈dom(rear)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="p ‥ q⊆union(vsss∪vsss1)">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="front(tr)∈p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∉dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="p1≥front(tr)">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="front(tr)+len∈WAY">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="union(vsss1)=p0 ‥ p1 − 1">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)∈p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="vsss⊆newstateVSS∼[{FREE}]">
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="sysml_kaos_po_G2-Post=&gt;G-Post/THM" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p27">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p27" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="sysml_kaos_po_G1-Post=&gt;not(G2-Guard)/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="p,p0,q1,vsss1,q,p1,len,ttds,ttds1,vsss,newstateVSS,tr" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p33">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p31"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p32"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p33" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p34">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr,p,q,len,ttds,ttds1,p0,p1,q1)" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p35">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p35" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p39" org.eventb.core.prHyps="p36,p37,p38">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p39" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p40">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p4,p2,p52,p53,p54,p55,p56,p3,p57,p8,p10,p12,p14,p16,p18"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p40" org.eventb.core.prHyps="p1,p36,p4,p6">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p58">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p58" org.eventb.core.prHyps="p4"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p59">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p59" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p63" org.eventb.core.prHyps="p60,p61,p62">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p63" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p64">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p64" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p66" org.eventb.core.prHyps="p65">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p66" org.eventb.core.prHyps="p2"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p67">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p67" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p76" org.eventb.core.prHyps="p68,p69,p70,p71,p72,p73,p74,p75">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p4,p2,p52,p53,p54,p55,p56,p3,p57,p8,p10,p12,p14,p16,p18"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p76" org.eventb.core.prHyps="p3,p20">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p77">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr,p,q,len,ttds,ttds1,p0,p1,q1)" org.eventb.core.prGoal="p77" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p78">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p78" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p80" org.eventb.core.prHyps="p36,p37,p38,p60,p61,p62,p68,p69,p70,p71,p72,p73,p74,p75,p79">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees vsss,vsss1,newstateVSS)" org.eventb.core.prGoal="p80" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p81">
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p81" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p88" org.eventb.core.prHyps="p82,p83,p84,p85,p86,p87">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p4,p2,p52,p53,p54,p55,p56,p3,p57,p8,p10,p12,p14,p16,p18"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p88" org.eventb.core.prHyps="p3,p20">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="union(vsss)=p1 ‥ q1">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="len∈ℕ1">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧p ‥ q⊆union(vsss∪vsss1)⇒¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ)))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="vsss1⊆VSS">
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="tr∈dom(rear)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧p ‥ q⊆union(vsss∪vsss1)⇒¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="p ‥ q⊆union(vsss∪vsss1)">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="ttds1⊆TTD">
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="(∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)))))∧(∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧p ‥ q⊆union(vsss∪vsss1)⇒¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ))))"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="ttds⊆stateTTD∼[{FREE}]">
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="front(tr)∈p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="p ‥ q⊆union(ttds∪ttds1)">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧p ‥ q⊆union(vsss∪vsss1)⇒¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="p1≥front(tr)">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧p ‥ q⊆union(vsss∪vsss1)⇒¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="front(tr)+len∈WAY">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="union(vsss1)=p0 ‥ p1 − 1">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="union(ttds1)=p0 ‥ p1 − 1">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)∈p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∉dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)))))∧(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧p ‥ q⊆union(vsss∪vsss1)⇒tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ))))"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="union(ttds)=p1 ‥ q1">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="vsss⊆newstateVSS∼[{FREE}]">
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="sysml_kaos_po_G1-Post=&gt;not(G2-Guard)/THM" org.eventb.core.confidence="1000" org.eventb.core.prFresh="vsss1,p,p0,q1,q,p1,len,ttds,vsss,newstateVSS,ttds1,tr" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38" org.eventb.core.prSets="STATES,TRAIN" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39,p40,p41,p42,p43,p44,p45"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p39,p40,p41,p42,p43,p44,p45"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p61">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p59"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p60"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p61" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p62">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p62" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p63">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p63" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p64">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p64" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p65">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p65" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p66">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p66" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p67">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p67" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p68">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr,p,q,len,ttds,ttds1,p0,p1,q1)" org.eventb.core.prGoal="p68" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p69">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p69" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p85" org.eventb.core.prHyps="p70,p71,p72,p73,p74,p75,p76,p77,p78,p79,p80,p81,p82,p83,p84">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees vsss,vsss1,newstateVSS)" org.eventb.core.prGoal="p85" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p86">
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p86" org.eventb.core.prHyps="p76,p77,p71,p78,p79,p73">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p87">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p87" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p88">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p88" org.eventb.core.prHyps="p71,p4,p5,p8,p11,p42,p13,p14,p45,p15,p83,p40,p70,p54,p55,p72,p76,p24,p78,p57,p80,p31,p82,p58,p44,p35,p36,p48,p51,p73,p74,p6,p77,p7,p79,p9,p10,p41,p12,p49,p81,p50,p56,p84,p20,p39,p23,p75,p43,p25,p26,p53,p27,p30,p46,p32,p47,p33,p34">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1;2;3:30000"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="len∈ℕ1">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬OCCUPIED=FREE"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬FREE=UNKNOW"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="ttds1⊆TTD">
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬FREE=AMBIGUOUS"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="ttds⊆stateTTD∼[{FREE}]">
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="front(tr)∈p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="p ‥ q⊆union(ttds∪ttds1)">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})">
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬OCCUPIED=UNKNOW"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="b − a≥20"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬⊤∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨⊥∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬⊤∨¬⊤∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬⊤∨¬⊤∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})">
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="p1≥front(tr)">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="front(tr)+len∈WAY">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="union(ttds1)=p0 ‥ p1 − 1">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)"/>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)∈p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="union(ttds)=p1 ‥ q1">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="@sysml_kaos_po_G2-Post=&gt;not(G1-Guard)/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="p,vsss1,p0,q1,q,p1,len,ttds,vsss,newstateVSS,ttds1,tr" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40,p41,p42,p43,p44,p45,p46"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p40,p41,p42,p43,p44,p45,p46"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p63">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p60"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p61"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p64"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p65"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p65"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p65" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p66"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p66" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p67"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p67"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p67" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p68"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p68"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p68" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p69"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p69"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p70"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p63" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p71">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr,p,q,len,vsss,vsss1,p0,p1,q1,newstateVSS)" org.eventb.core.prGoal="p71" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p72">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p72" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p77" org.eventb.core.prHyps="p73,p74,p75,p76">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p77" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p78">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p78" org.eventb.core.prHyps="p73,p4,p5,p9,p12,p43,p14,p15,p46,p16,p41,p55,p56,p24,p58,p52,p76,p32,p59,p45,p36,p37,p49,p6,p74,p7,p10,p11,p42,p13,p50,p51,p57,p20,p40,p23,p44,p25,p26,p54,p27,p30,p47,p70,p75,p33,p48,p34,p35">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:800"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p79">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p79" org.eventb.core.prHyps="p27"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p80">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p80" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p84" org.eventb.core.prHyps="p81,p82,p83">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p84" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p85">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p85" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p87" org.eventb.core.prHyps="p86">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p87" org.eventb.core.prHyps="p23"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p88">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p88" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p97" org.eventb.core.prHyps="p89,p90,p91,p92,p93,p94,p95,p96"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p98">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr,p,q,len,vsss,vsss1,p0,p1,q1,newstateVSS)" org.eventb.core.prGoal="p98" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p99">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p99" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p101" org.eventb.core.prHyps="p73,p89,p90,p82,p100,p92,p81,p74,p94,p95,p76,p83,p75,p91,p93,p96">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees ttds,ttds1)" org.eventb.core.prGoal="p101" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p102">
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p102" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p108" org.eventb.core.prHyps="p103,p104,p105,p106,p107"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="len∈ℕ1">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="vsss1⊆VSS">
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p107" org.eventb.core.predicate="p ‥ q⊆union(ttds∪ttds1)">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p98" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧p ‥ q⊆union(ttds∪ttds1)⇒¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="b − a≥20"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p100" org.eventb.core.predicate="¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p95" org.eventb.core.predicate="front(tr)+len∈WAY">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="union(vsss1)=p0 ‥ p1 − 1">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p105" org.eventb.core.predicate="union(ttds1)=p0 ‥ p1 − 1">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)"/>
<org.eventb.core.prPred name="p96" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)∈p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p103" org.eventb.core.predicate="union(ttds)=p1 ‥ q1">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="vsss⊆newstateVSS∼[{FREE}]">
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p102" org.eventb.core.predicate="ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧p ‥ q⊆union(ttds∪ttds1)⇒¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="union(vsss)=p1 ‥ q1">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))"/>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="tr∈dom(rear)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p97" org.eventb.core.predicate="¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬OCCUPIED=FREE"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬FREE=UNKNOW"/>
<org.eventb.core.prPred name="p93" org.eventb.core.predicate="p ‥ q⊆union(vsss∪vsss1)">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p106" org.eventb.core.predicate="ttds1⊆TTD">
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬FREE=AMBIGUOUS"/>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p104" org.eventb.core.predicate="ttds⊆stateTTD∼[{FREE}]">
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p92" org.eventb.core.predicate="front(tr)∈p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p94" org.eventb.core.predicate="p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p99" org.eventb.core.predicate="newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧p ‥ q⊆union(ttds∪ttds1)⇒¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ)))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p91" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬OCCUPIED=UNKNOW"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="p1≥front(tr)">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}(bool(tr∈dom(rear)))"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∉dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)))))∧(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧p ‥ q⊆union(ttds∪ttds1)⇒tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ))))"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS"/>
<org.eventb.core.prPred name="p108" org.eventb.core.predicate="¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p101" org.eventb.core.predicate="∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧p ‥ q⊆union(ttds∪ttds1)⇒¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="(∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)))))∧(∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧p ‥ q⊆union(ttds∪ttds1)⇒¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ))))"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="@sysml_kaos_po_G2-Post=&gt;not(G1-Guard)/THM" org.eventb.core.confidence="0" org.eventb.core.prFresh="p,vsss1,p0,q1,q,p1,len,ttds,ttds1,vsss,newstateVSS,tr" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5,p6,p7,p8"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5,p6,p7,p8"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p38">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p40"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p42"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p43"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p38" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p45">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p45" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p46">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p46" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p47">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p47" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p48">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p48" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p49">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p49" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p50">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p50" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p52">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr,p,q,len,vsss,vsss1,p0,p1,q1,newstateVSS)" org.eventb.core.prGoal="p52" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p53">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p53" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p70" org.eventb.core.prHyps="p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees ttds,ttds1)" org.eventb.core.prGoal="p70" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p71">
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p71" org.eventb.core.prHyps="p67,p58,p65,p55,p64,p68">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p72">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p72" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p73"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prPred name="p57"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="sysml_kaos_po_G2-Post=&gt;not(G1-Guard)/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="p,vsss1,p0,q1,q,p1,len,ttds,vsss,newstateVSS,ttds1,tr" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p35">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p31"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p32"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p40"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p35" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p43">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr,p,q,len,vsss,vsss1,p0,p1,q1,newstateVSS)" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p44">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p44" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p49" org.eventb.core.prHyps="p45,p46,p47,p48">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p49" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p50">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p5,p3,p62,p63,p64,p65,p66,p4,p67,p9,p11,p13,p15,p17,p19"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p50" org.eventb.core.prHyps="p2,p46,p5,p7">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p68">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p68" org.eventb.core.prHyps="p5"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p69">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p69" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p73" org.eventb.core.prHyps="p70,p71,p72">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p73" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p74">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p74" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p76" org.eventb.core.prHyps="p75">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p76" org.eventb.core.prHyps="p3"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p77">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p77" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p86" org.eventb.core.prHyps="p78,p79,p80,p81,p82,p83,p84,p85">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p5,p3,p62,p63,p64,p65,p66,p4,p67,p9,p11,p13,p15,p17,p19"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p86" org.eventb.core.prHyps="p4,p21">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p87">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr,p,q,len,vsss,vsss1,p0,p1,q1,newstateVSS)" org.eventb.core.prGoal="p87" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p88">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p88" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p90" org.eventb.core.prHyps="p45,p46,p47,p48,p70,p71,p72,p78,p79,p80,p81,p82,p83,p84,p85,p89">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees ttds,ttds1)" org.eventb.core.prGoal="p90" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p91">
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p91" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p97" org.eventb.core.prHyps="p92,p93,p94,p95,p96">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p5,p3,p62,p63,p64,p65,p66,p4,p67,p9,p11,p13,p15,p17,p19"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p97" org.eventb.core.prHyps="p22,p4">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="len∈ℕ1">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="vsss1⊆VSS">
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="rear∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p96" org.eventb.core.predicate="p ‥ q⊆union(ttds∪ttds1)">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧p ‥ q⊆union(ttds∪ttds1)⇒¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="front(tr)+len∈WAY">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="union(vsss1)=p0 ‥ p1 − 1">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p95" org.eventb.core.predicate="union(ttds1)=p0 ‥ p1 − 1">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)∈p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p93" org.eventb.core.predicate="union(ttds)=p1 ‥ q1">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="vsss⊆newstateVSS∼[{FREE}]">
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ"/>
<org.eventb.core.prPred name="p91" org.eventb.core.predicate="ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧p ‥ q⊆union(ttds∪ttds1)⇒¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="union(vsss)=p1 ‥ q1">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="tr∈dom(rear)">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="p ‥ q⊆union(vsss∪vsss1)">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p94" org.eventb.core.predicate="ttds1⊆TTD">
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p92" org.eventb.core.predicate="ttds⊆stateTTD∼[{FREE}]">
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="front(tr)∈p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧p ‥ q⊆union(ttds∪ttds1)⇒¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ)))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="p1≥front(tr)">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∉dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)))))∧(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧p ‥ q⊆union(ttds∪ttds1)⇒tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ))))"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p97" org.eventb.core.predicate="¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧p ‥ q⊆union(ttds∪ttds1)⇒¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="(∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ∧(p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1⇒(tr∈dom(rear)⇒rear∈TRAIN ⇸ ℤ)∧((tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ)))))∧(∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧p ‥ q⊆union(ttds∪ttds1)⇒¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}∈TRAIN ⇸ ℙ(ℤ))))"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="sysml_kaos_po_G2-Post=&gt;not(G1-Guard)/THM" org.eventb.core.confidence="1000" org.eventb.core.prFresh="p,vsss1,p0,q1,q,p1,len,ttds,ttds1,vsss,newstateVSS,tr" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39" org.eventb.core.prSets="STATES,TRAIN" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40,p41,p42,p43,p44,p45,p46"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p40,p41,p42,p43,p44,p45,p46"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p63">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p60"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p61"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p64"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p65"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p65"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p65" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p66"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p66" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p67"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p67"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p67" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p68"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p68"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p68" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p69"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p69"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p63" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p70">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p70" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p71">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p71" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p72">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p72" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p73">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p73" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p74">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p74" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p75">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p75" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p77">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p76"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr,p,q,len,vsss,vsss1,p0,p1,q1,newstateVSS)" org.eventb.core.prGoal="p77" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p78">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p78" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p95" org.eventb.core.prHyps="p79,p80,p81,p82,p83,p84,p85,p86,p87,p88,p89,p90,p91,p92,p93,p94">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees ttds,ttds1)" org.eventb.core.prGoal="p95" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p96">
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p96" org.eventb.core.prHyps="p84,p86,p81,p87,p88,p82">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p97">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p97" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p98">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p98" org.eventb.core.prHyps="p79,p81,p4,p85,p5,p9,p12,p43,p14,p15,p46,p93,p16,p41,p80,p55,p56,p84,p25,p87,p58,p89,p32,p92,p59,p45,p36,p37,p49,p52,p82,p83,p6,p86,p7,p88,p10,p90,p11,p42,p13,p50,p51,p57,p94,p21,p40,p24,p44,p26,p27,p54,p28,p31,p47,p76,p91,p33,p48,p34,p35">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1;2;3:30000"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="len∈ℕ1">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="vsss1⊆VSS">
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="b − a≥20"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]">
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="front(tr)+len∈WAY">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p98" org.eventb.core.predicate="¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="union(vsss1)=p0 ‥ p1 − 1">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q"/>
<org.eventb.core.prPred name="p94" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)∈p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p91" org.eventb.core.predicate="vsss⊆newstateVSS∼[{FREE}]">
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="union(vsss)=p1 ‥ q1">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p96" org.eventb.core.predicate="¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))"/>
<org.eventb.core.prPred name="p95" org.eventb.core.predicate="∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬OCCUPIED=FREE"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬FREE=UNKNOW"/>
<org.eventb.core.prPred name="p93" org.eventb.core.predicate="p ‥ q⊆union(vsss∪vsss1)">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬FREE=AMBIGUOUS"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="tr∈dom(rear)⇒rear(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="front(tr)∈p ‥ q">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="len" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="newstateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="vsss" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="vsss1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p92" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬OCCUPIED=UNKNOW"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="p1≥front(tr)">
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p97" org.eventb.core.predicate="¬⊤∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨⊥∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬⊤∨¬⊤∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬⊤∨¬⊤∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})">
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q1" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttds" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="ttds1" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingTTDStates/MAtemp/EQL" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4,p5,p6,p7"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="p10,p11" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="REWRITE17" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="REWRITE18" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="REWRITE19" org.eventb.core.prHidden="p47" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="HIDE20" org.eventb.core.prHyps="p9"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p50" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p51" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p52" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p54"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p53" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p54" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p56"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p55" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p57"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p56" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p58"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p57" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p59"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p58" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p60"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p59" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p61"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p60" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬OCCUPIED=FREE">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬FREE=UNKNOW">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬FREE=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="tr∉dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬OCCUPIED=UNKNOW">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="tr∉dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="tr∉dom(rear)⇒⊤∧⊤">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="tr∉dom(rear)⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="ComputeTrainMAFollowingVSSStates/MAtemp/EQL" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4,p5,p6,p7"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="p10,p11" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="REWRITE17" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="REWRITE18" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="REWRITE19" org.eventb.core.prHidden="p47" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="HIDE20" org.eventb.core.prHyps="p9"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p50" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p51" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p52" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p54"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p53" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p54" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p56"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p55" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p57"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p56" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p58"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p57" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p59"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p58" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p60"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p59" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p61"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p60" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬tr∈dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬OCCUPIED=FREE">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬FREE=UNKNOW">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬FREE=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="tr∉dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬tr∈dom(rear)⇒front(tr)≥p0">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="p0" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="tr∈dom(front)">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬OCCUPIED=UNKNOW">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="q" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="tr∉dom(MAtemp)∨(tr∈dom(MAtemp)∧MAtemp∈TRAIN ⇸ ℙ(ℤ))">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="tr∉dom(rear)⇒⊤∧⊤">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬UNKNOW=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="¬OCCUPIED=AMBIGUOUS">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="STATES={OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="tr∉dom(rear)⇒tr∈dom(front)∧front∈TRAIN ⇸ ℤ">
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TRAIN" org.eventb.core.type="ℙ(TRAIN)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="_exitTrain/inv2_3/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr0,ttd" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p37">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p32"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p33"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p40"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p42"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p43"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p47" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p48" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p37" org.eventb.core.prHyps="p6">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p52">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees ttd,tr0)" org.eventb.core.prGoal="p52" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p53">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p53" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p57" org.eventb.core.prHyps="p54,p55,p56">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p6,p2,p4,p69,p70,p71,p72,p73,p74,p75,p76,p9,p11,p13,p15,p17,p19,p21,p23,p25,p27,p29,p31"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p57" org.eventb.core.prHyps="p1,p50,p2,p54,p3,p4,p56,p55,p21,p6">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="2.0.2.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="tr0∈(dom(front) ∖ {tr}) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="tr0∈(dom(front) ∖ {tr}) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧ttd∈TTD∧front(tr0)∈ttd⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="ttd∈TTD">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="front(tr0)∈ttd">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr0⦂TRAIN·tr0∈dom({tr} ⩤ front) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧ttd∈TTD∧({tr} ⩤ front)(tr0)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr0⦂TRAIN·tr0∈(dom(front) ∖ {tr}) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧ttd∈TTD∧front(tr0)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr0⦂TRAIN·tr0∈(dom(front) ∖ {tr}) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧ttd∈TTD∧({tr} ⩤ front)(tr0)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="_exitTrain/inv2_4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr0,ttd" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3" org.eventb.core.prSets="STATES,TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p34">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p40"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p42"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p43"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="p2">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p49">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees ttd,tr0)" org.eventb.core.prGoal="p49" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p50">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p50" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p54" org.eventb.core.prHyps="p51,p52,p53">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p2,p1,p66,p67,p68,p69,p70,p71,p72,p73,p74,p75,p5,p7,p9,p11,p13,p15,p19,p21,p23,p25,p27"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p54" org.eventb.core.prHyps="p53,p1,p51,p52,p17">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="2.0.2.0.0.0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr0⦂TRAIN·tr0∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧ttd∈TTD∧¬{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear)))(tr0) ‥ ({tr} ⩤ front)(tr0)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr0⦂TRAIN·tr0∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧ttd∈TTD∧{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear)))(tr0) ‥ ({tr} ⩤ front)(tr0)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear)))(tr0) ‥ front(tr0)∩ttd=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="union(VSS)=WAY">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="ttd∈TTD">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr0⦂TRAIN·tr0∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧ttd∈TTD∧¬{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear)))(tr0) ‥ front(tr0)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="VSS⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="tr0∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧ttd∈TTD∧¬{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear)))(tr0) ‥ front(tr0)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="tr0∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))">
<org.eventb.core.prIdent name="tr0" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="_exitTrain/inv2_5/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr1,tr2" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41" org.eventb.core.prSets="STATES,TRAIN" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p59">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p56"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p57" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p60"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p58" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p61"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p61"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p60" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p62"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p61" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p63"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p64"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p65"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p65"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p66"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p65" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p67"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p67"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p66" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p68"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p68"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p67" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p69"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p69"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p68" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p70"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p70"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p71"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p72"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p59" org.eventb.core.prHyps="p29">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p74">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p74" org.eventb.core.prHyps="p29">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p75">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1,tr2)" org.eventb.core.prGoal="p75" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p76">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p76" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p80" org.eventb.core.prHyps="p77,p78,p79">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="dc (tr∈dom(rear))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p81">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p81" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p82">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p80" org.eventb.core.prHyps="p82">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p85">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p77" org.eventb.core.prHyps="p82" org.eventb.core.prInfHyps="p83"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p78" org.eventb.core.prHyps="p82" org.eventb.core.prInfHyps="p84"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p85" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p88">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p83" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p86"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p84" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p87"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p88" org.eventb.core.prHyps="p25">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p89">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p89" org.eventb.core.prHyps="p25">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p90">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p90" org.eventb.core.prHyps="p44,p47,p4,p5,p6,p7,p8,p10,p11,p12,p82,p87,p13,p14,p45,p79,p15,p16,p46,p17,p52,p86,p22,p50,p51,p24,p25,p26,p27,p28,p49,p53,p29,p33,p42,p34,p72,p35,p54,p43,p36,p37,p38,p39,p73">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1;2;3:30000"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p91">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p80" org.eventb.core.prHyps="p91">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p94">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p77" org.eventb.core.prHyps="p91" org.eventb.core.prInfHyps="p92"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p78" org.eventb.core.prHyps="p91" org.eventb.core.prInfHyps="p93"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p94" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p90">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p92" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p93" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p96"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p90" org.eventb.core.prHyps="p44,p47,p95,p4,p5,p6,p7,p8,p10,p11,p12,p13,p14,p45,p79,p15,p16,p46,p17,p52,p22,p50,p51,p24,p25,p26,p27,p28,p49,p53,p29,p33,p42,p34,p72,p96,p35,p54,p43,p36,p37,p38,p39,p73,p91">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1;2;3:30000"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p82"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="2.1.0.1.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="2.1.0.0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="tr2∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(⊤)))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="({tr} ⩤ rear)(tr1) ‥ front(tr1)∩({tr} ⩤ rear)(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr2∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr1≠tr2⇒{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1) ‥ ({tr} ⩤ front)(tr1)∩{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear)))(tr2) ‥ ({tr} ⩤ front)(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p92" org.eventb.core.predicate="tr1∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(⊥)))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="union(VSS)=WAY"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="WAY=a ‥ b"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="tr1∈dom(rear) ∖ {tr}">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="b − a≥20"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr2∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧¬tr1=tr2⇒{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1) ‥ front(tr1)∩{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear)))(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="tr1∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(⊤)))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="¬tr1=tr2">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="tr2∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="{a,b}⊆ℕ"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1) ‥ front(tr1)∩{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear)))(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p91" org.eventb.core.predicate="¬tr∈dom(rear)"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="tr1∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="tr∈dom(rear)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr2∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧¬tr1=tr2⇒{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1) ‥ ({tr} ⩤ front)(tr1)∩{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear)))(tr2) ‥ ({tr} ⩤ front)(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="VSS⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="tr1∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr2∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧¬tr1=tr2⇒{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1) ‥ front(tr1)∩{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear)))(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p93" org.eventb.core.predicate="tr2∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(⊥)))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p94" org.eventb.core.predicate="{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(⊥))(tr1) ‥ front(tr1)∩{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(⊥))(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p95" org.eventb.core.predicate="tr1∈dom(rear)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="a&lt;b"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="tr2∈dom(rear) ∖ {tr}">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))"/>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="rear(tr1) ‥ front(tr1)∩({tr} ⩤ rear)(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p96" org.eventb.core.predicate="tr2∈dom(rear)">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(⊤))(tr1) ‥ front(tr1)∩{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(⊤))(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr2∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧¬tr1=tr2⇒{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1) ‥ front(tr1)∩{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear)))(tr2) ‥ ({tr} ⩤ front)(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.doCase"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="_exitTrain/inv2_6/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr1,tr2" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4" org.eventb.core.prSets="TRAIN">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p35">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p40"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p42"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p43"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p47" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p35" org.eventb.core.prHyps="p4">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p50">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1,tr2)" org.eventb.core.prGoal="p50" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p51">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p51" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p55" org.eventb.core.prHyps="p52,p53,p54">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p4,p1,p67,p68,p69,p70,p71,p72,p73,p74,p75,p76,p6,p8,p10,p12,p14,p16,p19,p21,p24,p26,p28"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p55" org.eventb.core.prHyps="p22,p53,p54,p1,p52,p2,p4">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="2.1.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="tr1∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr2∈(dom(front) ∖ {tr}) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧¬tr1=tr2⇒({tr} ⩤ front)(tr2)&lt;{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1)"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr2∈dom({tr} ⩤ front) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr1≠tr2⇒({tr} ⩤ front)(tr2)&lt;{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1)"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="union(VSS)=WAY">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="VSS⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="tr1∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr2∈(dom(front) ∖ {tr}) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧¬tr1=tr2⇒front(tr2)&lt;{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr2∈(dom(front) ∖ {tr}) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧¬tr1=tr2⇒front(tr2)&lt;{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1)"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="TTD⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬tr1=tr2">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="tr2∈(dom(front) ∖ {tr}) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="union(TTD)=WAY">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="front(tr2)&lt;{TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear)))(tr1)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="_exitTrain/inv2_7/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="tr1,tr2,ttd" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3" org.eventb.core.prSets="TRAIN" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p34">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE9" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE10" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE12" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE15" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prHypAction name="REWRITE16" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃vsss,vsss1,newstateVSS·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧vsss1⊆VSS∧union(vsss1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(vsss∪vsss1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃ttds,ttds1·[[11]]∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧ttds1⊆TTD∧union(ttds1)=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union(ttds∪ttds1)∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧[[11]]∈connectedTrain∼[{TRUE}]∧[[2]]⊆[[0]]∼[{FREE}]∧union([[2]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[1]]⊆VSS∧union([[1]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[2]]∪[[1]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈connectedTrain∼[{TRUE}]∧[[1]]⊆stateTTD∼[{FREE}]∧union([[1]])=[[4]] ‥ [[3]]∧[[4]]≥front([[11]])∧[[0]]⊆TTD∧union([[0]])=[[5]] ‥ [[4]] − 1∧([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])∧(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])∧[[10]] ‥ [[9]]⊆union([[1]]∪[[0]])∧[[10]] ‥ [[9]]∩union(ran({[[11]]} ⩤ MA))=∅∧front([[11]])∈[[10]] ‥ [[9]]∧([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])∧[[8]]∈ℕ1∧front([[11]])+[[8]]∈WAY∧¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p40"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(¬[[11]]∈dom(rear)⇒front([[11]])≥[[5]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p42"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p43"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[11]]∈dom(rear)⇒rear([[11]])∈[[10]] ‥ [[9]])" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬[[11]]∈dom(({[[11]]} ⩤ MAtemp)∪{[[11]] ↦ [[10]] ‥ [[9]]})" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="p2">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p49">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p49" org.eventb.core.prHyps="p2">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p50">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees tr1,tr2,ttd)" org.eventb.core.prGoal="p50" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p51">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p51" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p57" org.eventb.core.prHyps="p52,p53,p54,p55,p56">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="dc (tr∈dom(rear))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p58">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p58" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p59">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p52" org.eventb.core.prHyps="p59" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p55" org.eventb.core.prHyps="p59" org.eventb.core.prInfHyps="p61"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p60" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p61" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p9,p15,p64,p65,p66,p67,p68,p69,p70,p71,p11,p72,p73,p13,p74,p75,p20,p22,p76,p77,p78,p79,p80,p18,p25,p2,p81,p5,p82,p27,p7,p83,p84,p85"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p57" org.eventb.core.prHyps="p62,p54,p56,p1,p53,p2,p23,p63">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p86">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p52" org.eventb.core.prHyps="p86" org.eventb.core.prInfHyps="p87"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p55" org.eventb.core.prHyps="p86" org.eventb.core.prInfHyps="p88"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p87" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p88" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p9,p15,p64,p65,p66,p67,p68,p69,p70,p71,p11,p72,p73,p13,p74,p75,p20,p22,p76,p77,p78,p79,p80,p18,p25,p2,p81,p5,p82,p27,p7,p83,p84,p85"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="CVC4" org.eventb.core.prGoal="p57" org.eventb.core.prHyps="p54,p56,p1,p90,p89,p53,p2,p23">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R1000"/>
<org.eventb.core.prString name=".config_id" org.eventb.core.prSValue="CVC4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p59"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="3.1.0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="3.0.4.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.14"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.15"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.11"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.12"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.8"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2.6"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3.7"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1.2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1.3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="10.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="9.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="TTD" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="WAY" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="connectedTrain" org.eventb.core.type="ℙ(TRAIN×BOOL)"/>
<org.eventb.core.prIdent name="front" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="rear" org.eventb.core.type="ℙ(TRAIN×ℤ)"/>
<org.eventb.core.prIdent name="tr" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈(dom(front) ∖ {tr}) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr2∈(dom(front) ∖ {tr}) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧¬tr1=tr2∧ttd∈TTD∧({tr} ⩤ front)(tr1)∈ttd⇒¬({tr} ⩤ front)(tr2)∈ttd"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="∀vss⦂ℙ(ℤ)·vss∈VSS⇒(∃p⦂ℤ,q⦂ℤ,ttd⦂ℙ(ℤ)·ttd∈TTD∧p ‥ q⊆ttd∧p&lt;q∧vss=p ‥ q)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ)·ttd∈TTD⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p&lt;q∧ttd=p ‥ q)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="tr1∈(dom(front) ∖ {tr}) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="inter(VSS)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="tr2∈(dom(front) ∖ {tr}) ∖ (dom(rear) ∖ {tr})">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="tr∈dom(rear)"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="connectedTrain∈TRAIN ⇸ BOOL"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="inter(TTD)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="union(VSS)=WAY">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="WAY=a ‥ b">
<org.eventb.core.prIdent name="a" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="b" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈(dom(front) ∖ {tr}) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr2∈(dom(front) ∖ {tr}) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬({tr} ⩤ front)(tr2)∈ttd"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="VSS≠(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧¬tr1=tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2⇒front(tr2)&lt;rear(tr1)"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="partition(STATES,{OCCUPIED},{FREE},{UNKNOW},{AMBIGUOUS})">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="tr2∈(dom(front) ∖ {tr}) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(⊤)))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒front(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="ttd∈TTD">
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧rear(tr) ‥ front(tr)∩ttd≠(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MA)∧len∈ℕ1∧front(tr)+len∈MA(tr)⇒front(tr)+len=front(tr)+len∧(tr∈dom(rear)⇒{TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear}={TRUE ↦ rear{tr ↦ rear(tr)+len},FALSE ↦ rear})">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="VSS⊆ℙ1(WAY)">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="tr2∈(dom(front) ∖ {tr}) ∖ dom(rear)">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="MA∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧tr1≠tr2∧ttd∈TTD∧front(tr1)∈ttd⇒front(tr2)∉ttd"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧tr1≠tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·{tr1,tr2}⊆dom(MA)∧¬tr1=tr2⇒MA(tr1)∩MA(tr2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀tr⦂TRAIN,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∩dom(MAtemp)∧front(tr)∈MAtemp(tr)∧(tr∈dom(rear)⇒rear(tr)∈MAtemp(tr))∧MAtemp(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MA)∪{tr ↦ MAtemp(tr)})∧len∈ℕ1∧front(tr)+len∈MAtemp(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="front(tr1)∈ttd">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="tr∈connectedTrain∼[{TRUE}]"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)∩dom(MA)⇒rear(tr)∈MA(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MAtemp)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MAtemp(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="TTD⊆ℙ1(WAY)"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="stateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateVSS" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY⇒tr∈connectedTrain∼[{TRUE}]∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="¬tr1=tr2">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="tr1∈(dom(front) ∖ {tr}) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="tr2∈(dom(front) ∖ {tr}) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(⊥)))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧p ‥ q⊆WAY∧p≤q∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈p ‥ q⇒tr∈connectedTrain∼[{TRUE}]∩dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∧front(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∧(tr∈dom(rear)⇒rear(tr)∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr))∧(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom(front) ∖ dom(rear)∧tr2∈dom(front) ∖ dom(rear)∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒p ‥ q=p ‥ q">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬(tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈(dom(front) ∖ {tr}) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr2∈(dom(front) ∖ {tr}) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="tr1∈(dom(front) ∖ {tr}) ∖ (dom(rear) ∖ {tr})">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN·tr1∈dom(rear)∧tr2∈dom(rear)∧tr1≠tr2⇒rear(tr1) ‥ front(tr1)∩rear(tr2) ‥ front(tr2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(front) ∖ dom(rear)∧ttd∈TTD∧front(tr)∈ttd⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="tr1∈(dom(front) ∖ {tr}) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(⊥)))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨¬p1≥front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨¬(tr∈dom(rear)⇒rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="tr1∈(dom(front) ∖ {tr}) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr2∈(dom(front) ∖ {tr}) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧¬tr1=tr2∧ttd∈TTD∧front(tr1)∈ttd⇒¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="tr2∈(dom(front) ∖ {tr}) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="rear∈dom(connectedTrain) ⇸ WAY"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬(newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="union(TTD)=WAY"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀tr1⦂TRAIN,tr2⦂TRAIN,ttd⦂ℙ(ℤ)·tr1∈dom({tr} ⩤ front) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr2∈dom({tr} ⩤ front) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(tr∈dom(rear))))∧tr1≠tr2∧ttd∈TTD∧({tr} ⩤ front)(tr1)∈ttd⇒({tr} ⩤ front)(tr2)∉ttd"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="MAtemp∈dom(connectedTrain) ⇸ ℙ(WAY)">
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀ttd⦂ℙ(ℤ),tr⦂TRAIN·tr∈dom(rear)∧ttd∈TTD∧¬rear(tr) ‥ front(tr)∩ttd=(∅ ⦂ ℙ(ℤ))⇒stateTTD(ttd)=OCCUPIED">
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="front∈dom(connectedTrain) → WAY"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒tr∈connectedTrain∼[{TRUE}]∧(p ‥ q⊆WAY∧p≤q)∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧len∈ℕ1∧front(tr)+len∈WAY">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(MAtemp)∨MAtemp(tr)≠p ‥ q)⇒¬(∃ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(tr∉dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(tr∉dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})∨(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q})(tr)≠p ‥ q))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="stateTTD∈TTD → {OCCUPIED,FREE}">
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨¬(¬tr∈dom(rear)⇒front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨¬(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨¬p1≥front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧¬rear(tr)≥p0)∨(¬tr∈dom(rear)∧¬front(tr)≥p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨¬¬tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬TTD=(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ·tr∈connectedTrain∼[{TRUE}]∧ttds⊆stateTTD∼[{FREE}]∧union(ttds)=p1 ‥ q1∧p1≥front(tr)∧ttds1⊆TTD∧union(ttds1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(ttds∪ttds1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·¬newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∨¬tr∈connectedTrain∼[{TRUE}]∨¬vsss⊆newstateVSS∼[{FREE}]∨¬union(vsss)=p1 ‥ q1∨p1&lt;front(tr)∨¬vsss1⊆VSS∨¬union(vsss1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(vsss∪vsss1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬VSS=(∅ ⦂ ℙ(ℙ(ℤ)))">
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(rear)⇒rear(tr)&lt;front(tr)"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="∀tr⦂TRAIN·tr∈dom(MA)⇒(∃p⦂ℤ,q⦂ℤ·p ‥ q⊆WAY∧p≤q∧MA(tr)=p ‥ q)">
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀tr⦂TRAIN,p⦂ℤ,q⦂ℤ,len⦂ℤ,vsss⦂ℙ(ℙ(ℤ)),vsss1⦂ℙ(ℙ(ℤ)),p0⦂ℤ,p1⦂ℤ,q1⦂ℤ,newstateVSS⦂ℙ(ℙ(ℤ)×STATES)·newstateVSS∈VSS → {OCCUPIED,FREE,UNKNOW,AMBIGUOUS}∧tr∈connectedTrain∼[{TRUE}]∧vsss⊆newstateVSS∼[{FREE}]∧union(vsss)=p1 ‥ q1∧p1≥front(tr)∧vsss1⊆VSS∧union(vsss1)=p0 ‥ p1 − 1∧(tr∈dom(rear)⇒rear(tr)≥p0)∧(¬tr∈dom(rear)⇒front(tr)≥p0)∧p ‥ q⊆union(vsss∪vsss1)∧p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∧front(tr)∈p ‥ q∧(tr∈dom(rear)⇒rear(tr)∈p ‥ q)∧len∈ℕ1∧front(tr)+len∈WAY∧(¬tr∈dom(MAtemp)∨¬MAtemp(tr)=p ‥ q)⇒(∀ttds⦂ℙ(ℙ(ℤ)),ttds1⦂ℙ(ℙ(ℤ))·¬tr∈connectedTrain∼[{TRUE}]∨¬ttds⊆stateTTD∼[{FREE}]∨¬union(ttds)=p1 ‥ q1∨p1&lt;front(tr)∨¬ttds1⊆TTD∨¬union(ttds1)=p0 ‥ p1 − 1∨(tr∈dom(rear)∧rear(tr)&lt;p0)∨(¬tr∈dom(rear)∧front(tr)&lt;p0)∨¬p ‥ q⊆union(ttds∪ttds1)∨¬p ‥ q∩union(ran({tr} ⩤ MA))=(∅ ⦂ ℙ(ℤ))∨¬front(tr)∈p ‥ q∨(tr∈dom(rear)∧¬rear(tr)∈p ‥ q)∨¬len∈ℕ1∨¬front(tr)+len∈WAY∨tr∈dom(({tr} ⩤ MAtemp)∪{tr ↦ p ‥ q}))">
<org.eventb.core.prIdent name="AMBIGUOUS" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="FREE" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="MA" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="MAtemp" org.eventb.core.type="ℙ(TRAIN×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="OCCUPIED" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="STATES" org.eventb.core.type="ℙ(STATES)"/>
<org.eventb.core.prIdent name="UNKNOW" org.eventb.core.type="STATES"/>
<org.eventb.core.prIdent name="VSS" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="stateTTD" org.eventb.core.type="ℙ(ℙ(ℤ)×STATES)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="tr1∈(dom(front) ∖ {tr}) ∖ dom({TRUE ↦ {tr} ⩤ rear,FALSE ↦ rear}(bool(⊤)))">
<org.eventb.core.prIdent name="tr1" org.eventb.core.type="TRAIN"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="TTD≠(∅ ⦂ ℙ(ℙ(ℤ)))"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="¬front(tr2)∈ttd">
<org.eventb.core.prIdent name="tr2" org.eventb.core.type="TRAIN"/>
<org.eventb.core.prIdent name="ttd" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="¬tr∈dom(rear)"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.doCase"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.smt.core.externalSMT"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
</org.eventb.core.prProof>
</org.eventb.core.prFile>
